(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"004a":function(e,t,n){n("7514"),e.exports=n("8378").Array.find},"01f9":function(e,t,n){"use strict";var i=n("2d00"),r=n("5ca1"),o=n("2aba"),s=n("32e9"),a=n("84f2"),l=n("41a0"),u=n("7f20"),c=n("38fd"),h=n("2b4c")("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",f="keys",v="values",m=function(){return this};e.exports=function(e,t,n,g,y,b,_){l(n,t,g);var w,E,C,T=function(e){if(!d&&e in I)return I[e];switch(e){case f:return function(){return new n(this,e)};case v:return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",x=y==v,k=!1,I=e.prototype,P=I[h]||I[p]||y&&I[y],N=P||T(y),A=y?x?T("entries"):N:void 0,O="Array"==t&&I.entries||P;if(O&&(C=c(O.call(new e)),C!==Object.prototype&&C.next&&(u(C,S,!0),i||"function"==typeof C[h]||s(C,h,m))),x&&P&&P.name!==v&&(k=!0,N=function(){return P.call(this)}),i&&!_||!d&&!k&&I[h]||s(I,h,N),a[t]=N,a[S]=m,y)if(w={values:x?N:T(v),keys:b?N:T(f),entries:A},_)for(E in w)E in I||o(I,E,w[E]);else r(r.P+r.F*(d||k),t,w);return w}},"02f4":function(e,t,n){var i=n("4588"),r=n("be13");e.exports=function(e){return function(t,n){var o,s,a=String(r(t)),l=i(n),u=a.length;return l<0||l>=u?e?"":void 0:(o=a.charCodeAt(l),o<55296||o>56319||l+1===u||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):s-56320+(o-55296<<10)+65536)}}},"044b":function(e,t){function n(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function i(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&n(e.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||i(e)||!!e._isBuffer)}},"06db":function(e,t,n){"use strict";var i=n("23c6"),r={};r[n("2b4c")("toStringTag")]="z",r+""!="[object z]"&&n("2aba")(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},"0a06":function(e,t,n){"use strict";var i=n("2444"),r=n("c532"),o=n("f6b4"),s=n("5270");function a(e){this.defaults=e,this.interceptors={request:new o,response:new o}}a.prototype.request=function(e){"string"===typeof e&&(e=r.merge({url:arguments[0]},arguments[1])),e=r.merge(i,{method:"get"},this.defaults,e),e.method=e.method.toLowerCase();var t=[s,void 0],n=Promise.resolve(e);this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});while(t.length)n=n.then(t.shift(),t.shift());return n},r.forEach(["delete","get","head","options"],function(e){a.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}}),r.forEach(["post","put","patch"],function(e){a.prototype[e]=function(t,n,i){return this.request(r.merge(i||{},{method:e,url:t,data:n}))}}),e.exports=a},"0a49":function(e,t,n){var i=n("9b43"),r=n("626a"),o=n("4bf8"),s=n("9def"),a=n("cd1c");e.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,h=6==e,d=5==e||h,p=t||a;return function(t,a,f){for(var v,m,g=o(t),y=r(g),b=i(a,f,3),_=s(y.length),w=0,E=n?p(t,_):l?p(t,0):void 0;_>w;w++)if((d||w in y)&&(v=y[w],m=b(v,w,g),e))if(n)E[w]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:E.push(v)}else if(c)return!1;return h?-1:u||c?c:E}}},"0d58":function(e,t,n){var i=n("ce10"),r=n("e11e");e.exports=Object.keys||function(e){return i(e,r)}},"0df6":function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"0e88":function(e,t,n){},1071:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container bg-primary"},[n("button",{staticClass:"btn col-12 btn-lg btn-success mt-2",on:{click:function(t){return e.save()}}},[e._v("Сохранить"),n("i",{staticClass:"icon icon-upload ml-2"})]),n("button",{staticClass:"btn btn-primary col-12 mt-2",on:{click:function(t){e.showTimers=!e.showTimers}}},[e._v(e._s(e.showTimers?"Скрыть расписание звонков":"Показать расписание звонков"))]),e.showTimers?n("div",{staticClass:"timers columns  mb-2"},[n("div",{staticClass:"col-6"},[e._v("Длительность пары в минутах")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.timers[1].duration,expression:"timers[1].duration",modifiers:{number:!0}}],staticClass:"col-6",domProps:{value:e.timers[1].duration},on:{input:function(t){t.target.composing||e.$set(e.timers[1],"duration",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),n("span",{staticClass:"col-2"},[e._v("Номер пары")]),n("span",{staticClass:"col-4"},[e._v("Начало(часы)")]),n("span",{staticClass:"col-5"},[e._v("Начало(минуты)")]),e._l(e.timers[1],function(t,i){return"duration"!=i?n("div",{staticClass:"columns col-12 ml-2 pt-1"},[n("span",{staticClass:"col-1  form-label"},[e._v(e._s(i)+" ")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t[0],expression:"item[0]",modifiers:{number:!0}}],staticClass:"col-5 mr-2  form-input",attrs:{type:"number"},domProps:{value:t[0]},on:{input:function(n){n.target.composing||e.$set(t,0,e._n(n.target.value))},blur:function(t){return e.$forceUpdate()}}}),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t[1],expression:"item[1]",modifiers:{number:!0}}],staticClass:"col-5  form-input",attrs:{type:"number"},domProps:{value:t[1]},on:{input:function(n){n.target.composing||e.$set(t,1,e._n(n.target.value))},blur:function(t){return e.$forceUpdate()}}})]):e._e()})],2):e._e(),n("div",{staticClass:"subjects"},[n("div",{staticClass:"form-group columns mx-2 pt-0"},[n("label",{staticClass:"form-label col-12",attrs:{for:"subjects"}},[e._v("Добавление нового предмета")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.subject,expression:"subject"}],staticClass:"form-input col-8",attrs:{type:"text",id:"subjects",placeholder:"Введите название предмета"},domProps:{value:e.subject},on:{input:function(t){t.target.composing||(e.subject=t.target.value)}}}),n("button",{staticClass:"btn btn-secondary col-4",on:{click:function(t){return e.addSubject(e.subject)}}},[e._v("Добавить")])])]),n("div",{staticClass:"subgroups pb-2"},[n("div",{staticClass:"form-group columns mx-2 pt-0"},[n("label",{staticClass:"form-label col-12",attrs:{for:"subgroups"}},[e._v("Добавление новой подгруппы")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.subgroup,expression:"subgroup"}],staticClass:"form-input col-8",attrs:{type:"text",id:"subgroups",placeholder:"Введите название подгруппы"},domProps:{value:e.subgroup},on:{input:function(t){t.target.composing||(e.subgroup=t.target.value)}}}),n("button",{staticClass:"btn btn-secondary col-4",on:{click:function(t){return e.addSubgroup(e.subgroup)}}},[e._v("Добавить")])])]),n("div",{staticClass:"wrapper mt-2 swiper-container"},[n("button",{staticClass:"slide-buttons slide-left",attrs:{id:"prevButton"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],staticClass:"my-slider swiper-wrapper",attrs:{id:"blocks"}},e._l(e.daysOfWeek,function(t){return n("div",{staticClass:"block  swiper-slide",attrs:{id:t}},[n("h1",[e._v(e._s(e.daysOfWeekRU[t]))]),n("ol",e._l(e.schedule[t],function(i,r){return n("li",{staticClass:"mt-0"},[n("div",{staticClass:"form-group columns mx-2 pt-0"},[n("span",{staticClass:"label col-11"},[e._v("Название предмета")]),n("span",{staticClass:"label label-error",on:{click:function(n){return e.del(t,r)}}},[n("i",{staticClass:"icon icon-cross"})]),n("dropdown",{staticClass:"col-12 my-1 align-left",attrs:{"data-type":"class",list:e.subjects},on:{custom:function(e){i.class=e.id}}},[e._v(e._s(null===e.subjects[i.class].title?"Выберите предмет":e.subjects[i.class].title))]),n("span",{staticClass:"label col-3"},[e._v("Номер")]),n("span",{staticClass:"label col-3"},[e._v("Кабинет")]),n("span",{staticClass:"label col-6"},[e._v("Тип пары")]),n("input",{directives:[{name:"model",rawName:"v-model",value:i.num,expression:"item.num"}],staticClass:"form-input col-3  my-1",attrs:{type:"number",placeholder:"Номер"},domProps:{value:i.num},on:{input:function(t){t.target.composing||e.$set(i,"num",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:i.room,expression:"item.room"}],staticClass:"form-input col-3  my-1",attrs:{type:"text",placeholder:"Кабинет"},domProps:{value:i.room},on:{input:function(t){t.target.composing||e.$set(i,"room",t.target.value)}}}),n("dropdown",{staticClass:"col-6 my-1",attrs:{"data-type":"class",list:e.types},on:{custom:function(e){i.type=e.id}}},[e._v(e._s(null===e.types[i.type].title?"Выберите тип пары":e.types[i.type].title))]),n("checkBoxDropdown",{staticClass:"col-6 my-1",attrs:{"data-type":"class",list:e.subgroups,values:i.subgroups},on:{custom:function(e){i.subgroups=e}}},[e._v("Выберите подгруппы")]),n("checkBoxDropdown",{staticClass:"col-6 my-1",attrs:{"data-type":"class",list:[].concat(e.weeks),values:i.parity},on:{custom:function(e){i.parity=e}}},[e._v("Четности")])],1)])}),0),n("button",{staticClass:"btn btn-lg col-12 mt-2",on:{click:function(n){return e.addClass(t)}}},[e._v("Добавить")])])}),0),n("button",{staticClass:"slide-buttons slide-right",attrs:{id:"nextButton"}})]),e.loaded?e._e():n("div",{staticClass:"loading loading-lg"})])},r=[],o=(n("ac6a"),n("2b0e")),s=n("59ca"),a=n.n(s),l=n("41d6"),u=(n("66ce"),n("ea7b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown dropdown-right"},[n("span",{staticClass:"btn btn-secondary dropdown-toggle col-12 text-left",attrs:{tabindex:"0"},on:{click:function(t){e.focus=!e.focus}},model:{value:e.object.title,callback:function(t){e.$set(e.object,"title",t)},expression:"object.title"}},[e._t("default"),n("i",{staticClass:"icon icon-caret text-right"})],2),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.focus,expression:"focus"}],staticClass:"list"},e._l(e.list,function(t){return n("li",{staticClass:"text-dark",on:{click:function(n){return e.select(t)}}},[e._v(e._s(t.title))])}),0)])}),c=[],h={name:"dropdown",data(){return{focus:!1,object:{title:"",id:""}}},props:{list:Array,value:String},computed:{},methods:{func(){this.$emit("custom",this.object)},select(e){this.object=e,this.focus=!1,this.func()}}},d=h,p=(n("dd90"),n("2877")),f=Object(p["a"])(d,u,c,!1,null,"733f96e5",null),v=f.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown dropdown-right"},[n("span",{staticClass:"btn btn-secondary dropdown-toggle col-12 text-left",attrs:{tabindex:"0"},on:{click:function(t){e.focus=!e.focus}},model:{value:e.object.title,callback:function(t){e.$set(e.object,"title",t)},expression:"object.title"}},[e._t("default"),n("i",{staticClass:"icon icon-caret text-right"})],2),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.focus,expression:"focus"}],staticClass:"list"},e._l(e.list,function(t,i){return n("li",{staticClass:"text-dark"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.newList[i].value},on:{click:function(t){return e.select(i)}}}),n("i",{staticClass:"form-icon"}),e._v(e._s(t.title)+"\n      ")])}),0)])},g=[],y={name:"checkBoxDropdown",data(){return{focus:!1,object:{title:"",id:""},newList:[]}},props:{list:Array,value:String,values:Array},computed:{},beforeMount(){for(let e=0;e<this.list.length;e++)this.newList.push({id:e,value:!1}),this.values.includes(e)?this.newList[e].value=!0:this.newList[e].value=!1},methods:{func(){this.$emit("custom",[...this.result])},select(e){this.newList[e].value=!this.newList[e].value,this.result=[9999];for(let t of this.newList)t.value&&this.result.push(t.id);this.func()}}},b=y,_=(n("a888"),Object(p["a"])(b,m,g,!1,null,"233b7251",null)),w=_.exports;let E={apiKey:"AIzaSyA6hIR7mCJwccJ6ndZZluTxo4WQi5olfkw",authDomain:"schedule-480c2.firebaseapp.com",databaseURL:"https://schedule-480c2.firebaseio.com",projectId:"schedule-480c2",storageBucket:"schedule-480c2.appspot.com",messagingSenderId:"581207968061"};a.a.apps.length||a.a.initializeApp(E);var C={data(){return{loaded:!1,weeks:[{title:"Числитель",id:0},{title:"Знаменатель",id:1}],schedule:{},timers:{},subgroups:{},title:"",subjects:[{id:0,title:"Первая подгруппа"}],types:[{id:0,title:"Лекция"},{id:1,title:"Практика"},{id:2,title:"Лабораторные раб."}],subject:"",subgroup:"",daysOfWeek:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],daysOfWeekRU:{monday:"Понедельник",tuesday:"Вторник",wednesday:"Среда",thursday:"Четверг",friday:"Пятница",saturday:"Суббота",sunday:"Воскресенье"},showTimers:!1}},methods:{select(e,t){console.log(event.target)},checkParity(e){return e.parity.includes(this.parity)},checkSubGroups(e){return e.subgroups.includes(this.subgroup)},addClass(e){let t=Object.keys(this.schedule[e]).length;console.log(t);let n={num:t+1,class:0,type:0,room:"",parity:[0],subgroups:[0]};o["a"].set(this.schedule[e],t,n)},del(e,t){o["a"].delete(this.schedule[e],t)},addSubject(e){if(console.log(e),!e.length)return 0;let t=Object.keys(this.subjects).length,n={id:t,title:e};o["a"].set(this.subjects,t,n),this.subject=""},addSubgroup(e){if(!e.length)return 0;let t=Object.keys(this.subgroups).length,n={id:t,title:e};o["a"].set(this.subgroups,t,n),this.subgroup=""},save(){let e=0,t=0,n="/schedules/"+this.$route.query.id,i=a.a.database().ref(n),r=this;a.a.auth().onAuthStateChanged(function(n){console.log(r.schedule,r.subjects,r.subgroups),n&&(e=n.uid,i.on("value",function(e){let n=e.val();t=n.creator},function(e){console.log("Error: "+e.code)}),e===t&&(i.update({schedule:r.schedule,subjects:r.subjects,subgroups:r.subgroups,timers:r.timers}),console.log("Сохранено")))})}},computed:{},mounted(){const e={speed:400,spaceBetween:20,navigation:{nextEl:"#nextButton",prevEl:"#prevButton"},fadeEffect:{crossFade:!0}};new l["a"](".swiper-container",e);let t=this.$route.query.id,n=`schedules/${t}`;console.log(n);let i,r=a.a.database().ref(n),o=this;r.on("value",function(e){i=e.val(),o.title=i.title,o.schedule=i.schedule,o.timers=i.timers,o.subgroups=i.subgroups,o.subjects=i.subjects,o.loaded=!0,console.log(i)},function(e){console.log("Error: "+e.code)})},components:{dropdown:v,checkBoxDropdown:w}},T=C,S=(n("a5e2"),Object(p["a"])(T,i,r,!1,null,"1121e009",null));t["default"]=S.exports},1169:function(e,t,n){var i=n("2d95");e.exports=Array.isArray||function(e){return"Array"==i(e)}},"11e9":function(e,t,n){var i=n("52a7"),r=n("4630"),o=n("6821"),s=n("6a99"),a=n("69a8"),l=n("c69a"),u=Object.getOwnPropertyDescriptor;t.f=n("9e1e")?u:function(e,t){if(e=o(e),t=s(t,!0),l)try{return u(e,t)}catch(n){}if(a(e,t))return r(!i.f.call(e,t),e[t])}},1495:function(e,t,n){var i=n("86cc"),r=n("cb7c"),o=n("0d58");e.exports=n("9e1e")?Object.defineProperties:function(e,t){r(e);var n,s=o(t),a=s.length,l=0;while(a>l)i.f(e,n=s[l++],t[n]);return e}},"14b9":function(e,t,n){var i=n("5ca1");i(i.P,"String",{repeat:n("9744")})},"19c6":function(e,t,n){n("f559"),e.exports=n("8378").String.startsWith},"1d2b":function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},"20d6":function(e,t,n){"use strict";var i=n("5ca1"),r=n("0a49")(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),i(i.P+i.F*s,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"230e":function(e,t,n){var i=n("d3f4"),r=n("7726").document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},"23c6":function(e,t,n){var i=n("2d95"),r=n("2b4c")("toStringTag"),o="Arguments"==i(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),r))?n:o?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},2444:function(e,t,n){"use strict";(function(t){var i=n("c532"),r=n("c8af"),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function a(){var e;return"undefined"!==typeof XMLHttpRequest?e=n("b50d"):"undefined"!==typeof t&&(e=n("b50d")),e}var l={adapter:a(),transformRequest:[function(e,t){return r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(e){l.headers[e]={}}),i.forEach(["post","put","patch"],function(e){l.headers[e]=i.merge(o)}),e.exports=l}).call(this,n("4362"))},2621:function(e,t){t.f=Object.getOwnPropertySymbols},"27a6":function(e,t,n){n("20d6"),e.exports=n("8378").Array.findIndex},"2aba":function(e,t,n){var i=n("7726"),r=n("32e9"),o=n("69a8"),s=n("ca5a")("src"),a="toString",l=Function[a],u=(""+l).split(a);n("8378").inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,n,a){var l="function"==typeof n;l&&(o(n,"name")||r(n,"name",t)),e[t]!==n&&(l&&(o(n,s)||r(n,s,e[t]?""+e[t]:u.join(String(t)))),e===i?e[t]=n:a?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,a,function(){return"function"==typeof this&&this[s]||l.call(this)})},"2aeb":function(e,t,n){var i=n("cb7c"),r=n("1495"),o=n("e11e"),s=n("613b")("IE_PROTO"),a=function(){},l="prototype",u=function(){var e,t=n("230e")("iframe"),i=o.length,r="<",s=">";t.style.display="none",n("fab2").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(r+"script"+s+"document.F=Object"+r+"/script"+s),e.close(),u=e.F;while(i--)delete u[l][o[i]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(a[l]=i(e),n=new a,a[l]=null,n[s]=e):n=u(),void 0===t?n:r(n,t)}},"2b4c":function(e,t,n){var i=n("5537")("wks"),r=n("ca5a"),o=n("7726").Symbol,s="function"==typeof o,a=e.exports=function(e){return i[e]||(i[e]=s&&o[e]||(s?o:r)("Symbol."+e))};a.store=i},"2d00":function(e,t){e.exports=!1},"2d3b":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("h3",[e._v("Поиск расписания")]),n("selectInput",{attrs:{"data-type":"country",list:e.list.countries},on:{custom:e.select}},[e._v("Страна")]),n("selectInput",{directives:[{name:"show",rawName:"v-show",value:e.vkapi.country.id,expression:"vkapi.country.id"}],attrs:{"data-type":"city",list:e.list.cities,placeholder:"Начните вводить город"},on:{custom:e.select}},[e._v("Город")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.vkapi.city.id,expression:"vkapi.city.id"}],staticClass:"form-group select-type"},[n("label",{staticClass:"form-radio form-inline"},[n("input",{attrs:{type:"radio",name:"type",checked:""},on:{input:function(t){e.vkapi.type=!1}}}),n("i",{staticClass:"form-icon"}),e._v("Школа или СУЗ\n    ")]),n("label",{staticClass:"form-radio form-inline"},[n("input",{attrs:{type:"radio",name:"type"},on:{input:function(t){e.vkapi.type=!0}}}),n("i",{staticClass:"form-icon"}),e._v("ВУЗ\n    ")])]),n("selectInput",{directives:[{name:"show",rawName:"v-show",value:e.vkapi.city.id&&!this.vkapi.type,expression:"vkapi.city.id && !this.vkapi.type"}],attrs:{"data-type":"school",list:e.list.schools,placeholder:"Начните вводить название школы или СУЗа"},on:{custom:e.select}},[e._v("Школа")]),n("selectInput",{directives:[{name:"show",rawName:"v-show",value:e.vkapi.city.id&&this.vkapi.type,expression:"vkapi.city.id && this.vkapi.type"}],attrs:{"data-type":"university",list:e.list.universities,placeholder:"Начните вводить название ВУЗа"},on:{custom:e.select}},[e._v("ВУЗ")]),n("selectInput",{directives:[{name:"show",rawName:"v-show",value:e.vkapi.university.id&&this.vkapi.type,expression:"vkapi.university.id && this.vkapi.type"}],attrs:{"data-type":"faculty",list:e.list.faculties,placeholder:"Выберите факультет"},on:{custom:e.select}},[e._v("Факультет")]),n("button",{staticClass:"btn btn-primary search",attrs:{disabled:!(e.vkapi.school.id&&!e.vkapi.type||e.vkapi.faculty.id&&e.vkapi.type)},on:{click:function(t){return e.search()}}},[e._v("Поиск")]),e.loaded?e._e():n("div",{staticClass:"loading loading-lg my-2"}),e.resultNotFound?n("div",{staticClass:"text-center my-2"},[e._v("\n    Расписаний по запросу не найдено, но Вы можете "),n("a",{staticClass:"label",attrs:{href:"./add"}},[e._v("создать")]),e._v(" своё!\n  ")]):e._e(),this.items.length>0?n("table",{staticClass:"table out"},[e._m(0),n("tbody",e._l(e.items,function(t){return n("tr",{staticClass:"active"},[n("td",[n("a",{attrs:{href:"./schedule?id="+t.href}},[e._v(e._s(t.name))])]),n("td",[e._v(e._s(e.getDate(t.date)))])])}),0)]):e._e()],1)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Название")]),n("th",[e._v("Дата создания")])])])}],o=(n("ac6a"),n("2b0e")),s=n("bc3a"),a=n.n(s),l=n("4fbf"),u=n.n(l),c=n("a7fe"),h=n.n(c),d=n("59ca"),p=n.n(d),f=(n("66ce"),n("ea7b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-group"},[e.$slots.default?n("label",{staticClass:"form-label",attrs:{for:"country"}},[e._t("default")],2):e._e(),n("div",{staticClass:"has-icon-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.object.title,expression:"object.title"}],staticClass:"form-input",attrs:{id:e.dataType,placeholder:e.placeholder,autocomplete:"new-password"},domProps:{value:e.object.title},on:{input:[function(t){t.target.composing||e.$set(e.object,"title",t.target.value)},e.func],click:e.func,focus:function(t){e.focus=!0},blur:function(t){return e.blur()}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:e.focus,expression:"focus"}],staticClass:"form-icon icon icon-cross",on:{click:function(t){return e.clear()}}})]),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.focus,expression:"focus"}],staticClass:"list"},e._l(e.list,function(t){return n("li",{staticClass:"text-dark",attrs:{value:t.id},on:{click:function(n){return e.select(t)}}},[e._v(e._s(t.title)),n("span",{staticClass:"region"},[e._v(e._s(e.getRegion(t)))])])}),0)])}),v=[],m={name:"selectInput",data(){return{focus:!1,object:{title:"",id:""}}},props:{dataType:String,list:Array,value:String,placeholder:String},computed:{},methods:{func(){console.log(this.object,this.$props),this.$emit("custom",this.object,this.$props.dataType)},select(e){this.focus=!0,this.object={id:e.id,title:e.title},this.focus=!1,this.func()},clear(){this.object={id:"0",title:""}},blur(){let e=this;setTimeout(function(){e.focus=!1},300)},getRegion(e){let t=e.region?", "+e.region:"",n=e.area?","+e.area:"";return`${t} ${n}`}}},g=m,y=(n("d2f1"),n("2877")),b=Object(y["a"])(g,f,v,!1,null,"2d471c16",null),_=b.exports;let w={apiKey:"AIzaSyA6hIR7mCJwccJ6ndZZluTxo4WQi5olfkw",authDomain:"schedule-480c2.firebaseapp.com",databaseURL:"https://schedule-480c2.firebaseio.com",projectId:"schedule-480c2",storageBucket:"schedule-480c2.appspot.com",messagingSenderId:"581207968061"};p.a.apps.length||p.a.initializeApp(w),o["a"].use(h.a,a.a);var E={data(){return{items:[],list:{countries:[{id:"1",title:"Россия"},{id:"2",title:"Украина"},{id:"3",title:"Беларусь"}],cities:[],schools:[],universities:[],faculties:[],chairs:[]},focus:{type:!1,country:!1,city:!1,school:!1,university:!1,faculty:!1,chair:!1},vkapi:{type:"",country:{id:"",title:""},city:{id:"",title:""},school:{id:"",title:""},university:{id:"",title:""},faculty:{id:"",title:""},chair:{id:"",title:""}},loaded:!0,resultNotFound:!1}},methods:{select(e,t){console.log(e,t),this.vkapi[t]=e,this.vkGet.call(this,t)},selectCountry(e){this.vkapi.country=e},search(){let e;this.loaded=!1,e=this.vkapi.type?`countries/${this.vkapi.country.id}/cities/${this.vkapi.city.id}/university/${this.vkapi.university.id}/faculty/${this.vkapi.faculty.id}`:`countries/${this.vkapi.country.id}/cities/${this.vkapi.city.id}/schools/${this.vkapi.school.id}`;let t,n=p.a.database().ref(e),i=this;n.on("value",function(e){i.resultNotFound=!1,t=e.val(),i.items=[],console.log(t),null!==t?Object.keys(t).forEach(e=>{i.items.push({name:t[e].title,date:t[e].date,href:e})}):i.resultNotFound=!0,i.loaded=!0},function(e){console.log("Error: "+e.code),i.loaded=!1})},getDate(e){let t=new Date(e),n=["0"+t.getDate(),"0"+(t.getMonth()+1),"0"+t.getFullYear()];return n.map(e=>e.slice(-2)).join(".")},vkGet(e){let t;switch(console.log(this,e),e){case"city":t=`getCities?country_id=${this.vkapi.country.id}&q=${this.vkapi.city.title}`;break;case"school":t=`getSchools?city_id=${this.vkapi.city.id}&q=${this.vkapi.school.title}`;break;case"university":t=`getUniversities?city_id=${this.vkapi.city.id}&q=${this.vkapi.university.title}`;break;case"faculty":t=`getFaculties?university_id=${this.vkapi.university.id}`;break;case"chair":t=`getChairs?faculty_id=${this.vkapi.faculty.id}`;break;default:return!1}e="y"===e.slice(-1)?e.slice(0,-1)+"ies":e+"s",a()({url:`https://api.vk.com/method/database.${t}&count=50&access_token=3ae3ac593ae3ac593ae3ac593a3a84c41733ae33ae3ac5966efe83946d1c87ff1579c26&v=5.92`,adapter:u.a}).then(t=>this.list[e]=t.data.response.items)},getFullName(e){let t=e.title?e.title:"",n=e.region?","+e.region:"",i=e.area?","+e.area:"";return`${t} ${n} ${i}`}},components:{selectInput:_}},C=E,T=(n("8f7c"),Object(y["a"])(C,i,r,!1,null,"1b74c1d2",null));t["default"]=T.exports},"2d83":function(e,t,n){"use strict";var i=n("387f");e.exports=function(e,t,n,r,o){var s=new Error(e);return i(s,t,n,r,o)}},"2d95":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"2e67":function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"30b5":function(e,t,n){"use strict";var i=n("c532");function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var s=[];i.forEach(t,function(e,t){null!==e&&"undefined"!==typeof e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))}))}),o=s.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},3236:function(e,t,n){n("5df3"),n("ac6a"),e.exports=n("37c8").f("iterator")},"32e9":function(e,t,n){var i=n("86cc"),r=n("4630");e.exports=n("9e1e")?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},"34ae":function(e,t,n){n("f751"),e.exports=n("8378").Object.assign},3523:function(e,t,n){"use strict";(function(i){function r(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}Object.defineProperty(t,"__esModule",{value:!0});var o=n("cd51"),s=n("abfd"),a=n("9ab4"),l=r(n("c23d")),u=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),o.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:o.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),c=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return o.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),h=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new u(t)}}catch(n){}return new c},d=h("localStorage"),p=h("sessionStorage"),f=new s.Logger("@firebase/database"),v=function(){var e=1;return function(){return e++}}(),m=function(e){var t=o.stringToByteArray(e),n=new o.Sha1;n.update(t);var i=n.digest();return o.base64.encodeByteArray(i)},g=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",i=0;i<e.length;i++)Array.isArray(e[i])||e[i]&&"object"===typeof e[i]&&"number"===typeof e[i].length?n+=g.apply(null,e[i]):"object"===typeof e[i]?n+=o.stringify(e[i]):n+=e[i],n+=" ";return n},y=null,b=!0,_=function(e,t){o.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(f.logLevel=s.LogLevel.VERBOSE,y=f.log.bind(f),t&&p.set("logging_enabled",!0)):"function"===typeof e?y=e:(y=null,p.remove("logging_enabled"))},w=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===b&&(b=!1,null===y&&!0===p.get("logging_enabled")&&_(!0)),y){var n=g.apply(null,e);y(n)}},E=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];w.apply(void 0,[e].concat(t))}},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+g.apply(void 0,e);f.error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+g.apply(void 0,e);throw f.error(n),new Error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+g.apply(void 0,e);f.warn(n)},x=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},k=function(e){return"number"===typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},I=function(e){if(o.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},P="[MIN_NAME]",N="[MAX_NAME]",A=function(e,t){if(e===t)return 0;if(e===P||t===N)return-1;if(t===P||e===N)return 1;var n=z(e),i=z(t);return null!==n?null!==i?n-i==0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1},O=function(e,t){return e===t?0:e<t?-1:1},D=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+o.stringify(t))},R=function(e){if("object"!==typeof e||null===e)return o.stringify(e);var t=[];for(var n in e)t.push(n);t.sort();for(var i="{",r=0;r<t.length;r++)0!==r&&(i+=","),i+=o.stringify(t[r]),i+=":",i+=R(e[t[r]]);return i+="}",i},L=function(e,t){var n=e.length;if(n<=t)return[e];for(var i=[],r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i},M=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;++n)t(n,e[n]);else o.forEach(e,function(e,n){return t(n,e)})},F=function(e){o.assert(!k(e),"Invalid JSON number");var t,n,i,r,s,a,l,u=11,c=52,h=(1<<u-1)-1;for(0===e?(n=0,i=0,t=1/e===-1/0?1:0):(t=e<0,e=Math.abs(e),e>=Math.pow(2,1-h)?(r=Math.min(Math.floor(Math.log(e)/Math.LN2),h),n=r+h,i=Math.round(e*Math.pow(2,c-r)-Math.pow(2,c))):(n=0,i=Math.round(e/Math.pow(2,1-h-c)))),a=[],s=c;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=u;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse(),l=a.join("");var d="";for(s=0;s<64;s+=8){var p=parseInt(l.substr(s,8),2).toString(16);1===p.length&&(p="0"+p),d+=p}return d.toLowerCase()},$=function(){return!("object"!==typeof window||!window["chrome"]||!window["chrome"]["extension"]||/^chrome/.test(window.location.href))},j=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI},U=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?n="Client doesn't have permission to access the desired data.":"unavailable"==e&&(n="The service is unavailable");var i=new Error(e+" at "+t.path.toString()+": "+n);return i.code=e.toUpperCase(),i},V=new RegExp("^-?\\d{1,10}$"),z=function(e){if(V.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},B=function(e){try{e()}catch(t){setTimeout(function(){var e=t.stack||"";throw S("Exception was thrown by user callback.",e),t},Math.floor(0))}},W=function(){var e="object"===typeof window&&window["navigator"]&&window["navigator"]["userAgent"]||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},q=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n["unref"]&&n["unref"](),n},H=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!0,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],i=this.pieceNum_;i<this.pieces_.length;i++)n.push(this.pieces_[i]);if(t instanceof e)for(i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{var r=t.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var i=t.getFront(),r=n.getFront();if(null===i)return n;if(i===r)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),i=t.slice(),r=0;r<n.length&&r<i.length;r++){var o=A(n[r],i[r]);if(0!==o)return o}return n.length===i.length?0:n.length<i.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;while(t<this.pieces_.length){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}(),G=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=o.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=o.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=o.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),Y="5",X="v",K="s",Q="r",J="f",Z="firebaseio.com",ee="ls",te="websocket",ne="long_polling",ie=function(){function e(e,t,n,i,r){void 0===r&&(r=""),this.secure=t,this.namespace=n,this.webSocketOnly=i,this.persistenceKey=r,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){var n;if(o.assert("string"===typeof e,"typeof type must == string"),o.assert("object"===typeof t,"typeof params must == object"),e===te)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==ne)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t["ns"]=this.namespace);var i=[];return o.forEach(t,function(e,t){i.push(e+"="+t)}),n+i.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}();function re(e){for(var t="",n=e.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}t+="/"+r}return t}function oe(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));for(var n=0,i=e.split("&");n<i.length;n++){var r=i[n];if(0!==r.length){var o=r.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):S("Invalid query segment '"+r+"' in query '"+e+"'")}}return t}var se,ae,le=function(e){var t=ue(e),n=t.subdomain;"firebase"===t.domain&&T(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===t.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||x();var i="ws"===t.scheme||"wss"===t.scheme;return{repoInfo:new ie(t.host,t.secure,n,i),path:new H(t.pathString)}},ue=function(e){var t="",n="",i="",r="",o=!0,s="https",a=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var u=e.indexOf("/");-1===u&&(u=e.length);var c=e.indexOf("?");-1===c&&(c=e.length),t=e.substring(0,Math.min(u,c)),u<c&&(r=re(e.substring(u,c)));var h=oe(e.substring(Math.min(e.length,c)));l=t.indexOf(":"),l>=0?(o="https"===s||"wss"===s,a=parseInt(t.substring(l+1),10)):l=e.length;var d=t.split(".");3===d.length?(n=d[1],i=d[0].toLowerCase()):2===d.length?n=d[0]:"localhost"===d[0].slice(0,l).toLowerCase()&&(n="localhost"),""===i&&"ns"in h&&(i=h["ns"])}return{host:t,port:a,domain:n,subdomain:i,secure:o,scheme:s,pathString:r}},ce=/[\[\].#$\/\u0000-\u001F\u007F]/,he=/[\[\].#$\u0000-\u001F\u007F]/,de=10485760,pe=function(e){return"string"===typeof e&&0!==e.length&&!ce.test(e)},fe=function(e){return"string"===typeof e&&0!==e.length&&!he.test(e)},ve=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),fe(e)},me=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!k(e)||e&&"object"===typeof e&&o.contains(e,".sv")},ge=function(e,t,n,i,r){r&&void 0===n||ye(o.errorPrefix(e,t,r),n,i)},ye=function(e,t,n){var i=n instanceof H?new G(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+i.toErrorString());if("function"===typeof t)throw new Error(e+"contains a function "+i.toErrorString()+" with contents = "+t.toString());if(k(t))throw new Error(e+"contains "+t.toString()+" "+i.toErrorString());if("string"===typeof t&&t.length>de/3&&o.stringLength(t)>de)throw new Error(e+"contains a string greater than "+de+" utf8 bytes "+i.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){var r=!1,s=!1;if(o.forEach(t,function(t,n){if(".value"===t)r=!0;else if(".priority"!==t&&".sv"!==t&&(s=!0,!pe(t)))throw new Error(e+" contains an invalid key ("+t+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(t),ye(e,n,i),i.pop()}),r&&s)throw new Error(e+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},be=function(e,t){var n,i;for(n=0;n<t.length;n++){i=t[n];for(var r=i.slice(),o=0;o<r.length;o++)if(".priority"===r[o]&&o===r.length-1);else if(!pe(r[o]))throw new Error(e+"contains an invalid key ("+r[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(H.comparePaths);var s=null;for(n=0;n<t.length;n++){if(i=t[n],null!==s&&s.contains(i))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},_e=function(e,t,n,i,r){if(!r||void 0!==n){var s=o.errorPrefix(e,t,r);if(!n||"object"!==typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];o.forEach(n,function(e,t){var n=new H(e);if(ye(s,t,i.child(n)),".priority"===n.getBack()&&!me(t))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),be(s,a)}},we=function(e,t,n,i){if(!i||void 0!==n){if(k(n))throw new Error(o.errorPrefix(e,t,i)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!me(n))throw new Error(o.errorPrefix(e,t,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ee=function(e,t,n,i){if(!i||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(o.errorPrefix(e,t,i)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ce=function(e,t,n,i){if((!i||void 0!==n)&&!pe(n))throw new Error(o.errorPrefix(e,t,i)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Te=function(e,t,n,i){if((!i||void 0!==n)&&!fe(n))throw new Error(o.errorPrefix(e,t,i)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Se=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Te(e,t,n,i)},xe=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},ke=function(e,t,n){var i=n.path.toString();if("string"!==typeof n.repoInfo.host||0===n.repoInfo.host.length||!pe(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==i.length&&!ve(i))throw new Error(o.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Ie=function(e,t,n,i){if((!i||void 0!==n)&&"boolean"!==typeof n)throw new Error(o.errorPrefix(e,t,i)+"must be a boolean.")},Pe=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){o.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),o.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new o.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){o.validateArgCount("OnDisconnect.remove",0,1,arguments.length),xe("OnDisconnect.remove",this.path_),o.validateCallback("OnDisconnect.remove",1,e,!0);var t=new o.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){o.validateArgCount("OnDisconnect.set",1,2,arguments.length),xe("OnDisconnect.set",this.path_),ge("OnDisconnect.set",1,e,this.path_,!1),o.validateCallback("OnDisconnect.set",2,t,!0);var n=new o.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){o.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),xe("OnDisconnect.setWithPriority",this.path_),ge("OnDisconnect.setWithPriority",1,e,this.path_,!1),we("OnDisconnect.setWithPriority",2,t,!1),o.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var i=new o.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,i.wrapCallback(n)),i.promise},e.prototype.update=function(e,t){if(o.validateArgCount("OnDisconnect.update",1,2,arguments.length),xe("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},i=0;i<e.length;++i)n[""+i]=e[i];e=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_e("OnDisconnect.update",1,e,this.path_,!1),o.validateCallback("OnDisconnect.update",2,t,!0);var r=new o.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,r.wrapCallback(t)),r.promise},e}(),Ne=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return o.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Ae=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=0,n=[];return function(i){var r,s=i===t;t=i;var a=new Array(8);for(r=7;r>=0;r--)a[r]=e.charAt(i%64),i=Math.floor(i/64);o.assert(0===i,"Cannot push at time == 0");var l=a.join("");if(s){for(r=11;r>=0&&63===n[r];r--)n[r]=0;n[r]++}else for(r=0;r<12;r++)n[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=e.charAt(n[r]);return o.assert(20===l.length,"nextPushId: Length should be 20."),l}}(),Oe=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),De=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Oe(P,e),i=new Oe(P,t);return 0!==this.compare(n,i)},e.prototype.minPost=function(){return Oe.MIN},e}(),Re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return se},set:function(e){se=e},enumerable:!0,configurable:!0}),t.prototype.compare=function(e,t){return A(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw o.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Oe.MIN},t.prototype.maxPost=function(){return new Oe(N,se)},t.prototype.makePost=function(e,t){return o.assert("string"===typeof e,"KeyIndex indexValue must always be a string."),new Oe(e,se)},t.prototype.toString=function(){return".key"},t}(De),Le=new Re;function Me(e){ae=e}var Fe,$e,je,Ue=function(e){return"number"===typeof e?"number:"+F(e):"string:"+e},Ve=function(e){if(e.isLeafNode()){var t=e.val();o.assert("string"===typeof t||"number"===typeof t||"object"===typeof t&&o.contains(t,".sv"),"Priority must be a string or number.")}else o.assert(e===ae||e.isEmpty(),"priority of unexpected type.");o.assert(e===ae||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ze=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,o.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ve(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Fe},set:function(e){Fe=e},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var i=t.getFront();return null===i?n:n.isEmpty()&&".priority"!==i?this:(o.assert(".priority"!==i||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ue(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?F(this.value_):this.value_,this.lazyHash_=m(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(o.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,i=typeof this.value_,r=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(i);return o.assert(r>=0,"Unknown leaf type: "+n),o.assert(s>=0,"Unknown leaf type: "+i),r===s?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-r},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();function Be(e){$e=e}function We(e){je=e}var qe,He,Ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?A(e.name,t.name):r},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Oe.MIN},t.prototype.maxPost=function(){return new Oe(N,new ze("[PRIORITY-POST]",je))},t.prototype.makePost=function(e,t){var n=$e(e);return new Oe(t,new ze("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(De),Ye=new Ge,Xe=function(){function e(e,t,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];var o=1;while(!e.isEmpty())if(e=e,o=t?n(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_){t=t.left;while(!t.isEmpty())this.nodeStack_.push(t),t=t.right}else{t=t.right;while(!t.isEmpty())this.nodeStack_.push(t),t=t.left}return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ke=function(){function e(t,n,i,r,o){this.key=t,this.value=n,this.color=null!=i?i:e.RED,this.left=null!=r?r:Je.EMPTY_NODE,this.right=null!=o?o:Je.EMPTY_NODE}return e.prototype.copy=function(t,n,i,r,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var i,r;return r=this,i=n(e,r.key),r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Je.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},e.prototype.remove=function(e,t){var n,i;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Je.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){var e;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if(e=this.left.check_(),e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Qe=function(){function e(){}return e.prototype.copy=function(e,t,n,i,r){return this},e.prototype.insert=function(e,t,n){return new Ke(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Je=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ke.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ke.BLACK,null,null))},e.prototype.get=function(e){var t,n=this.root_;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){var t,n=this.root_,i=null;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return i?i.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Xe(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Xe(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Xe(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Xe(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Qe,e}(),Ze=Math.log(2),et=function(){function e(e){var t=function(e){return parseInt(Math.log(e)/Ze,10)},n=function(e){return parseInt(Array(e+1).join("1"),2)};this.count=t(e+1),this.current_=this.count-1;var i=n(this.count);this.bits_=e+1&i}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),tt=function(e,t,n,i){e.sort(t);var r=function(t,i){var o,s,a=i-t;if(0==a)return null;if(1==a)return o=e[t],s=n?n(o):o,new Ke(s,o.node,Ke.BLACK,null,null);var l=parseInt(a/2,10)+t,u=r(t,l),c=r(l+1,i);return o=e[l],s=n?n(o):o,new Ke(s,o.node,Ke.BLACK,u,c)},o=function(t){for(var i=null,o=null,s=e.length,a=function(t,i){var o=s-t,a=s;s-=t;var u=r(o+1,a),c=e[o],h=n?n(c):c;l(new Ke(h,c.node,i,null,u))},l=function(e){i?(i.left=e,i=e):(o=e,i=e)},u=0;u<t.count;++u){var c=t.nextBitIsOne(),h=Math.pow(2,t.count-(u+1));c?a(h,Ke.BLACK):(a(h,Ke.BLACK),a(h,Ke.RED))}return o},s=new et(e.length),a=o(s);return new Je(i||t,a)},nt={},it=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return o.assert(nt&&Ye,"ChildrenNode.ts has not been loaded"),qe=qe||new e({".priority":nt},{".priority":Ye}),qe},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=o.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t===nt?null:t},e.prototype.hasIndex=function(e){return o.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){o.assert(t!==Le,"KeyIndex always exists and isn't meant to be added to the IndexMap.");var i,r=[],s=!1,a=n.getIterator(Oe.Wrap),l=a.getNext();while(l)s=s||t.isDefinedOn(l.node),r.push(l),l=a.getNext();i=s?tt(r,t.getCompare()):nt;var u=t.toString(),c=o.clone(this.indexSet_);c[u]=t;var h=o.clone(this.indexes_);return h[u]=i,new e(h,c)},e.prototype.addToIndexes=function(t,n){var i=this,r=o.map(this.indexes_,function(e,r){var s=o.safeGet(i.indexSet_,r);if(o.assert(s,"Missing index implementation for "+r),e===nt){if(s.isDefinedOn(t.node)){var a=[],l=n.getIterator(Oe.Wrap),u=l.getNext();while(u)u.name!=t.name&&a.push(u),u=l.getNext();return a.push(t),tt(a,s.getCompare())}return nt}var c=n.get(t.name),h=e;return c&&(h=h.remove(new Oe(t.name,c))),h.insert(t,t.node)});return new e(r,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var i=o.map(this.indexes_,function(e){if(e===nt)return e;var i=n.get(t.name);return i?e.remove(new Oe(t.name,i)):e});return new e(i,this.indexSet_)},e}();function rt(e,t){return A(e.name,t.name)}function ot(e,t){return A(e,t)}var st=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ve(this.priorityNode_),this.children_.isEmpty()&&o.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return He||(He=new e(new Je(ot),null,it.Default))},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||He},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?He:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(o.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var i=new Oe(t,n),r=void 0,s=void 0,a=void 0;return n.isEmpty()?(r=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(i,this.children_)),a=r.isEmpty()?He:this.priorityNode_,new e(r,a,s)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;o.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},i=0,r=0,o=!0;if(this.forEachChild(Ye,function(s,a){n[s]=a.val(t),i++,o&&e.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):o=!1}),!t&&o&&r<2*i){var s=[];for(var a in n)s[a]=n[a];return s}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ue(this.getPriority().val())+":"),this.forEachChild(Ye,function(t,n){var i=n.hash();""!==i&&(e+=":"+t+":"+i)}),this.lazyHash_=""===e?"":m(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new Oe(e,t));return r?r.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Oe(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Oe(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});var i=this.children_.getIteratorFrom(e.name,Oe.Wrap),r=i.peek();while(null!=r&&t.compare(r,e)<0)i.getNext(),r=i.peek();return i},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});var i=this.children_.getReverseIteratorFrom(e.name,Oe.Wrap),r=i.peek();while(null!=r&&t.compare(r,e)>0)i.getNext(),r=i.peek();return i},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===lt?-1:0},e.prototype.withIndex=function(t){if(t===Le||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Le||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){var n=this.getIterator(Ye),i=t.getIterator(Ye),r=n.getNext(),o=i.getNext();while(r&&o){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=n.getNext(),o=i.getNext()}return null===r&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Le?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),at=function(e){function t(){return e.call(this,new Je(ot),st.EMPTY_NODE,it.Default)||this}return a.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return st.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(st),lt=new at;Object.defineProperties(Oe,{MIN:{value:new Oe(P,st.EMPTY_NODE)},MAX:{value:new Oe(N,lt)}}),Re.__EMPTY_NODE=st.EMPTY_NODE,ze.__childrenNodeConstructor=st,Me(lt),We(lt);var ut=!0;function ct(e,t){if(void 0===t&&(t=null),null===e)return st.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),o.assert(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new ze(n,ct(t))}if(e instanceof Array||!ut){var i=st.EMPTY_NODE,r=e;return o.forEach(r,function(e,t){if(o.contains(r,e)&&"."!==e.substring(0,1)){var n=ct(t);!n.isLeafNode()&&n.isEmpty()||(i=i.updateImmediateChild(e,n))}}),i.updatePriority(ct(t))}var s=[],a=!1,l=e;if(o.forEach(l,function(e,t){if("string"!==typeof e||"."!==e.substring(0,1)){var n=ct(l[e]);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),s.push(new Oe(e,n)))}}),0==s.length)return st.EMPTY_NODE;var u=tt(s,rt,function(e){return e.name},ot);if(a){var c=tt(s,Ye.getCompare());return new st(u,ct(t),new it({".priority":c},{".priority":Ye}))}return new st(u,ct(t),it.Default)}Be(ct);var ht,dt,pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?A(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Oe.MIN},t.prototype.maxPost=function(){return Oe.MAX},t.prototype.makePost=function(e,t){var n=ct(e);return new Oe(t,n)},t.prototype.toString=function(){return".value"},t}(De),ft=new pt,vt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,o.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return a.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?A(e.name,t.name):r},t.prototype.makePost=function(e,t){var n=ct(e),i=st.EMPTY_NODE.updateChild(this.indexPath_,n);return new Oe(t,i)},t.prototype.maxPost=function(){var e=st.EMPTY_NODE.updateChild(this.indexPath_,lt);return new Oe(N,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(De),mt=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return o.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return o.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return o.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return o.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){o.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),Te("DataSnapshot.child",1,t,!1);var n=new H(t),i=this.ref_.child(n);return new e(this.node_.getChild(n),i,Ye)},e.prototype.hasChild=function(e){o.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),Te("DataSnapshot.hasChild",1,e,!1);var t=new H(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return o.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(o.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),o.validateCallback("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var i=this.node_;return!!i.forEachChild(this.index_,function(i,r){return t(new e(r,n.ref_.child(i),Ye))})},e.prototype.hasChildren=function(){return o.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return o.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return o.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),gt=function(){function e(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+o.stringify(this.snapshot.exportVal())},e}(),yt=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),bt=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new gt("value",this,new mt(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){o.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var i=this.callback_;return function(){i.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new yt(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),_t=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,o.contains(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new yt(this,e,t):null},e.prototype.createEvent=function(e,t){o.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),i=t.getQueryParams().getIndex();return new gt(e.type,this,new mt(e.snapshotNode,n,i),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){o.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var i=this.callbacks_[e.eventType];return function(){i.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var n=o.getCount(t.callbacks_),i=o.getCount(this.callbacks_);if(n===i){if(1===n){var r=o.getAnyKey(t.callbacks_),s=o.getAnyKey(this.callbacks_);return s===r&&(!t.callbacks_[r]||!this.callbacks_[s]||t.callbacks_[r]===this.callbacks_[s])}return o.every(this.callbacks_,function(e,n){return t.callbacks_[e]===n})}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),wt=function(){function e(e,t,n,i){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=i}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return o.assert(ht,"Reference.ts has not been loaded"),ht},set:function(e){ht=e},enumerable:!0,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Le){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!=P)throw new Error(i);if("string"!==typeof t)throw new Error(r)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!=N)throw new Error(i);if("string"!==typeof n)throw new Error(r)}}else if(e.getIndex()===Ye){if(null!=t&&!me(t)||null!=n&&!me(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(o.assert(e.getIndex()instanceof vt||e.getIndex()===ft,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return o.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,i,r){o.validateArgCount("Query.on",2,4,arguments.length),Ee("Query.on",1,t,!1),o.validateCallback("Query.on",2,n,!1);var s=e.getCancelAndContextArgs_("Query.on",i,r);if("value"===t)this.onValueEvent(n,s.cancel,s.context);else{var a={};a[t]=n,this.onChildEvent(a,s.cancel,s.context)}return n},e.prototype.onValueEvent=function(e,t,n){var i=new bt(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,i)},e.prototype.onChildEvent=function(e,t,n){var i=new _t(e,t,n);this.repo.addEventCallbackForQuery(this,i)},e.prototype.off=function(e,t,n){o.validateArgCount("Query.off",0,3,arguments.length),Ee("Query.off",1,e,!0),o.validateCallback("Query.off",2,t,!0),o.validateContextObject("Query.off",3,n,!0);var i=null,r=null;if("value"===e){var s=t||null;i=new bt(s,null,n||null)}else e&&(t&&(r={},r[e]=t),i=new _t(r,null,n||null));this.repo.removeEventCallbackForQuery(this,i)},e.prototype.once=function(t,n,i,r){var s=this;o.validateArgCount("Query.once",1,4,arguments.length),Ee("Query.once",1,t,!1),o.validateCallback("Query.once",2,n,!0);var a=e.getCancelAndContextArgs_("Query.once",i,r),l=!0,u=new o.Deferred;u.promise.catch(function(){});var c=function(e){l&&(l=!1,s.off(t,c),n&&n.bind(a.context)(e),u.resolve(e))};return this.on(t,c,function(e){s.off(t,c),a.cancel&&a.cancel.bind(a.context)(e),u.reject(e)}),u.promise},e.prototype.limitToFirst=function(t){if(o.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(o.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(o.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Te("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new H(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var i=new vt(n),r=this.queryParams_.orderBy(i);return e.validateQueryEndpoints_(r),new e(this.repo,this.path,r,!0)},e.prototype.orderByKey=function(){o.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(Le);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){o.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Ye);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){o.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(ft);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),o.validateArgCount("Query.startAt",0,2,arguments.length),ge("Query.startAt",1,t,this.path,!0),Ce("Query.startAt",2,n,!0);var i=this.queryParams_.startAt(t,n);if(e.validateLimit_(i),e.validateQueryEndpoints_(i),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,i,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),o.validateArgCount("Query.endAt",0,2,arguments.length),ge("Query.endAt",1,t,this.path,!0),Ce("Query.endAt",2,n,!0);var i=this.queryParams_.endAt(t,n);if(e.validateLimit_(i),e.validateQueryEndpoints_(i),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,i,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(o.validateArgCount("Query.equalTo",1,2,arguments.length),ge("Query.equalTo",1,e,this.path,!1),Ce("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return o.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return o.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=R(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(o.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var i=this.repo===t.repo,r=this.path.equals(t.path),s=this.queryIdentifier()===t.queryIdentifier();return i&&r&&s},e.getCancelAndContextArgs_=function(e,t,n){var i={cancel:null,context:null};if(t&&n)i.cancel=t,o.validateCallback(e,3,i.cancel,!0),i.context=n,o.validateContextObject(e,4,i.context,!0);else if(t)if("object"===typeof t&&null!==t)i.context=t;else{if("function"!==typeof t)throw new Error(o.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");i.cancel=t}return i},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),Et=function(){function e(){this.set={}}return e.prototype.add=function(e,t){this.set[e]=null===t||t},e.prototype.contains=function(e){return o.contains(this.set,e)},e.prototype.get=function(e){return this.contains(e)?this.set[e]:void 0},e.prototype.remove=function(e){delete this.set[e]},e.prototype.clear=function(){this.set={}},e.prototype.isEmpty=function(){return o.isEmpty(this.set)},e.prototype.count=function(){return o.getCount(this.set)},e.prototype.each=function(e){o.forEach(this.set,function(t,n){return e(t,n)})},e.prototype.keys=function(){var e=[];return o.forEach(this.set,function(t){e.push(t)}),e},e}(),Ct=function(){function e(){this.value_=null,this.children_=null}return e.prototype.find=function(e){if(null!=this.value_)return this.value_.getChild(e);if(e.isEmpty()||null==this.children_)return null;var t=e.getFront();if(e=e.popFront(),this.children_.contains(t)){var n=this.children_.get(t);return n.find(e)}return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(t,n);else{null==this.children_&&(this.children_=new Et);var i=t.getFront();this.children_.contains(i)||this.children_.add(i,new e);var r=this.children_.get(i);t=t.popFront(),r.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var t=this.value_;this.value_=null;var n=this;return t.forEachChild(Ye,function(e,t){n.remember(new H(e),t)}),this.forget(e)}if(null!==this.children_){var i=e.getFront();if(e=e.popFront(),this.children_.contains(i)){var r=this.children_.get(i).forget(e);r&&this.children_.remove(i)}return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},e.prototype.forEachTree=function(e,t){null!==this.value_?t(e,this.value_):this.forEachChild(function(n,i){var r=new H(e.toString()+"/"+n);i.forEachTree(r,t)})},e.prototype.forEachChild=function(e){null!==this.children_&&this.children_.each(function(t,n){e(t,n)})},e}(),Tt=function(e){return e=e||{},e["timestamp"]=e["timestamp"]||(new Date).getTime(),e},St=function(e,t){return e&&"object"===typeof e?(o.assert(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e},xt=function(e,t){var n=new Ct;return e.forEachTree(new H(""),function(e,i){n.remember(e,kt(i,t))}),n},kt=function(e,t){var n,i=e.getPriority().val(),r=St(i,t);if(e.isLeafNode()){var o=e,s=St(o.getValue(),t);return s!==o.getValue()||r!==o.getPriority().val()?new ze(s,ct(r)):e}var a=e;return n=a,r!==a.getPriority().val()&&(n=n.updatePriority(new ze(r))),a.forEachChild(Ye,function(e,i){var r=kt(i,t);r!==i&&(n=n.updateImmediateChild(e,r))}),n};(function(e){e[e["OVERWRITE"]=0]="OVERWRITE",e[e["MERGE"]=1]="MERGE",e[e["ACK_USER_WRITE"]=2]="ACK_USER_WRITE",e[e["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})(dt||(dt={}));var It,Pt,Nt=function(){function e(e,t,n,i){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=i,o.assert(!i||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),At=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=dt.ACK_USER_WRITE,this.source=Nt.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return o.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new H(t));return new e(H.Empty,n,this.revert)}return o.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}(),Ot=function(){return It||(It=new Je(O)),It},Dt=function(){function e(e,t){void 0===t&&(t=Ot()),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return o.forEach(t,function(e,t){n=n.set(new H(e),t)}),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:H.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(e.popFront(),t);if(null!=r){var o=new H(n).child(r.path);return{path:o,value:r.value}}return null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),i=this.children.get(n);return null!==i?i.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var i=t.getFront(),r=this.children.get(i)||e.Empty,o=r.set(t.popFront(),n),s=this.children.insert(i,o);return new e(this.value,s)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),i=this.children.get(n);if(i){var r=i.remove(t.popFront()),o=void 0;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var i=t.getFront(),r=this.children.get(i)||e.Empty,o=r.setTree(t.popFront(),n),s=void 0;return s=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,s)},e.prototype.fold=function(e){return this.fold_(H.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal(function(i,r){n[i]=r.fold_(e.child(i),t)}),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,H.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var i=!!this.value&&n(t,this.value);if(i)return i;if(e.isEmpty())return null;var r=e.getFront(),o=this.children.get(r);return o?o.findOnPath_(e.popFront(),t.child(r),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,H.Empty,t)},e.prototype.foreachOnPath_=function(t,n,i){if(t.isEmpty())return this;this.value&&i(n,this.value);var r=t.getFront(),o=this.children.get(r);return o?o.foreachOnPath_(t.popFront(),n.child(r),i):e.Empty},e.prototype.foreach=function(e){this.foreach_(H.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(n,i){i.foreach_(e.child(n),t)}),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})},e.Empty=new e(null),e}(),Rt=function(){function e(e,t){this.source=e,this.path=t,this.type=dt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,H.Empty):new e(this.source,this.path.popFront())},e}(),Lt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=dt.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,H.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),Mt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=dt.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new H(t));return n.isEmpty()?null:n.value?new Lt(this.source,H.Empty,n.value):new e(this.source,H.Empty,n)}return o.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Ft=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),$t=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,i){return new e(new Ft(t,n,i),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,i){return new e(this.eventCache_,new Ft(t,n,i))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new Ft(st.EMPTY_NODE,!1,!1),new Ft(st.EMPTY_NODE,!1,!1)),e}(),jt=function(){function e(e,t,n,i,r){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=i,this.prevName=r}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,i){return new e(e.CHILD_CHANGED,n,t,i)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}(),Ut=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,i,r,s){o.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(i).equals(n.getChild(i))&&a.isEmpty()==n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(jt.childRemovedChange(t,a)):o.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(jt.childAddedChange(t,n)):s.trackChildChange(jt.childChangedChange(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ye,function(e,i){t.hasChild(e)||n.trackChildChange(jt.childRemovedChange(e,i))}),t.isLeafNode()||t.forEachChild(Ye,function(t,i){if(e.hasChild(t)){var r=e.getImmediateChild(t);r.equals(i)||n.trackChildChange(jt.childChangedChange(t,i,r))}else n.trackChildChange(jt.childAddedChange(t,i))})),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?st.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Vt=function(){function e(){this.changeMap_={}}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;o.assert(t==jt.CHILD_ADDED||t==jt.CHILD_CHANGED||t==jt.CHILD_REMOVED,"Only child changes supported for tracking"),o.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var i=o.safeGet(this.changeMap_,n);if(i){var r=i.type;if(t==jt.CHILD_ADDED&&r==jt.CHILD_REMOVED)this.changeMap_[n]=jt.childChangedChange(n,e.snapshotNode,i.snapshotNode);else if(t==jt.CHILD_REMOVED&&r==jt.CHILD_ADDED)delete this.changeMap_[n];else if(t==jt.CHILD_REMOVED&&r==jt.CHILD_CHANGED)this.changeMap_[n]=jt.childRemovedChange(n,i.oldSnap);else if(t==jt.CHILD_CHANGED&&r==jt.CHILD_ADDED)this.changeMap_[n]=jt.childAddedChange(n,e.snapshotNode);else{if(t!=jt.CHILD_CHANGED||r!=jt.CHILD_CHANGED)throw o.assertionError("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap_[n]=jt.childChangedChange(n,e.snapshotNode,i.oldSnap)}}else this.changeMap_[n]=e},e.prototype.getChanges=function(){return o.getValues(this.changeMap_)},e}(),zt=function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}(),Bt=new zt,Wt=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Ft(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),r=this.writes_.calcIndexedSlice(i,t,1,n,e);return 0===r.length?null:r[0]},e}(),qt=function(){function e(e,t){this.viewCache=e,this.changes=t}return e}(),Ht=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){o.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),o.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,i,r){var s,a,l=new Vt;if(n.type===dt.OVERWRITE){var u=n;u.source.fromUser?s=this.applyUserOverwrite_(t,u.path,u.snap,i,r,l):(o.assert(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.getServerCache().isFiltered()&&!u.path.isEmpty(),s=this.applyServerOverwrite_(t,u.path,u.snap,i,r,a,l))}else if(n.type===dt.MERGE){var c=n;c.source.fromUser?s=this.applyUserMerge_(t,c.path,c.children,i,r,l):(o.assert(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.getServerCache().isFiltered(),s=this.applyServerMerge_(t,c.path,c.children,i,r,a,l))}else if(n.type===dt.ACK_USER_WRITE){var h=n;s=h.revert?this.revertUserWrite_(t,h.path,i,r,l):this.ackUserWrite_(t,h.path,h.affectedTree,i,r,l)}else{if(n.type!==dt.LISTEN_COMPLETE)throw o.assertionError("Unknown operation type: "+n.type);s=this.listenComplete_(t,n.path,i,l)}var d=l.getChanges();return e.maybeAddValueEvent_(t,s,d),new qt(s,d)},e.maybeAddValueEvent_=function(e,t,n){var i=t.getEventCache();if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(jt.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,i,r){var s=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var a=void 0,l=void 0;if(t.isEmpty())if(o.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var u=e.getCompleteServerSnap(),c=u instanceof st?u:st.EMPTY_NODE,h=n.calcCompleteEventChildren(c);a=this.filter_.updateFullNode(e.getEventCache().getNode(),h,r)}else{var d=n.calcCompleteEventCache(e.getCompleteServerSnap());a=this.filter_.updateFullNode(e.getEventCache().getNode(),d,r)}else{var p=t.getFront();if(".priority"==p){o.assert(1==t.getLength(),"Can't have a priority with additional path components");var f=s.getNode();l=e.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(t,f,l);a=null!=v?this.filter_.updatePriority(f,v):s.getNode()}else{var m=t.popFront(),g=void 0;if(s.isCompleteForChild(p)){l=e.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(t,s.getNode(),l);g=null!=y?s.getNode().getImmediateChild(p).updateChild(m,y):s.getNode().getImmediateChild(p)}else g=n.calcCompleteChild(p,e.getServerCache());a=null!=g?this.filter_.updateChild(s.getNode(),p,g,m,i,r):s.getNode()}}return e.updateEventSnap(a,s.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,i,r,o,s){var a,l=e.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())a=u.updateFullNode(l.getNode(),n,null);else if(u.filtersNodes()&&!l.isFiltered()){var c=l.getNode().updateChild(t,n);a=u.updateFullNode(l.getNode(),c,null)}else{var h=t.getFront();if(!l.isCompleteForPath(t)&&t.getLength()>1)return e;var d=t.popFront(),p=l.getNode().getImmediateChild(h),f=p.updateChild(d,n);a=".priority"==h?u.updatePriority(l.getNode(),f):u.updateChild(l.getNode(),h,f,d,Bt,null)}var v=e.updateServerSnap(a,l.isFullyInitialized()||t.isEmpty(),u.filtersNodes()),m=new Wt(i,v,r);return this.generateEventCacheAfterServerEvent_(v,t,i,m,s)},e.prototype.applyUserOverwrite_=function(e,t,n,i,r,o){var s,a,l=e.getEventCache(),u=new Wt(i,e,r);if(t.isEmpty())a=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),s=e.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var c=t.getFront();if(".priority"===c)a=this.filter_.updatePriority(e.getEventCache().getNode(),n),s=e.updateEventSnap(a,l.isFullyInitialized(),l.isFiltered());else{var h=t.popFront(),d=l.getNode().getImmediateChild(c),p=void 0;if(h.isEmpty())p=n;else{var f=u.getCompleteChild(c);p=null!=f?".priority"===h.getBack()&&f.getChild(h.parent()).isEmpty()?f:f.updateChild(h,n):st.EMPTY_NODE}if(d.equals(p))s=e;else{var v=this.filter_.updateChild(l.getNode(),c,p,h,u,o);s=e.updateEventSnap(v,l.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,i,r,o,s){var a=this,l=t;return i.foreach(function(i,u){var c=n.child(i);e.cacheHasChild_(t,c.getFront())&&(l=a.applyUserOverwrite_(l,c,u,r,o,s))}),i.foreach(function(i,u){var c=n.child(i);e.cacheHasChild_(t,c.getFront())||(l=a.applyUserOverwrite_(l,c,u,r,o,s))}),l},e.prototype.applyMerge_=function(e,t){return t.foreach(function(t,n){e=e.updateChild(t,n)}),e},e.prototype.applyServerMerge_=function(e,t,n,i,r,o,s){var a=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var l,u=e;l=t.isEmpty()?n:Dt.Empty.setTree(t,n);var c=e.getServerCache().getNode();return l.children.inorderTraversal(function(t,n){if(c.hasChild(t)){var l=e.getServerCache().getNode().getImmediateChild(t),h=a.applyMerge_(l,n);u=a.applyServerOverwrite_(u,new H(t),h,i,r,o,s)}}),l.children.inorderTraversal(function(t,n){var l=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!c.hasChild(t)&&!l){var h=e.getServerCache().getNode().getImmediateChild(t),d=a.applyMerge_(h,n);u=a.applyServerOverwrite_(u,new H(t),d,i,r,o,s)}}),u},e.prototype.ackUserWrite_=function(e,t,n,i,r,o){if(null!=i.shadowingWrite(t))return e;var s=e.getServerCache().isFiltered(),a=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,a.getNode().getChild(t),i,r,s,o);if(t.isEmpty()){var l=Dt.Empty;return a.getNode().forEachChild(Le,function(e,t){l=l.set(new H(e),t)}),this.applyServerMerge_(e,t,l,i,r,s,o)}return e}var u=Dt.Empty;return n.foreach(function(e,n){var i=t.child(e);a.isCompleteForPath(i)&&(u=u.set(e,a.getNode().getChild(i)))}),this.applyServerMerge_(e,t,u,i,r,s,o)},e.prototype.listenComplete_=function(e,t,n,i){var r=e.getServerCache(),o=e.updateServerSnap(r.getNode(),r.isFullyInitialized()||t.isEmpty(),r.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,Bt,i)},e.prototype.revertUserWrite_=function(e,t,n,i,r){var s;if(null!=n.shadowingWrite(t))return e;var a=new Wt(n,e,i),l=e.getEventCache().getNode(),u=void 0;if(t.isEmpty()||".priority"===t.getFront()){var c=void 0;if(e.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var h=e.getServerCache().getNode();o.assert(h instanceof st,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(h)}c=c,u=this.filter_.updateFullNode(l,c,r)}else{var d=t.getFront(),p=n.calcCompleteChild(d,e.getServerCache());null==p&&e.getServerCache().isCompleteForChild(d)&&(p=l.getImmediateChild(d)),u=null!=p?this.filter_.updateChild(l,d,p,t.popFront(),a,r):e.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(l,d,st.EMPTY_NODE,t.popFront(),a,r):l,u.isEmpty()&&e.getServerCache().isFullyInitialized()&&(s=n.calcCompleteEventCache(e.getCompleteServerSnap()),s.isLeafNode()&&(u=this.filter_.updateFullNode(u,s,r)))}return s=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(H.Empty),e.updateEventSnap(u,s,this.filter_.filtersNodes())},e}(),Gt=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var i=this,r=[],o=[];return e.forEach(function(e){e.type===jt.CHILD_CHANGED&&i.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(jt.childMovedChange(e.childName,e.snapshotNode))}),this.generateEventsForType_(r,jt.CHILD_REMOVED,e,n,t),this.generateEventsForType_(r,jt.CHILD_ADDED,e,n,t),this.generateEventsForType_(r,jt.CHILD_MOVED,o,n,t),this.generateEventsForType_(r,jt.CHILD_CHANGED,e,n,t),this.generateEventsForType_(r,jt.VALUE,e,n,t),r},e.prototype.generateEventsForType_=function(e,t,n,i,r){var o=this,s=n.filter(function(e){return e.type===t});s.sort(this.compareChanges_.bind(this)),s.forEach(function(t){var n=o.materializeSingleChange_(t,r);i.forEach(function(i){i.respondsTo(t.type)&&e.push(i.createEvent(n,o.query_))})})},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_),e)},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw o.assertionError("Should only compare child_ events.");var n=new Oe(e.childName,e.snapshotNode),i=new Oe(t.childName,t.snapshotNode);return this.index_.compare(n,i)},e}(),Yt=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),i=new Ut(n.getIndex()),r=n.getNodeFilter();this.processor_=new Ht(r);var o=t.getServerCache(),s=t.getEventCache(),a=i.updateFullNode(st.EMPTY_NODE,o.getNode(),null),l=r.updateFullNode(st.EMPTY_NODE,s.getNode(),null),u=new Ft(a,o.isFullyInitialized(),i.filtersNodes()),c=new Ft(l,s.isFullyInitialized(),r.filtersNodes());this.viewCache_=new $t(c,u),this.eventGenerator_=new Gt(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){o.assert(null==e,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach(function(e){t=t;var r=e.createCancelEvent(t,i);r&&n.push(r)})}if(e){for(var r=[],s=0;s<this.eventRegistrations_.length;++s){var a=this.eventRegistrations_[s];if(a.matches(e)){if(e.hasAnyCallback()){r=r.concat(this.eventRegistrations_.slice(s+1));break}}else r.push(a)}this.eventRegistrations_=r}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===dt.MERGE&&null!==e.source.queryId&&(o.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),o.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,r=this.processor_.applyOperation(i,e,t,n);return this.processor_.assertIndexed(r.viewCache),o.assert(r.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=r.viewCache,this.generateEventsForChanges_(r.changes,r.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];if(!t.getNode().isLeafNode()){var i=t.getNode();i.forEachChild(Ye,function(e,t){n.push(jt.childAddedChange(e,t))})}return t.isFullyInitialized()&&n.push(jt.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){var i=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,i)},e}(),Xt=function(){function e(){this.views_={}}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return o.assert(Pt,"Reference.ts has not been loaded"),Pt},set:function(e){o.assert(!Pt,"__referenceConstructor has already been defined"),Pt=e},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return o.isEmpty(this.views_)},e.prototype.applyOperation=function(e,t,n){var i=e.source.queryId;if(null!==i){var r=o.safeGet(this.views_,i);return o.assert(null!=r,"SyncTree gave us an op for an invalid query."),r.applyOperation(e,t,n)}var s=[];return o.forEach(this.views_,function(i,r){s=s.concat(r.applyOperation(e,t,n))}),s},e.prototype.addEventRegistration=function(e,t,n,i,r){var s=e.queryIdentifier(),a=o.safeGet(this.views_,s);if(!a){var l=n.calcCompleteEventCache(r?i:null),u=!1;l?u=!0:i instanceof st?(l=n.calcCompleteEventChildren(i),u=!1):(l=st.EMPTY_NODE,u=!1);var c=new $t(new Ft(l,u,!1),new Ft(i,r,!1));a=new Yt(e,c),this.views_[s]=a}return a.addEventRegistration(t),a.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,i){var r=t.queryIdentifier(),s=[],a=[],l=this.hasCompleteView();if("default"===r){var u=this;o.forEach(this.views_,function(e,t){a=a.concat(t.removeEventRegistration(n,i)),t.isEmpty()&&(delete u.views_[e],t.getQuery().getQueryParams().loadsAllData()||s.push(t.getQuery()))})}else{var c=o.safeGet(this.views_,r);c&&(a=a.concat(c.removeEventRegistration(n,i)),c.isEmpty()&&(delete this.views_[r],c.getQuery().getQueryParams().loadsAllData()||s.push(c.getQuery())))}return l&&!this.hasCompleteView()&&s.push(new e.__referenceConstructor(t.repo,t.path)),{removed:s,events:a}},e.prototype.getQueryViews=function(){var e=this,t=Object.keys(this.views_).map(function(t){return e.views_[t]});return t.filter(function(e){return!e.getQuery().getQueryParams().loadsAllData()})},e.prototype.getCompleteServerCache=function(e){var t=null;return o.forEach(this.views_,function(n,i){t=t||i.getCompleteServerCache(e)}),t},e.prototype.viewForQuery=function(e){var t=e.getQueryParams();if(t.loadsAllData())return this.getCompleteView();var n=e.queryIdentifier();return o.safeGet(this.views_,n)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){var e=o.findValue(this.views_,function(e){return e.getQuery().getQueryParams().loadsAllData()});return e||null},e}(),Kt=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new Dt(n));var i=this.writeTree_.findRootMostValueAndPath(t);if(null!=i){var r=i.path,o=i.value,s=H.relativePath(r,t);return o=o.updateChild(s,n),new e(this.writeTree_.set(r,o))}var a=new Dt(n),l=this.writeTree_.setTree(t,a);return new e(l)},e.prototype.addWrites=function(e,t){var n=this;return o.forEach(t,function(t,i){n=n.addWrite(e.child(t),i)}),n},e.prototype.removeWrite=function(t){if(t.isEmpty())return e.Empty;var n=this.writeTree_.setTree(t,Dt.Empty);return new e(n)},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(H.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Ye,function(t,n){e.push(new Oe(t,n))}):this.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Oe(t,n.value))}),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new Dt(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(t){return e.applySubtreeWrite_(H.Empty,this.writeTree_,t)},e.Empty=new e(new Dt(null)),e.applySubtreeWrite_=function(t,n,i){if(null!=n.value)return i.updateChild(t,n.value);var r=null;return n.children.inorderTraversal(function(n,s){".priority"===n?(o.assert(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):i=e.applySubtreeWrite_(t.child(n),s,i)}),i.getChild(t).isEmpty()||null===r||(i=i.updateChild(t.child(".priority"),r)),i},e}(),Qt=function(){function e(){this.visibleWrites_=Kt.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new Jt(e,this)},e.prototype.addOverwrite=function(e,t,n,i){o.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:i}),i&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){o.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex(function(t){return t.writeId===e});o.assert(n>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[n];this.allWrites_.splice(n,1);var r=i.visible,s=!1,a=this.allWrites_.length-1;while(r&&a>=0){var l=this.allWrites_[a];l.visible&&(a>=n&&this.recordContainsPath_(l,i.path)?r=!1:i.path.contains(l.path)&&(s=!0)),a--}if(r){if(s)return this.resetTree_(),!0;if(i.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(i.path);else{var u=i.children;o.forEach(u,function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(i.path.child(e))})}return!0}return!1},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,i,r){if(i||r){var o=this.visibleWrites_.childCompoundWrite(t);if(!r&&o.isEmpty())return n;if(r||null!=n||o.hasCompleteWrite(H.Empty)){var s=function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))},a=e.layerTree_(this.allWrites_,s,t);c=n||st.EMPTY_NODE;return a.apply(c)}return null}var l=this.visibleWrites_.getCompleteNode(t);if(null!=l)return l;var u=this.visibleWrites_.childCompoundWrite(t);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite(H.Empty)){var c=n||st.EMPTY_NODE;return u.apply(c)}return null},e.prototype.calcCompleteEventChildren=function(e,t){var n=st.EMPTY_NODE,i=this.visibleWrites_.getCompleteNode(e);if(i)return i.isLeafNode()||i.forEachChild(Ye,function(e,t){n=n.updateImmediateChild(e,t)}),n;if(t){var r=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(Ye,function(e,t){var i=r.childCompoundWrite(new H(e)).apply(t);n=n.updateImmediateChild(e,i)}),r.getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n}var o=this.visibleWrites_.childCompoundWrite(e);return o.getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,i){o.assert(n||i,"Either existingEventSnap or existingServerSnap must exist");var r=e.child(t);if(this.visibleWrites_.hasCompleteWrite(r))return null;var s=this.visibleWrites_.childCompoundWrite(r);return s.isEmpty()?i.getChild(t):s.apply(i.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var i=e.child(t),r=this.visibleWrites_.getCompleteNode(i);if(null!=r)return r;if(n.isCompleteForChild(t)){var o=this.visibleWrites_.childCompoundWrite(i);return o.apply(n.getNode().getImmediateChild(t))}return null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,i,r,o){var s,a=this.visibleWrites_.childCompoundWrite(e),l=a.getCompleteNode(H.Empty);if(null!=l)s=l;else{if(null==t)return[];s=a.apply(t)}if(s=s.withIndex(o),s.isEmpty()||s.isLeafNode())return[];var u=[],c=o.getCompare(),h=r?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),d=h.getNext();while(d&&u.length<i)0!==c(d,n)&&u.push(d),d=h.getNext();return u},e.prototype.recordContainsPath_=function(e,t){return e.snap?e.path.contains(t):!!o.findKey(e.children,function(n,i){return e.path.child(i).contains(t)})},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,H.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var i=Kt.Empty,r=0;r<e.length;++r){var s=e[r];if(t(s)){var a=s.path,l=void 0;if(s.snap)n.contains(a)?(l=H.relativePath(n,a),i=i.addWrite(l,s.snap)):a.contains(n)&&(l=H.relativePath(a,n),i=i.addWrite(H.Empty,s.snap.getChild(l)));else{if(!s.children)throw o.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))l=H.relativePath(n,a),i=i.addWrites(l,s.children);else if(a.contains(n))if(l=H.relativePath(a,n),l.isEmpty())i=i.addWrites(H.Empty,s.children);else{var u=o.safeGet(s.children,l.getFront());if(u){var c=u.getChild(l.popFront());i=i.addWrite(H.Empty,c)}}}}}return i},e}(),Jt=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,i,r){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,i,r)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),Zt=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=Dt.Empty,this.pendingWriteTree_=new Qt,this.tagToQueryMap_={},this.queryToTagMap_={}}return e.prototype.applyUserOverwrite=function(e,t,n,i){return this.pendingWriteTree_.addOverwrite(e,t,n,i),i?this.applyOperationToSyncPoints_(new Lt(Nt.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var i=Dt.fromObject(t);return this.applyOperationToSyncPoints_(new Mt(Nt.User,e,i))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e),i=this.pendingWriteTree_.removeWrite(e);if(i){var r=Dt.Empty;return null!=n.snap?r=r.set(H.Empty,!0):o.forEach(n.children,function(e,t){r=r.set(new H(e),t)}),this.applyOperationToSyncPoints_(new At(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new Lt(Nt.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=Dt.fromObject(t);return this.applyOperationToSyncPoints_(new Mt(Nt.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new Rt(Nt.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,i){var r=this.queryKeyForTag_(i);if(null!=r){var o=e.parseQueryKey_(r),s=o.path,a=o.queryId,l=H.relativePath(s,t),u=new Lt(Nt.forServerTaggedQuery(a),l,n);return this.applyTaggedOperation_(s,u)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,i){var r=this.queryKeyForTag_(i);if(r){var o=e.parseQueryKey_(r),s=o.path,a=o.queryId,l=H.relativePath(s,t),u=Dt.fromObject(n),c=new Mt(Nt.forServerTaggedQuery(a),l,u);return this.applyTaggedOperation_(s,c)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var i=this.queryKeyForTag_(n);if(i){var r=e.parseQueryKey_(i),o=r.path,s=r.queryId,a=H.relativePath(o,t),l=new Rt(Nt.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,l)}return[]},e.prototype.addEventRegistration=function(t,n){var i=t.path,r=null,s=!1;this.syncPointTree_.foreachOnPath(i,function(e,t){var n=H.relativePath(e,i);r=r||t.getCompleteServerCache(n),s=s||t.hasCompleteView()});var a,l=this.syncPointTree_.get(i);if(l?(s=s||l.hasCompleteView(),r=r||l.getCompleteServerCache(H.Empty)):(l=new Xt,this.syncPointTree_=this.syncPointTree_.set(i,l)),null!=r)a=!0;else{a=!1,r=st.EMPTY_NODE;var u=this.syncPointTree_.subtree(i);u.foreachChild(function(e,t){var n=t.getCompleteServerCache(H.Empty);n&&(r=r.updateImmediateChild(e,n))})}var c=l.viewExistsForQuery(t);if(!c&&!t.getQueryParams().loadsAllData()){var h=e.makeQueryKey_(t);o.assert(!(h in this.queryToTagMap_),"View does not exist, but we have a tag");var d=e.getNextQueryTag_();this.queryToTagMap_[h]=d,this.tagToQueryMap_["_"+d]=h}var p=this.pendingWriteTree_.childWrites(i),f=l.addEventRegistration(t,n,p,r,a);if(!c&&!s){var v=l.viewForQuery(t);f=f.concat(this.setupListener_(t,v))}return f},e.prototype.removeEventRegistration=function(t,n,i){var r=this,o=t.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===t.queryIdentifier()||s.viewExistsForQuery(t))){var l=s.removeEventRegistration(t,n,i);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=l.removed;a=l.events;var c=-1!==u.findIndex(function(e){return e.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(e,t){return t.hasCompleteView()});if(c&&!h){var d=this.syncPointTree_.subtree(o);if(!d.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(d),f=0;f<p.length;++f){var v=p[f],m=v.getQuery(),g=this.createListenerForView_(v);this.listenProvider_.startListening(e.queryForListening_(m),this.tagForQuery_(m),g.hashFn,g.onComplete)}}if(!h&&u.length>0&&!i)if(c){var y=null;this.listenProvider_.stopListening(e.queryForListening_(t),y)}else u.forEach(function(t){var n=r.queryToTagMap_[e.makeQueryKey_(t)];r.listenProvider_.stopListening(e.queryForListening_(t),n)});this.removeTags_(u)}return a},e.prototype.calcCompleteEventCache=function(e,t){var n=!0,i=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,function(t,n){var i=H.relativePath(t,e),r=n.getCompleteServerCache(i);if(r)return r});return i.calcCompleteEventCache(e,r,t,n)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(e,t,n){if(t&&t.hasCompleteView()){var i=t.getCompleteView();return[i]}var r=[];return t&&(r=t.getQueryViews()),o.forEach(n,function(e,t){r=r.concat(t)}),r})},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var i=t[n];if(!i.getQueryParams().loadsAllData()){var r=e.makeQueryKey_(i),o=this.queryToTagMap_[r];delete this.queryToTagMap_[r],delete this.tagToQueryMap_["_"+o]}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var i=t.path,r=this.tagForQuery_(t),s=this.createListenerForView_(n),a=this.listenProvider_.startListening(e.queryForListening_(t),r,s.hashFn,s.onComplete),l=this.syncPointTree_.subtree(i);if(r)o.assert(!l.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=l.fold(function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var i=[];return t&&(i=i.concat(t.getQueryViews().map(function(e){return e.getQuery()}))),o.forEach(n,function(e,t){i=i.concat(t)}),i}),c=0;c<u.length;++c){var h=u[c];this.listenProvider_.stopListening(e.queryForListening_(h),this.tagForQuery_(h))}return a},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),i=this.tagForQuery_(n);return{hashFn:function(){var t=e.getServerCache()||st.EMPTY_NODE;return t.hash()},onComplete:function(e){if("ok"===e)return i?t.applyTaggedListenComplete(n.path,i):t.applyListenComplete(n.path);var r=U(e,n);return t.removeEventRegistration(n,null,r)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return o.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new H(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap_["_"+e]},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return o.safeGet(this.queryToTagMap_,n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);o.assert(n,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,i,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(H.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,i){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,i);var r=t.get(H.Empty);null==n&&null!=r&&(n=r.getCompleteServerCache(H.Empty));var o=[],s=e.path.getFront(),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){var u=n?n.getImmediateChild(s):null,c=i.child(s);o=o.concat(this.applyOperationHelper_(a,l,u,c))}return r&&(o=o.concat(r.applyOperation(e,i,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,i){var r=this,o=t.get(H.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(H.Empty));var s=[];return t.children.inorderTraversal(function(t,o){var a=n?n.getImmediateChild(t):null,l=i.child(t),u=e.operationForChild(t);u&&(s=s.concat(r.applyOperationDescendantsHelper_(u,o,a,l)))}),o&&(s=s.concat(o.applyOperation(e,i,n))),s},e.nextQueryTag_=1,e}(),en=function(){function e(){this.rootNode_=st.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),tn=function(){function e(e){this.app_=e}return e.prototype.getToken=function(e){return this.app_["INTERNAL"]["getToken"](e).then(null,function(e){return e&&"auth/token-not-initialized"===e.code?(w("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})},e.prototype.addTokenChangeListener=function(e){this.app_["INTERNAL"]["addAuthTokenListener"](e)},e.prototype.removeTokenChangeListener=function(e){this.app_["INTERNAL"]["removeAuthTokenListener"](e)},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',S(e)},e}(),nn=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),o.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return o.deepCopy(this.counters_)},e}(),rn=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new nn),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),on=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=o.clone(e);return this.last_&&o.forEach(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t},e}(),sn=1e4,an=3e4,ln=3e5,un=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new on(e);var n=sn+(an-sn)*Math.random();q(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},i=!1;o.forEach(t,function(t,r){r>0&&o.contains(e.statsToReport_,t)&&(n[t]=r,i=!0)}),i&&this.server_.reportStats(n),q(this.reportStats_.bind(this),Math.floor(2*Math.random()*ln))},e}(),cn=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var i=e[n],r=i.getPath();null===t||r.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new hn(r)),t.add(i)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.equals(e)})},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.contains(e)||e.contains(t)})},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var i=this.eventLists_[n];if(i){var r=i.getPath();e(r)?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1}}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),hn=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();y&&w("event: "+t.toString()),B(n)}}},e.prototype.getPath=function(){return this.path_},e}(),dn=function(){function e(e){this.allowedEvents_=e,this.listeners_={},o.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var i=this.listeners_[e].slice(),r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var i=this.getInitialEvent(e);i&&t.apply(n,i)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var i=this.listeners_[e]||[],r=0;r<i.length;r++)if(i[r].callback===t&&(!n||n===i[r].context))return void i.splice(r,1)},e.prototype.validateEventType_=function(e){o.assert(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},e}(),pn=function(e){function t(){var t,n,i=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document["hidden"]?(n="visibilitychange",t="hidden"):"undefined"!==typeof document["mozHidden"]?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document["msHidden"]?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document["webkitHidden"]&&(n="webkitvisibilitychange",t="webkitHidden")),i.visible_=!0,n&&document.addEventListener(n,function(){var e=!document[t];e!==i.visible_&&(i.visible_=e,i.trigger("visible",e))},!1),i}return a.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return o.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(dn),fn=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||o.isMobileCordova()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return a.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return o.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(dn),vn=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;var i=function(){var e=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var t=function(t){e[t]&&B(function(){n.onMessage_(e[t])})},i=0;i<e.length;++i)t(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;while(this.pendingResponses[this.currentResponseNum]){var o=i();if("break"===o)break}},e}(),mn="start",gn="close",yn="pLPCommand",bn="pRTLPCB",_n="id",wn="pw",En="ser",Cn="cb",Tn="seg",Sn="ts",xn="d",kn="disconn",In="dframe",Pn=1870,Nn=30,An=Pn-Nn,On=25e3,Dn=3e4,Rn=function(){function e(e,t,n,i){this.connId=e,this.repoInfo=t,this.transportSessionId=n,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(e),this.stats_=rn.getCollection(t),this.urlFn=function(e){return t.connectionURL(ne,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new vn(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(Dn)),I(function(){if(!n.isClosed_){n.scriptTagHolder=new Ln(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],r=e[1],o=e[2];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i==mn)n.id=r,n.password=o;else{if(i!==gn)throw new Error("Unrecognized command received: "+i);r?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(r,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],r=e[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,r)},function(){n.onClosed_()},n.urlFn);var e={};e[mn]="t",e[En]=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e[Cn]=n.scriptTagHolder.uniqueCallbackIdentifier),e[X]=Y,n.transportSessionId&&(e[K]=n.transportSessionId),n.lastSessionId&&(e[ee]=n.lastSessionId),!o.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf(Z)&&(e[Q]=J);var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!$()&&!j()&&!o.isNodeSdk()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=o.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=o.base64Encode(t),i=L(n,An),r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!o.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={};n[In]="t",n[_n]=e,n[wn]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=o.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Ln=function(){function e(t,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Et,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,o.isNodeSdk())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window[yn+this.uniqueCallbackIdentifier]=t,window[bn+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){w("frame writing exception"),u.stack&&w(u.stack),w(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{var t=e.contentWindow.document;t||w("No IE domain setting required")}catch(i){var n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var t=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0))),o.isNodeSdk()&&this.myID){var n={};n[kn]="t",n[_n]=this.myID,n[wn]=this.myPW;var i=this.urlFn(n);e.nodeRestRequest(i)}var r=this.onDisconnect;r&&(this.onDisconnect=null,r())},e.prototype.startLongPoll=function(e,t){this.myID=e,this.myPW=t,this.alive=!0;while(this.newRequest_());},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[_n]=this.myID,e[wn]=this.myPW,e[En]=this.currentSerial;var t=this.urlFn(e),n="",i=0;while(this.pendingSegs.length>0){var r=this.pendingSegs[0];if(!(r.d.length+Nn+n.length<=Pn))break;var o=this.pendingSegs.shift();n=n+"&"+Tn+i+"="+o.seg+"&"+Sn+i+"="+o.ts+"&"+xn+i+"="+o.d,i++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t,1);var i=function(){n.outstandingRequests.remove(t),n.newRequest_()},r=setTimeout(i,Math.floor(On)),o=function(){clearTimeout(r),i()};this.addTag(e,o)},e.prototype.addTag=function(e,t){var n=this;o.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var e=i.readyState;e&&"loaded"!==e&&"complete"!==e||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=function(){w("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(r){}},Math.floor(1))},e}(),Mn=16384,Fn=45e3,$n=null;"undefined"!==typeof MozWebSocket?$n=MozWebSocket:"undefined"!==typeof WebSocket&&($n=WebSocket);var jn=function(){function e(t,n,i,r){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=rn.getCollection(n),this.connURL=e.connectionURL_(n,i,r)}return e.connectionURL_=function(e,t,n){var i={};return i[X]=Y,!o.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf(Z)&&(i[Q]=J),t&&(i[K]=t),n&&(i[ee]=n),e.connectionURL(te,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if(o.isNodeSdk()){var r=o.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",s={headers:{"User-Agent":"Firebase/"+Y+"/"+l.SDK_VERSION+"/"+i.platform+"/"+r}},a=Object({VUE_APP_CLI_UI_URL:"",NODE_ENV:"production",BASE_URL:"/"}),u=0==this.connURL.indexOf("wss://")?a["HTTPS_PROXY"]||a["https_proxy"]:a["HTTP_PROXY"]||a["http_proxy"];u&&(s["proxy"]={origin:u}),this.mySock=new $n(this.connURL,[],s)}else this.mySock=new $n(this.connURL)}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==$n&&!e.forceDisallow_},e.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var n=o.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(o.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e["data"];if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=o.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=L(t,Mn);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(Fn))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),Un=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Rn,jn]},enumerable:!0,configurable:!0}),e.prototype.initTransports_=function(t){var n=jn&&jn["isAvailable"](),i=n&&!jn.previouslyFailed();if(t.webSocketOnly&&(n||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[jn];else{var r=this.transports_=[];M(e.ALL_TRANSPORTS,function(e,t){t&&t["isAvailable"]()&&r.push(t)})}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),Vn=6e4,zn=5e3,Bn=10240,Wn=102400,qn="t",Hn="d",Gn="s",Yn="r",Xn="e",Kn="o",Qn="a",Jn="n",Zn="p",ei="h",ti=function(){function e(e,t,n,i,r,o,s){this.id=e,this.repoInfo_=t,this.onMessage_=n,this.onReady_=i,this.onDisconnect_=r,this.onKill_=o,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new Un(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,i)},Math.floor(0));var r=t["healthyTimeout"]||0;r>0&&(this.healthyTimeout_=q(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>Wn?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>Bn?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(r)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!=t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if(qn in e){var t=e[qn];t===Qn?this.upgradeIfSecondaryHealthy_():t===Yn?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):t===Kn&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);if("c"==t)this.onSecondaryControl_(n);else{if("d"!=t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Zn,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Qn,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Jn,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);"c"==t?this.onControl_(n):"d"==t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=D(qn,e);if(Hn in e){var n=e[Hn];if(t===ei)this.onHandshake_(n);else if(t===Jn){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Gn?this.onConnectionShutdown_(n):t===Yn?this.onReset_(n):t===Xn?C("Server Error: "+n):t===Kn?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(i),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Y!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),q(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(Vn))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):q(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(zn))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Zn,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),ni=function(){function e(){}return e.prototype.put=function(e,t,n,i){},e.prototype.merge=function(e,t,n,i){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),ii=1e3,ri=3e5,oi=3e4,si=1.3,ai=3e4,li="server_kill",ui=3,ci=function(e){function t(n,i,r,s,a,l){var u=e.call(this)||this;if(u.repoInfo_=n,u.onDataUpdate_=i,u.onConnectStatus_=r,u.onServerInfoUpdate_=s,u.authTokenProvider_=a,u.authOverride_=l,u.id=t.nextPersistentConnectionId_++,u.log_=E("p:"+u.id+":"),u.interruptReasons_={},u.listens_={},u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=ii,u.maxReconnectDelay_=ri,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,l&&!o.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),pn.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&fn.getInstance().on("online",u.onOnline_,u),u}return a.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_(o.stringify(r)),o.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)},t.prototype.listen=function(e,t,n,i){var r=e.queryIdentifier(),s=e.path.toString();this.log_("Listen called for "+s+" "+r),this.listens_[s]=this.listens_[s]||{},o.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),o.assert(!this.listens_[s][r],"listen() called twice for same path/queryId.");var a={onComplete:i,hashFn:t,query:e,tag:n};this.listens_[s][r]=a,this.connected_&&this.sendListen_(a)},t.prototype.sendListen_=function(e){var n=this,i=e.query,r=i.path.toString(),o=i.queryIdentifier();this.log_("Listen on "+r+" for "+o);var s={p:r},a="q";e.tag&&(s["q"]=i.queryObject(),s["t"]=e.tag),s["h"]=e.hashFn(),this.sendRequest(a,s,function(s){var a=s["d"],l=s["s"];t.warnOnListenWarnings_(a,i);var u=n.listens_[r]&&n.listens_[r][o];u===e&&(n.log_("listen response",s),"ok"!==l&&n.removeListen_(r,o),e.onComplete&&e.onComplete(l,a))})},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&o.contains(e,"w")){var n=o.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',r=t.path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+r+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t=e&&40===e.length;(t||o.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=oi)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=o.isValidFormat(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i["noauth"]=!0:"object"===typeof this.authOverride_&&(i["authvar"]=this.authOverride_),this.sendRequest(n,i,function(n){var i=n["s"],r=n["d"]||"error";e.authToken_===t&&("ok"===i?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(i,r))})}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),i=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+i),o.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query");var r=this.removeListen_(n,i);r&&this.connected_&&this.sendUnlisten_(n,i,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);var r={p:e},o="n";i&&(r["q"]=n,r["t"]=i),this.sendRequest(o,r)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,i){var r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,function(e){i&&setTimeout(function(){i(e["s"],e["d"])},Math.floor(0))})},t.prototype.put=function(e,t,n,i){this.putInternal("p",e,t,n,i)},t.prototype.merge=function(e,t,n,i){this.putInternal("m",e,t,n,i)},t.prototype.putInternal=function(e,t,n,i,r){var o={p:t,d:n};void 0!==r&&(o["h"]=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,function(i){t.log_(n+" response",i),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),r&&r(i["s"],i["d"])})},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){var n=e["s"];if("ok"!==n){var i=e["d"];t.log_("reportStats","Error sending stats: "+i)}})}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+o.stringify(e));var t=e["r"],n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e["b"]))}else{if("error"in e)throw"A server-side error has occurred: "+e["error"];"a"in e&&this.onDataPush_(e["a"],e["b"])}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t["p"],t["d"],!1,t["t"]):"m"===e?this.onDataUpdate_(t["p"],t["d"],!0,t["t"]):"c"===e?this.onListenRevoked_(t["p"],t["q"]):"ac"===e?this.onAuthRevoked_(t["s"],t["d"]):"sd"===e?this.onSecurityDebugPacket_(t):C("Unrecognized action received from server: "+o.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;o.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ii,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ii,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var e=(new Date).getTime()-this.lastConnectionEstablishedTime_;e>ai&&(this.reconnectDelay_=ii),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*si)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+t.nextConnectionId_++,s=this,a=this.lastSessionId,l=!1,u=null,c=function(){u?u.close():(l=!0,i())},h=function(e){o.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)};this.realtime_={close:c,sendRequest:h};var d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(d).then(function(t){l?w("getToken() completed but was canceled"):(w("getToken() completed. Creating connection."),s.authToken_=t&&t.accessToken,u=new ti(r,s.repoInfo_,e,n,i,function(e){S(e+" ("+s.repoInfo_.toString()+")"),s.interrupt(li)},a))}).then(null,function(e){s.log_("Failed to get token: "+e),l||(o.CONSTANTS.NODE_ADMIN&&S(e),c())})}},t.prototype.interrupt=function(e){w("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){w("Resuming connection for reason: "+e),delete this.interruptReasons_[e],o.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=ii,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map(function(e){return R(e)}).join("$"):"default";var i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,i=new H(e).toString();return void 0!==this.listens_[i]?(n=this.listens_[i][t],delete this.listens_[i][t],0===o.getCount(this.listens_[i])&&delete this.listens_[i]):n=void 0,n},t.prototype.onAuthRevoked_=function(e,t){w("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ui&&(this.reconnectDelay_=oi,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e["msg"].replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e=this;this.tryAuth(),o.forEach(this.listens_,function(t,n){o.forEach(n,function(t,n){e.sendListen_(n)})});for(var t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);while(this.onDisconnectRequestQueue_.length){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";o.CONSTANTS.NODE_ADMIN?t="admin_node":o.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+l.SDK_VERSION.replace(/\./g,"-")]=1,o.isMobileCordova()?e["framework.cordova"]=1:o.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=fn.getInstance().currentlyOnline();return o.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ni),hi=function(e){function t(t,n,i){var r=e.call(this)||this;return r.repoInfo_=t,r.onDataUpdate_=n,r.authTokenProvider_=i,r.log_=E("p:rest:"),r.listens_={},r}return a.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(o.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,i,r){var s=this,a=e.path.toString();this.log_("Listen called for "+a+" "+e.queryIdentifier());var l=t.getListenId_(e,i),u={};this.listens_[l]=u;var c=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",c,function(e,t){var n,c=t;(404===e&&(c=null,e=null),null===e&&s.onDataUpdate_(a,c,!1,i),o.safeGet(s.listens_,l)===u)&&(n=e?401==e?"permission_denied":"rest_error:"+e:"ok",r(n,null))})},t.prototype.unlisten=function(e,n){var i=t.getListenId_(e,n);delete this.listens_[i]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var i=this;void 0===t&&(t={}),t["format"]="export",this.authTokenProvider_.getToken(!1).then(function(r){var s=r&&r.accessToken;s&&(t["auth"]=s);var a=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+e+"?ns="+i.repoInfo_.namespace+o.querystring(t);i.log_("Sending REST request for "+a);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){i.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=o.jsonEval(l.responseText)}catch(t){S("Failed to parse JSON response for "+a+": "+l.responseText)}n(null,e)}else 401!==l.status&&404!==l.status&&S("Got unsuccessful REST response for "+a+" Status: "+l.status),n(l.status);n=null}},l.open("GET",a,!0),l.send()})},t}(ni),di="repo_interrupt",pi=function(){function e(e,t,n){var i=this;this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new cn,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Ct,this.persistentConnection_=null;var r=new tn(n);if(this.stats_=rn.getCollection(e),t||W())this.server_=new hi(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var s=n.options["databaseAuthVariableOverride"];if("undefined"!==typeof s&&null!==s){if("object"!==typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{o.stringify(s)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}this.persistentConnection_=new ci(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,s),this.server_=this.persistentConnection_}r.addTokenChangeListener(function(e){i.server_.refreshAuthToken(e)}),this.statsReporter_=rn.getOrCreateReporter(e,function(){return new un(i.stats_,i.server_)}),this.transactions_init_(),this.infoData_=new en,this.infoSyncTree_=new Zt({startListening:function(e,t,n,r){var o=[],s=i.infoData_.getNode(e.path);return s.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(e.path,s),setTimeout(function(){r("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Zt({startListening:function(e,t,n,r){return i.server_.listen(e,n,t,function(t,n){var o=r(t,n);i.eventQueue_.raiseEventsForChangedPath(e.path,o)}),[]},stopListening:function(e,t){i.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new H(".info/serverTimeOffset")),t=e.val()||0;return(new Date).getTime()+t},e.prototype.generateServerValues=function(){return Tt({timestamp:this.serverTime()})},e.prototype.onDataUpdate_=function(e,t,n,i){this.dataUpdateCount++;var r=new H(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var s=[];if(i)if(n){var a=o.map(t,function(e){return ct(e)});s=this.serverSyncTree_.applyTaggedQueryMerge(r,a,i)}else{var l=ct(t);s=this.serverSyncTree_.applyTaggedQueryOverwrite(r,l,i)}else if(n){var u=o.map(t,function(e){return ct(e)});s=this.serverSyncTree_.applyServerMerge(r,u)}else{var c=ct(t);s=this.serverSyncTree_.applyServerOverwrite(r,c)}var h=r;s.length>0&&(h=this.rerunTransactions_(r)),this.eventQueue_.raiseEventsForChangedPath(h,s)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;M(e,function(e,n){t.updateInfo_(n,e)})},e.prototype.updateInfo_=function(e,t){var n=new H("/.info/"+e),i=ct(t);this.infoData_.updateSnapshot(n,i);var r=this.infoSyncTree_.applyServerOverwrite(n,i);this.eventQueue_.raiseEventsForChangedPath(n,r)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,i){var r=this;this.log_("set",{path:e.toString(),value:t,priority:n});var o=this.generateServerValues(),s=ct(t,n),a=kt(s,o),l=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserOverwrite(e,a,l,!0);this.eventQueue_.queueEvents(u),this.server_.put(e.toString(),s.val(!0),function(t,n){var o="ok"===t;o||S("set at "+e+" failed: "+t);var s=r.serverSyncTree_.ackUserWrite(l,!o);r.eventQueue_.raiseEventsForChangedPath(e,s),r.callOnCompleteCallback(i,t,n)});var c=this.abortTransactions_(e);this.rerunTransactions_(c),this.eventQueue_.raiseEventsForChangedPath(c,[])},e.prototype.update=function(e,t,n){var i=this;this.log_("update",{path:e.toString(),value:t});var r=!0,s=this.generateServerValues(),a={};if(o.forEach(t,function(e,t){r=!1;var n=ct(t);a[e]=kt(n,s)}),r)w("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var l=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(e,a,l);this.eventQueue_.queueEvents(u),this.server_.merge(e.toString(),t,function(t,r){var o="ok"===t;o||S("update at "+e+" failed: "+t);var s=i.serverSyncTree_.ackUserWrite(l,!o),a=s.length>0?i.rerunTransactions_(e):e;i.eventQueue_.raiseEventsForChangedPath(a,s),i.callOnCompleteCallback(n,t,r)}),o.forEach(t,function(t){var n=i.abortTransactions_(e.child(t));i.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=xt(this.onDisconnect_,t),i=[];n.forEachTree(H.Empty,function(t,n){i=i.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var r=e.abortTransactions_(t);e.rerunTransactions_(r)}),this.onDisconnect_=new Ct,this.eventQueue_.raiseEventsForChangedPath(H.Empty,i)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),function(i,r){"ok"===i&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,i,r)})},e.prototype.onDisconnectSet=function(e,t,n){var i=this,r=ct(t);this.server_.onDisconnectPut(e.toString(),r.val(!0),function(t,o){"ok"===t&&i.onDisconnect_.remember(e,r),i.callOnCompleteCallback(n,t,o)})},e.prototype.onDisconnectSetWithPriority=function(e,t,n,i){var r=this,o=ct(t,n);this.server_.onDisconnectPut(e.toString(),o.val(!0),function(t,n){"ok"===t&&r.onDisconnect_.remember(e,o),r.callOnCompleteCallback(i,t,n)})},e.prototype.onDisconnectUpdate=function(e,t,n){var i=this;if(o.isEmpty(t))return w("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,function(r,s){"ok"===r&&o.forEach(t,function(t,n){var r=ct(n);i.onDisconnect_.remember(e.child(t),r)}),i.callOnCompleteCallback(n,r,s)})},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(di)},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(di)},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!==typeof console){var t;e?(this.statsListener_||(this.statsListener_=new on(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce(function(e,t){return Math.max(t.length,e)},0);o.forEach(t,function(e,t){for(var i=e.length;i<n+2;i++)e+=" ";console.log(e+t)})}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),w.apply(void 0,[n].concat(e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&B(function(){if("ok"==t)e(null);else{var i=(t||"error").toUpperCase(),r=i;n&&(r+=": "+n);var o=new Error(r);o.code=i,e(o)}})},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new Ti(this))},enumerable:!0,configurable:!0}),e}(),fi=function(){function e(t){this.indexedFilter_=new Ut(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,i,r,o){return this.matches(new Oe(t,n))||(n=st.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,r,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=st.EMPTY_NODE);var i=t.withIndex(this.index_);i=i.updatePriority(st.EMPTY_NODE);var r=this;return t.forEachChild(Ye,function(e,t){r.matches(new Oe(e,t))||(i=i.updateImmediateChild(e,st.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),vi=function(){function e(e){this.rangedFilter_=new fi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,i,r,o){return this.rangedFilter_.matches(new Oe(t,n))||(n=st.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,r,o):this.fullLimitUpdateChild_(e,t,n,r,o)},e.prototype.updateFullNode=function(e,t,n){var i;if(t.isLeafNode()||t.isEmpty())i=st.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){i=st.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);var o=0;while(r.hasNext()&&o<this.limit_){var s=r.getNext(),a=void 0;if(a=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0,!a)break;i=i.updateImmediateChild(s.name,s.node),o++}}else{i=t.withIndex(this.index_),i=i.updatePriority(st.EMPTY_NODE);var l=void 0,u=void 0,c=void 0;r=void 0;if(this.reverse_){r=i.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();c=function(e,t){return h(t,e)}}else r=i.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;var d=!1;while(r.hasNext()){s=r.getNext();!d&&c(l,s)<=0&&(d=!0);a=d&&o<this.limit_&&c(s,u)<=0;a?o++:i=i.updateImmediateChild(s.name,st.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,i,r){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(e,t){return a(t,e)}}else s=this.index_.getCompare();var l=e;o.assert(l.numChildren()==this.limit_,"");var u=new Oe(t,n),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(l.hasChild(t)){var d=l.getImmediateChild(t),p=i.getChildAfterChild(this.index_,c,this.reverse_);while(null!=p&&(p.name==t||l.hasChild(p.name)))p=i.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:s(p,u),v=h&&!n.isEmpty()&&f>=0;if(v)return null!=r&&r.trackChildChange(jt.childChangedChange(t,n,d)),l.updateImmediateChild(t,n);null!=r&&r.trackChildChange(jt.childRemovedChange(t,d));var m=l.updateImmediateChild(t,st.EMPTY_NODE),g=null!=p&&this.rangedFilter_.matches(p);return g?(null!=r&&r.trackChildChange(jt.childAddedChange(p.name,p.node)),m.updateImmediateChild(p.name,p.node)):m}return n.isEmpty()?e:h&&s(c,u)>=0?(null!=r&&(r.trackChildChange(jt.childRemovedChange(c.name,c.node)),r.trackChildChange(jt.childAddedChange(t,n))),l.updateImmediateChild(t,n).updateImmediateChild(c.name,st.EMPTY_NODE)):e},e}(),mi=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ye}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return o.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return o.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:P},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return o.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return o.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:N},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return o.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var i=this.viewFrom_;""===i&&(i=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=i}return this.index_!==Ye&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Ye},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new Ut(this.getIndex()):this.hasLimit()?new vi(this):new fi(this)},e.prototype.toRestQueryStringParameters=function(){var t,n=e.REST_QUERY_CONSTANTS_,i={};return this.isDefault()?i:(this.index_===Ye?t=n.PRIORITY_INDEX:this.index_===ft?t=n.VALUE_INDEX:this.index_===Le?t=n.KEY_INDEX:(o.assert(this.index_ instanceof vt,"Unrecognized index type!"),t=this.index_.toString()),i[n.ORDER_BY]=o.stringify(t),this.startSet_&&(i[n.START_AT]=o.stringify(this.indexStartValue_),this.startNameSet_&&(i[n.START_AT]+=","+o.stringify(this.indexStartName_))),this.endSet_&&(i[n.END_AT]=o.stringify(this.indexEndValue_),this.endNameSet_&&(i[n.END_AT]+=","+o.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?i[n.LIMIT_TO_FIRST]=this.limit_:i[n.LIMIT_TO_LAST]=this.limit_),i)},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}(),gi=function(e){function t(t,n){var i=this;if(!(t instanceof pi))throw new Error("new Reference() no longer supported - use app.database().");return i=e.call(this,t,n,mi.DEFAULT,!1)||this,i}return a.__extends(t,e),t.prototype.getKey=function(){return o.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return o.validateArgCount("Reference.child",1,1,arguments.length),"number"===typeof e?e=String(e):e instanceof H||(null===this.path.getFront()?Se("Reference.child",1,e,!1):Te("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){o.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){o.validateArgCount("Reference.root",0,0,arguments.length);var e=this;while(null!==e.getParent())e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){o.validateArgCount("Reference.set",1,2,arguments.length),xe("Reference.set",this.path),ge("Reference.set",1,e,this.path,!1),o.validateCallback("Reference.set",2,t,!0);var n=new o.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(o.validateArgCount("Reference.update",1,2,arguments.length),xe("Reference.update",this.path),Array.isArray(e)){for(var n={},i=0;i<e.length;++i)n[""+i]=e[i];e=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_e("Reference.update",1,e,this.path,!1),o.validateCallback("Reference.update",2,t,!0);var r=new o.Deferred;return this.repo.update(this.path,e,r.wrapCallback(t)),r.promise},t.prototype.setWithPriority=function(e,t,n){if(o.validateArgCount("Reference.setWithPriority",2,3,arguments.length),xe("Reference.setWithPriority",this.path),ge("Reference.setWithPriority",1,e,this.path,!1),we("Reference.setWithPriority",2,t,!1),o.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new o.Deferred;return this.repo.setWithPriority(this.path,e,t,i.wrapCallback(n)),i.promise},t.prototype.remove=function(e){return o.validateArgCount("Reference.remove",0,1,arguments.length),xe("Reference.remove",this.path),o.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(o.validateArgCount("Reference.transaction",1,3,arguments.length),xe("Reference.transaction",this.path),o.validateCallback("Reference.transaction",1,e,!1),o.validateCallback("Reference.transaction",2,t,!0),Ie("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var i=new o.Deferred;"function"===typeof t&&i.promise.catch(function(){});var r=function(e,n,r){e?i.reject(e):i.resolve(new Ne(n,r)),"function"===typeof t&&t(e,n,r)};return this.repo.startTransaction(this.path,e,r,n),i.promise},t.prototype.setPriority=function(e,t){o.validateArgCount("Reference.setPriority",1,2,arguments.length),xe("Reference.setPriority",this.path),we("Reference.setPriority",1,e,!1),o.validateCallback("Reference.setPriority",2,t,!0);var n=new o.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){o.validateArgCount("Reference.push",0,2,arguments.length),xe("Reference.push",this.path),ge("Reference.push",1,e,this.path,!0),o.validateCallback("Reference.push",2,t,!0);var n,i=this.repo.serverTime(),r=Ae(i),s=this.child(r),a=this.child(r);return n=null!=e?s.set(e,t).then(function(){return a}):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),"function"===typeof t&&n.catch(function(){}),s},t.prototype.onDisconnect=function(){return xe("Reference.onDisconnect",this.path),new Pe(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),t}(wt);wt.__referenceConstructor=gi,Xt.__referenceConstructor=gi;var yi,bi=function(){function e(){this.children={},this.childCount=0,this.value=null}return e}(),_i=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new bi),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){var n,i=t instanceof H?t:new H(t),r=this;while(null!==(n=i.getFront())){var s=o.safeGet(r.node_.children,n)||new bi;r=new e(n,r,s),i=i.popFront()}return r},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){o.assert("undefined"!==typeof e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;o.forEach(this.node_.children,function(i,r){t(new e(i,n,r))})},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild(function(t){t.forEachDescendant(e,!0,n)}),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){var n=t?this:this.parent();while(null!==n){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)})},e.prototype.path=function(){return new H(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),i=o.contains(this.node_.children,e);n&&i?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||i||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}();(function(e){e[e["RUN"]=0]="RUN",e[e["SENT"]=1]="SENT",e[e["COMPLETED"]=2]="COMPLETED",e[e["SENT_NEEDS_ABORT"]=3]="SENT_NEEDS_ABORT",e[e["NEEDS_ABORT"]=4]="NEEDS_ABORT"})(yi||(yi={})),pi.MAX_TRANSACTION_RETRIES_=25,pi.prototype.transactions_init_=function(){this.transactionQueueTree_=new _i},pi.prototype.startTransaction=function(e,t,n,i){this.log_("transaction on "+e);var r=function(){},s=new gi(this,e);s.on("value",r);var a=function(){s.off("value",r)},l={path:e,update:t,onComplete:n,status:null,order:v(),applyLocally:i,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(e);l.currentInputSnapshot=u;var c=l.update(u.val());if(void 0===c){if(l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete){var h=new mt(l.currentInputSnapshot,new gi(this,l.path),Ye);l.onComplete(null,!1,h)}}else{ye("transaction failed: Data returned ",c,l.path),l.status=yi.RUN;var d=this.transactionQueueTree_.subTree(e),p=d.getValue()||[];p.push(l),d.setValue(p);var f=void 0;if("object"===typeof c&&null!==c&&o.contains(c,".priority"))f=o.safeGet(c,".priority"),o.assert(me(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var m=this.serverSyncTree_.calcCompleteEventCache(e)||st.EMPTY_NODE;f=m.getPriority().val()}f=f;var g=this.generateServerValues(),y=ct(c,f),b=kt(y,g);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=b,l.currentWriteId=this.getNextWriteId_();var _=this.serverSyncTree_.applyUserOverwrite(e,b,l.currentWriteId,l.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,_),this.sendReadyTransactions_()}},pi.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||st.EMPTY_NODE},pi.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);o.assert(n.length>0,"Sending zero length transaction queue");var i=n.every(function(e){return e.status===yi.RUN});i&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild(function(e){t.sendReadyTransactions_(e)})},pi.prototype.sendTransactionQueue_=function(e,t){for(var n=this,i=t.map(function(e){return e.currentWriteId}),r=this.getLatestState_(e,i),s=r,a=r.hash(),l=0;l<t.length;l++){var u=t[l];o.assert(u.status===yi.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=yi.SENT,u.retryCount++;var c=H.relativePath(e,u.path);s=s.updateChild(c,u.currentOutputSnapshotRaw)}var h=s.val(!0),d=e;this.server_.put(d.toString(),h,function(i){n.log_("transaction put response",{path:d.toString(),status:i});var r=[];if("ok"===i){for(var o=[],s=0;s<t.length;s++){if(t[s].status=yi.COMPLETED,r=r.concat(n.serverSyncTree_.ackUserWrite(t[s].currentWriteId)),t[s].onComplete){var a=t[s].currentOutputSnapshotResolved,l=new gi(n,t[s].path),u=new mt(a,l,Ye);o.push(t[s].onComplete.bind(null,null,!0,u))}t[s].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,r);for(s=0;s<o.length;s++)B(o[s])}else{if("datastale"===i)for(s=0;s<t.length;s++)t[s].status===yi.SENT_NEEDS_ABORT?t[s].status=yi.NEEDS_ABORT:t[s].status=yi.RUN;else{S("transaction at "+d.toString()+" failed: "+i);for(s=0;s<t.length;s++)t[s].status=yi.NEEDS_ABORT,t[s].abortReason=i}n.rerunTransactions_(e)}},a)},pi.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),i=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(i,n),n},pi.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n=[],i=[],r=e.filter(function(e){return e.status===yi.RUN}),s=r.map(function(e){return e.currentWriteId}),a=0;a<e.length;a++){var l=e[a],u=H.relativePath(t,l.path),c=!1,h=void 0;if(o.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===yi.NEEDS_ABORT)c=!0,h=l.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else if(l.status===yi.RUN)if(l.retryCount>=pi.MAX_TRANSACTION_RETRIES_)c=!0,h="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else{var d=this.getLatestState_(l.path,s);l.currentInputSnapshot=d;var p=e[a].update(d.val());if(void 0!==p){ye("transaction failed: Data returned ",p,l.path);var f=ct(p),v="object"===typeof p&&null!=p&&o.contains(p,".priority");v||(f=f.updatePriority(d.getPriority()));var m=l.currentWriteId,g=this.generateServerValues(),y=kt(f,g);l.currentOutputSnapshotRaw=f,l.currentOutputSnapshotResolved=y,l.currentWriteId=this.getNextWriteId_(),s.splice(s.indexOf(m),1),i=i.concat(this.serverSyncTree_.applyUserOverwrite(l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(this.serverSyncTree_.ackUserWrite(m,!0))}else c=!0,h="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,i),i=[],c&&(e[a].status=yi.COMPLETED,function(e){setTimeout(e,Math.floor(0))}(e[a].unwatcher),e[a].onComplete))if("nodata"===h){var b=new gi(this,e[a].path),_=e[a].currentInputSnapshot,w=new mt(_,b,Ye);n.push(e[a].onComplete.bind(null,null,!1,w))}else n.push(e[a].onComplete.bind(null,new Error(h),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(a=0;a<n.length;a++)B(n[a]);this.sendReadyTransactions_()}},pi.prototype.getAncestorTransactionNode_=function(e){var t,n=this.transactionQueueTree_;while(null!==(t=e.getFront())&&null===n.getValue())n=n.subTree(t),e=e.popFront();return n},pi.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort(function(e,t){return e.order-t.order}),t},pi.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,i=e.getValue();if(null!==i)for(var r=0;r<i.length;r++)t.push(i[r]);e.forEachChild(function(e){n.aggregateTransactionQueuesForNode_(e,t)})},pi.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var i=0,r=0;r<n.length;r++)n[r].status!==yi.COMPLETED&&(n[i]=n[r],i++);n.length=i,e.setValue(n.length>0?n:null)}e.forEachChild(function(e){t.pruneCompletedTransactionsBelowNode_(e)})},pi.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),i=this.transactionQueueTree_.subTree(e);return i.forEachAncestor(function(e){t.abortTransactionsOnNode_(e)}),this.abortTransactionsOnNode_(i),i.forEachDescendant(function(e){t.abortTransactionsOnNode_(e)}),n},pi.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],i=[],r=-1,s=0;s<t.length;s++)if(t[s].status===yi.SENT_NEEDS_ABORT);else if(t[s].status===yi.SENT)o.assert(r===s-1,"All SENT items should be at beginning of queue."),r=s,t[s].status=yi.SENT_NEEDS_ABORT,t[s].abortReason="set";else if(o.assert(t[s].status===yi.RUN,"Unexpected transaction status in abort"),t[s].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(t[s].currentWriteId,!0)),t[s].onComplete){var a=null;n.push(t[s].onComplete.bind(null,new Error("set"),!1,a))}-1===r?e.setValue(null):t.length=r+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),i);for(s=0;s<n.length;s++)B(n[s])}};var wi,Ei="databaseURL",Ci=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return wi||(wi=new e),wi},e.prototype.interrupt=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].interrupt()},e.prototype.resume=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].resume()},e.prototype.databaseFromApp=function(e,t){var n=t||e.options[Ei];void 0===n&&T("Can't determine Firebase Database URL.  Be sure to include "+Ei+" option when calling firebase.initializeApp().");var i=le(n),r=i.repoInfo;ke("Invalid Firebase Database URL",1,i),i.path.isEmpty()||T("Database URL must point to the root of a Firebase Database (not including a child path).");var o=this.createRepo(r,e);return o.database},e.prototype.deleteRepo=function(e){var t=o.safeGet(this.repos_,e.app.name);t&&o.safeGet(t,e.repoInfo_.toURLString())===e||T("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t){var n=o.safeGet(this.repos_,t.name);n||(n={},this.repos_[t.name]=n);var i=o.safeGet(n,e.toURLString());return i&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new pi(e,this.useRestClient_,t),n[e.toURLString()]=i,i},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),Ti=function(){function e(e){this.repo_=e,e instanceof pi||T("Don't call new Database() directly - please use firebase.database()."),this.root_=new gi(e,H.Empty),this.INTERNAL=new Si(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),o.validateArgCount("database.ref",0,1,arguments.length),e instanceof gi?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),o.validateArgCount(t,1,1,arguments.length);var n=le(e);ke(t,1,n);var i=n.repoInfo;return i.host!==this.repo_.repoInfo_.host&&T(t+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&T("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){o.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){o.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"}},e}(),Si=function(){function e(e){this.database=e}return e.prototype.delete=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return this.database.checkDeleted_("delete"),Ci.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},e}(),xi=function(){jn.forceDisallow(),Rn.forceAllow()},ki=function(){Rn.forceDisallow()},Ii=function(){return jn["isAvailable"]()},Pi=function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},Ni=function(e,t){e.repo.stats(t)},Ai=function(e,t){e.repo.statsIncrementCounter(t)},Oi=function(e){return e.repo.dataUpdateCount},Di=function(e,t){return e.repo.interceptServerData_(t)},Ri=Object.freeze({forceLongPolling:xi,forceWebSockets:ki,isWebSocketsAvailable:Ii,setSecurityDebugCallback:Pi,stats:Ni,statsIncrementCounter:Ai,dataUpdateCount:Oi,interceptServerData:Di}),Li=ci;ci.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},ci.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Mi=ti,Fi=function(e){var t=ci.prototype.put;return ci.prototype.put=function(n,i,r,o){void 0!==o&&(o=e()),t.call(this,n,i,r,o)},function(){ci.prototype.put=t}},$i=ie,ji=function(e){return e.queryIdentifier()},Ui=function(e){return e.repo.persistentConnection_.listens_},Vi=function(e){Ci.getInstance().forceRestClient(e)},zi=Object.freeze({DataConnection:Li,RealTimeConnection:Mi,hijackHash:Fi,ConnectionTarget:$i,queryIdentifier:ji,listens:Ui,forceRestClient:Vi}),Bi=Ti.ServerValue;function Wi(t){var n=t.INTERNAL.registerService("database",function(e,t,n){return Ci.getInstance().databaseFromApp(e,n)},{Reference:gi,Query:wt,Database:Ti,enableLogging:_,INTERNAL:Ri,ServerValue:Bi,TEST_ACCESS:zi},null,!0);o.isNodeSdk()&&(e.exports=n)}Wi(l),t.registerDatabase=Wi,t.Database=Ti,t.Query=wt,t.Reference=gi,t.enableLogging=_,t.ServerValue=Bi,t.DataSnapshot=mt,t.OnDisconnect=Pe}).call(this,n("4362"))},"37c8":function(e,t,n){t.f=n("2b4c")},"387f":function(e,t,n){"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e}},"38fd":function(e,t,n){var i=n("69a8"),r=n("4bf8"),o=n("613b")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},3934:function(e,t,n){"use strict";var i=n("c532");e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},"3a72":function(e,t,n){var i=n("7726"),r=n("8378"),o=n("2d00"),s=n("37c8"),a=n("86cc").f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},"3b1d":function(e,t,n){n("8a81"),n("06db"),n("ac4d"),n("c7ca"),e.exports=n("8378").Symbol},"41a0":function(e,t,n){"use strict";var i=n("2aeb"),r=n("4630"),o=n("7f20"),s={};n("32e9")(s,n("2b4c")("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(s,{next:r(1,n)}),o(e,t+" Iterator")}},"41d6":function(e,t,n){"use strict";var i="undefined"===typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,r="undefined"===typeof window?{document:i,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window;class o{constructor(e){const t=this;for(let n=0;n<e.length;n+=1)t[n]=e[n];return t.length=e.length,this}}function s(e,t){const n=[];let s=0;if(e&&!t&&e instanceof o)return e;if(e)if("string"===typeof e){let r,o;const a=e.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){let e="div";for(0===a.indexOf("<li")&&(e="ul"),0===a.indexOf("<tr")&&(e="tbody"),0!==a.indexOf("<td")&&0!==a.indexOf("<th")||(e="tr"),0===a.indexOf("<tbody")&&(e="table"),0===a.indexOf("<option")&&(e="select"),o=i.createElement(e),o.innerHTML=a,s=0;s<o.childNodes.length;s+=1)n.push(o.childNodes[s])}else for(r=t||"#"!==e[0]||e.match(/[ .<>:~]/)?(t||i).querySelectorAll(e.trim()):[i.getElementById(e.trim().split("#")[1])],s=0;s<r.length;s+=1)r[s]&&n.push(r[s])}else if(e.nodeType||e===r||e===i)n.push(e);else if(e.length>0&&e[0].nodeType)for(s=0;s<e.length;s+=1)n.push(e[s]);return new o(n)}function a(e){const t=[];for(let n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function l(e){if("undefined"===typeof e)return this;const t=e.split(" ");for(let n=0;n<t.length;n+=1)for(let e=0;e<this.length;e+=1)"undefined"!==typeof this[e]&&"undefined"!==typeof this[e].classList&&this[e].classList.add(t[n]);return this}function u(e){const t=e.split(" ");for(let n=0;n<t.length;n+=1)for(let e=0;e<this.length;e+=1)"undefined"!==typeof this[e]&&"undefined"!==typeof this[e].classList&&this[e].classList.remove(t[n]);return this}function c(e){return!!this[0]&&this[0].classList.contains(e)}function h(e){const t=e.split(" ");for(let n=0;n<t.length;n+=1)for(let e=0;e<this.length;e+=1)"undefined"!==typeof this[e]&&"undefined"!==typeof this[e].classList&&this[e].classList.toggle(t[n]);return this}function d(e,t){if(1===arguments.length&&"string"===typeof e)return this[0]?this[0].getAttribute(e):void 0;for(let n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(const t in e)this[n][t]=e[t],this[n].setAttribute(t,e[t]);return this}function p(e){for(let t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this}function f(e,t){let n;if("undefined"!==typeof t){for(let i=0;i<this.length;i+=1)n=this[i],n.dom7ElementDataStorage||(n.dom7ElementDataStorage={}),n.dom7ElementDataStorage[e]=t;return this}if(n=this[0],n){if(n.dom7ElementDataStorage&&e in n.dom7ElementDataStorage)return n.dom7ElementDataStorage[e];const t=n.getAttribute(`data-${e}`);return t||void 0}}function v(e){for(let t=0;t<this.length;t+=1){const n=this[t].style;n.webkitTransform=e,n.transform=e}return this}function m(e){"string"!==typeof e&&(e=`${e}ms`);for(let t=0;t<this.length;t+=1){const n=this[t].style;n.webkitTransitionDuration=e,n.transitionDuration=e}return this}function g(...e){let[t,n,i,r]=e;function o(e){const t=e.target;if(!t)return;const r=e.target.dom7EventData||[];if(r.indexOf(e)<0&&r.unshift(e),s(t).is(n))i.apply(t,r);else{const e=s(t).parents();for(let t=0;t<e.length;t+=1)s(e[t]).is(n)&&i.apply(e[t],r)}}function a(e){const t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),i.apply(this,t)}"function"===typeof e[1]&&([t,i,r]=e,n=void 0),r||(r=!1);const l=t.split(" ");let u;for(let s=0;s<this.length;s+=1){const e=this[s];if(n)for(u=0;u<l.length;u+=1){const t=l[u];e.dom7LiveListeners||(e.dom7LiveListeners={}),e.dom7LiveListeners[t]||(e.dom7LiveListeners[t]=[]),e.dom7LiveListeners[t].push({listener:i,proxyListener:o}),e.addEventListener(t,o,r)}else for(u=0;u<l.length;u+=1){const t=l[u];e.dom7Listeners||(e.dom7Listeners={}),e.dom7Listeners[t]||(e.dom7Listeners[t]=[]),e.dom7Listeners[t].push({listener:i,proxyListener:a}),e.addEventListener(t,a,r)}}return this}function y(...e){let[t,n,i,r]=e;"function"===typeof e[1]&&([t,i,r]=e,n=void 0),r||(r=!1);const o=t.split(" ");for(let s=0;s<o.length;s+=1){const e=o[s];for(let t=0;t<this.length;t+=1){const o=this[t];let s;if(!n&&o.dom7Listeners?s=o.dom7Listeners[e]:n&&o.dom7LiveListeners&&(s=o.dom7LiveListeners[e]),s&&s.length)for(let t=s.length-1;t>=0;t-=1){const n=s[t];i&&n.listener===i?(o.removeEventListener(e,n.proxyListener,r),s.splice(t,1)):i&&n.listener&&n.listener.dom7proxy&&n.listener.dom7proxy===i?(o.removeEventListener(e,n.proxyListener,r),s.splice(t,1)):i||(o.removeEventListener(e,n.proxyListener,r),s.splice(t,1))}}}return this}function b(...e){const t=e[0].split(" "),n=e[1];for(let s=0;s<t.length;s+=1){const a=t[s];for(let t=0;t<this.length;t+=1){const s=this[t];let l;try{l=new r.CustomEvent(a,{detail:n,bubbles:!0,cancelable:!0})}catch(o){l=i.createEvent("Event"),l.initEvent(a,!0,!0),l.detail=n}s.dom7EventData=e.filter((e,t)=>t>0),s.dispatchEvent(l),s.dom7EventData=[],delete s.dom7EventData}}return this}function _(e){const t=["webkitTransitionEnd","transitionend"],n=this;let i;function r(o){if(o.target===this)for(e.call(this,o),i=0;i<t.length;i+=1)n.off(t[i],r)}if(e)for(i=0;i<t.length;i+=1)n.on(t[i],r);return this}function w(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function E(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function C(){if(this.length>0){const e=this[0],t=e.getBoundingClientRect(),n=i.body,o=e.clientTop||n.clientTop||0,s=e.clientLeft||n.clientLeft||0,a=e===r?r.scrollY:e.scrollTop,l=e===r?r.scrollX:e.scrollLeft;return{top:t.top+a-o,left:t.left+l-s}}return null}function T(){return this[0]?r.getComputedStyle(this[0],null):{}}function S(e,t){let n;if(1===arguments.length){if("string"!==typeof e){for(n=0;n<this.length;n+=1)for(let t in e)this[n].style[t]=e[t];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"===typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this}function x(e){if(!e)return this;for(let t=0;t<this.length;t+=1)if(!1===e.call(this[t],t,this[t]))return this;return this}function k(e){if("undefined"===typeof e)return this[0]?this[0].innerHTML:void 0;for(let t=0;t<this.length;t+=1)this[t].innerHTML=e;return this}function I(e){if("undefined"===typeof e)return this[0]?this[0].textContent.trim():null;for(let t=0;t<this.length;t+=1)this[t].textContent=e;return this}function P(e){const t=this[0];let n,a;if(!t||"undefined"===typeof e)return!1;if("string"===typeof e){if(t.matches)return t.matches(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);for(n=s(e),a=0;a<n.length;a+=1)if(n[a]===t)return!0;return!1}if(e===i)return t===i;if(e===r)return t===r;if(e.nodeType||e instanceof o){for(n=e.nodeType?[e]:e,a=0;a<n.length;a+=1)if(n[a]===t)return!0;return!1}return!1}function N(){let e,t=this[0];if(t){e=0;while(null!==(t=t.previousSibling))1===t.nodeType&&(e+=1);return e}}function A(e){if("undefined"===typeof e)return this;const t=this.length;let n;return e>t-1?new o([]):e<0?(n=t+e,new o(n<0?[]:[this[n]])):new o([this[e]])}function O(...e){let t;for(let n=0;n<e.length;n+=1){t=e[n];for(let e=0;e<this.length;e+=1)if("string"===typeof t){const n=i.createElement("div");n.innerHTML=t;while(n.firstChild)this[e].appendChild(n.firstChild)}else if(t instanceof o)for(let n=0;n<t.length;n+=1)this[e].appendChild(t[n]);else this[e].appendChild(t)}return this}function D(e){let t,n;for(t=0;t<this.length;t+=1)if("string"===typeof e){const r=i.createElement("div");for(r.innerHTML=e,n=r.childNodes.length-1;n>=0;n-=1)this[t].insertBefore(r.childNodes[n],this[t].childNodes[0])}else if(e instanceof o)for(n=0;n<e.length;n+=1)this[t].insertBefore(e[n],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this}function R(e){return this.length>0?e?this[0].nextElementSibling&&s(this[0].nextElementSibling).is(e)?new o([this[0].nextElementSibling]):new o([]):this[0].nextElementSibling?new o([this[0].nextElementSibling]):new o([]):new o([])}function L(e){const t=[];let n=this[0];if(!n)return new o([]);while(n.nextElementSibling){const i=n.nextElementSibling;e?s(i).is(e)&&t.push(i):t.push(i),n=i}return new o(t)}function M(e){if(this.length>0){const t=this[0];return e?t.previousElementSibling&&s(t.previousElementSibling).is(e)?new o([t.previousElementSibling]):new o([]):t.previousElementSibling?new o([t.previousElementSibling]):new o([])}return new o([])}function F(e){const t=[];let n=this[0];if(!n)return new o([]);while(n.previousElementSibling){const i=n.previousElementSibling;e?s(i).is(e)&&t.push(i):t.push(i),n=i}return new o(t)}function $(e){const t=[];for(let n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?s(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return s(a(t))}function j(e){const t=[];for(let n=0;n<this.length;n+=1){let i=this[n].parentNode;while(i)e?s(i).is(e)&&t.push(i):t.push(i),i=i.parentNode}return s(a(t))}function U(e){let t=this;return"undefined"===typeof e?new o([]):(t.is(e)||(t=t.parents(e).eq(0)),t)}function V(e){const t=[];for(let n=0;n<this.length;n+=1){const i=this[n].querySelectorAll(e);for(let e=0;e<i.length;e+=1)t.push(i[e])}return new o(t)}function z(e){const t=[];for(let n=0;n<this.length;n+=1){const i=this[n].childNodes;for(let n=0;n<i.length;n+=1)e?1===i[n].nodeType&&s(i[n]).is(e)&&t.push(i[n]):1===i[n].nodeType&&t.push(i[n])}return new o(a(t))}function B(){for(let e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}function W(...e){const t=this;let n,i;for(n=0;n<e.length;n+=1){const r=s(e[n]);for(i=0;i<r.length;i+=1)t[t.length]=r[i],t.length+=1}return t}s.fn=o.prototype,s.Class=o,s.Dom7=o;"resize scroll".split(" ");const q={addClass:l,removeClass:u,hasClass:c,toggleClass:h,attr:d,removeAttr:p,data:f,transform:v,transition:m,on:g,off:y,trigger:b,transitionEnd:_,outerWidth:w,outerHeight:E,offset:C,css:S,each:x,html:k,text:I,is:P,index:N,eq:A,append:O,prepend:D,next:R,nextAll:L,prev:M,prevAll:F,parent:$,parents:j,closest:U,find:V,children:z,remove:B,add:W,styles:T};Object.keys(q).forEach(e=>{s.fn[e]=q[e]});const H={deleteProps(e){const t=e;Object.keys(t).forEach(e=>{try{t[e]=null}catch(n){}try{delete t[e]}catch(n){}})},nextTick(e,t=0){return setTimeout(e,t)},now(){return Date.now()},getTranslate(e,t="x"){let n,i,o;const s=r.getComputedStyle(e,null);return r.WebKitCSSMatrix?(i=s.transform||s.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(e=>e.replace(",",".")).join(", ")),o=new r.WebKitCSSMatrix("none"===i?"":i)):(o=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=o.toString().split(",")),"x"===t&&(i=r.WebKitCSSMatrix?o.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(i=r.WebKitCSSMatrix?o.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),i||0},parseUrlQuery(e){const t={};let n,i,o,s,a=e||r.location.href;if("string"===typeof a&&a.length)for(a=a.indexOf("?")>-1?a.replace(/\S*\?/,""):"",i=a.split("&").filter(e=>""!==e),s=i.length,n=0;n<s;n+=1)o=i[n].replace(/#\S+/g,"").split("="),t[decodeURIComponent(o[0])]="undefined"===typeof o[1]?void 0:decodeURIComponent(o[1])||"";return t},isObject(e){return"object"===typeof e&&null!==e&&e.constructor&&e.constructor===Object},extend(...e){const t=Object(e[0]);for(let n=1;n<e.length;n+=1){const i=e[n];if(void 0!==i&&null!==i){const e=Object.keys(Object(i));for(let n=0,r=e.length;n<r;n+=1){const r=e[n],o=Object.getOwnPropertyDescriptor(i,r);void 0!==o&&o.enumerable&&(H.isObject(t[r])&&H.isObject(i[r])?H.extend(t[r],i[r]):!H.isObject(t[r])&&H.isObject(i[r])?(t[r]={},H.extend(t[r],i[r])):t[r]=i[r])}}}return t}},G=function(){const e=i.createElement("div");return{touch:r.Modernizr&&!0===r.Modernizr.touch||function(){return!!(r.navigator.maxTouchPoints>0||"ontouchstart"in r||r.DocumentTouch&&i instanceof r.DocumentTouch)}(),pointerEvents:!!(r.navigator.pointerEnabled||r.PointerEvent||"maxTouchPoints"in r.navigator),prefixedPointerEvents:!!r.navigator.msPointerEnabled,transition:function(){const t=e.style;return"transition"in t||"webkitTransition"in t||"MozTransition"in t}(),transforms3d:r.Modernizr&&!0===r.Modernizr.csstransforms3d||function(){const t=e.style;return"webkitPerspective"in t||"MozPerspective"in t||"OPerspective"in t||"MsPerspective"in t||"perspective"in t}(),flexbox:function(){const t=e.style,n="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" ");for(let e=0;e<n.length;e+=1)if(n[e]in t)return!0;return!1}(),observer:function(){return"MutationObserver"in r||"WebkitMutationObserver"in r}(),passiveListener:function(){let e=!1;try{const n=Object.defineProperty({},"passive",{get(){e=!0}});r.addEventListener("testPassiveListener",null,n)}catch(t){}return e}(),gestures:function(){return"ongesturestart"in r}()}}();class Y{constructor(e={}){const t=this;t.params=e,t.eventsListeners={},t.params&&t.params.on&&Object.keys(t.params.on).forEach(e=>{t.on(e,t.params.on[e])})}on(e,t,n){const i=this;if("function"!==typeof t)return i;const r=n?"unshift":"push";return e.split(" ").forEach(e=>{i.eventsListeners[e]||(i.eventsListeners[e]=[]),i.eventsListeners[e][r](t)}),i}once(e,t,n){const i=this;if("function"!==typeof t)return i;function r(...n){t.apply(i,n),i.off(e,r)}return i.on(e,r,n)}off(e,t){const n=this;return n.eventsListeners?(e.split(" ").forEach(e=>{"undefined"===typeof t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].length&&n.eventsListeners[e].forEach((i,r)=>{i===t&&n.eventsListeners[e].splice(r,1)})}),n):n}emit(...e){const t=this;if(!t.eventsListeners)return t;let n,i,r;"string"===typeof e[0]||Array.isArray(e[0])?(n=e[0],i=e.slice(1,e.length),r=t):(n=e[0].events,i=e[0].data,r=e[0].context||t);const o=Array.isArray(n)?n:n.split(" ");return o.forEach(e=>{if(t.eventsListeners&&t.eventsListeners[e]){const n=[];t.eventsListeners[e].forEach(e=>{n.push(e)}),n.forEach(e=>{e.apply(r,i)})}}),t}useModulesParams(e){const t=this;t.modules&&Object.keys(t.modules).forEach(n=>{const i=t.modules[n];i.params&&H.extend(e,i.params)})}useModules(e={}){const t=this;t.modules&&Object.keys(t.modules).forEach(n=>{const i=t.modules[n],r=e[n]||{};i.instance&&Object.keys(i.instance).forEach(e=>{const n=i.instance[e];t[e]="function"===typeof n?n.bind(t):n}),i.on&&t.on&&Object.keys(i.on).forEach(e=>{t.on(e,i.on[e])}),i.create&&i.create.bind(t)(r)})}static set components(e){const t=this;t.use&&t.use(e)}static installModule(e,...t){const n=this;n.prototype.modules||(n.prototype.modules={});const i=e.name||`${Object.keys(n.prototype.modules).length}_${H.now()}`;return n.prototype.modules[i]=e,e.proto&&Object.keys(e.proto).forEach(t=>{n.prototype[t]=e.proto[t]}),e.static&&Object.keys(e.static).forEach(t=>{n[t]=e.static[t]}),e.install&&e.install.apply(n,t),n}static use(e,...t){const n=this;return Array.isArray(e)?(e.forEach(e=>n.installModule(e)),n):n.installModule(e,...t)}}function X(){const e=this;let t,n;const i=e.$el;t="undefined"!==typeof e.params.width?e.params.width:i[0].clientWidth,n="undefined"!==typeof e.params.height?e.params.height:i[0].clientHeight,0===t&&e.isHorizontal()||0===n&&e.isVertical()||(t=t-parseInt(i.css("padding-left"),10)-parseInt(i.css("padding-right"),10),n=n-parseInt(i.css("padding-top"),10)-parseInt(i.css("padding-bottom"),10),H.extend(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function K(){const e=this,t=e.params,{$wrapperEl:n,size:i,rtlTranslate:o,wrongRTL:s}=e,a=e.virtual&&t.virtual.enabled,l=a?e.virtual.slides.length:e.slides.length,u=n.children(`.${e.params.slideClass}`),c=a?e.virtual.slides.length:u.length;let h=[];const d=[],p=[];let f=t.slidesOffsetBefore;"function"===typeof f&&(f=t.slidesOffsetBefore.call(e));let v=t.slidesOffsetAfter;"function"===typeof v&&(v=t.slidesOffsetAfter.call(e));const m=e.snapGrid.length,g=e.snapGrid.length;let y,b,_=t.spaceBetween,w=-f,E=0,C=0;if("undefined"===typeof i)return;"string"===typeof _&&_.indexOf("%")>=0&&(_=parseFloat(_.replace("%",""))/100*i),e.virtualSize=-_,o?u.css({marginLeft:"",marginTop:""}):u.css({marginRight:"",marginBottom:""}),t.slidesPerColumn>1&&(y=Math.floor(c/t.slidesPerColumn)===c/e.params.slidesPerColumn?c:Math.ceil(c/t.slidesPerColumn)*t.slidesPerColumn,"auto"!==t.slidesPerView&&"row"===t.slidesPerColumnFill&&(y=Math.max(y,t.slidesPerView*t.slidesPerColumn)));const T=t.slidesPerColumn,S=y/T,x=Math.floor(c/t.slidesPerColumn);for(let I=0;I<c;I+=1){b=0;const n=u.eq(I);if(t.slidesPerColumn>1){let i,r,o;"column"===t.slidesPerColumnFill?(r=Math.floor(I/T),o=I-r*T,(r>x||r===x&&o===T-1)&&(o+=1,o>=T&&(o=0,r+=1)),i=r+o*y/T,n.css({"-webkit-box-ordinal-group":i,"-moz-box-ordinal-group":i,"-ms-flex-order":i,"-webkit-order":i,order:i})):(o=Math.floor(I/S),r=I-o*S),n.css(`margin-${e.isHorizontal()?"top":"left"}`,0!==o&&t.spaceBetween&&`${t.spaceBetween}px`).attr("data-swiper-column",r).attr("data-swiper-row",o)}if("none"!==n.css("display")){if("auto"===t.slidesPerView){const i=r.getComputedStyle(n[0],null),o=n[0].style.transform,s=n[0].style.webkitTransform;if(o&&(n[0].style.transform="none"),s&&(n[0].style.webkitTransform="none"),t.roundLengths)b=e.isHorizontal()?n.outerWidth(!0):n.outerHeight(!0);else if(e.isHorizontal()){const e=parseFloat(i.getPropertyValue("width")),t=parseFloat(i.getPropertyValue("padding-left")),n=parseFloat(i.getPropertyValue("padding-right")),r=parseFloat(i.getPropertyValue("margin-left")),o=parseFloat(i.getPropertyValue("margin-right")),s=i.getPropertyValue("box-sizing");b=s&&"border-box"===s?e+r+o:e+t+n+r+o}else{const e=parseFloat(i.getPropertyValue("height")),t=parseFloat(i.getPropertyValue("padding-top")),n=parseFloat(i.getPropertyValue("padding-bottom")),r=parseFloat(i.getPropertyValue("margin-top")),o=parseFloat(i.getPropertyValue("margin-bottom")),s=i.getPropertyValue("box-sizing");b=s&&"border-box"===s?e+r+o:e+t+n+r+o}o&&(n[0].style.transform=o),s&&(n[0].style.webkitTransform=s),t.roundLengths&&(b=Math.floor(b))}else b=(i-(t.slidesPerView-1)*_)/t.slidesPerView,t.roundLengths&&(b=Math.floor(b)),u[I]&&(e.isHorizontal()?u[I].style.width=`${b}px`:u[I].style.height=`${b}px`);u[I]&&(u[I].swiperSlideSize=b),p.push(b),t.centeredSlides?(w=w+b/2+E/2+_,0===E&&0!==I&&(w=w-i/2-_),0===I&&(w=w-i/2-_),Math.abs(w)<.001&&(w=0),t.roundLengths&&(w=Math.floor(w)),C%t.slidesPerGroup===0&&h.push(w),d.push(w)):(t.roundLengths&&(w=Math.floor(w)),C%t.slidesPerGroup===0&&h.push(w),d.push(w),w=w+b+_),e.virtualSize+=b+_,E=b,C+=1}}let k;if(e.virtualSize=Math.max(e.virtualSize,i)+v,o&&s&&("slide"===t.effect||"coverflow"===t.effect)&&n.css({width:`${e.virtualSize+t.spaceBetween}px`}),G.flexbox&&!t.setWrapperSize||(e.isHorizontal()?n.css({width:`${e.virtualSize+t.spaceBetween}px`}):n.css({height:`${e.virtualSize+t.spaceBetween}px`})),t.slidesPerColumn>1&&(e.virtualSize=(b+t.spaceBetween)*y,e.virtualSize=Math.ceil(e.virtualSize/t.slidesPerColumn)-t.spaceBetween,e.isHorizontal()?n.css({width:`${e.virtualSize+t.spaceBetween}px`}):n.css({height:`${e.virtualSize+t.spaceBetween}px`}),t.centeredSlides)){k=[];for(let n=0;n<h.length;n+=1){let i=h[n];t.roundLengths&&(i=Math.floor(i)),h[n]<e.virtualSize+h[0]&&k.push(i)}h=k}if(!t.centeredSlides){k=[];for(let n=0;n<h.length;n+=1){let r=h[n];t.roundLengths&&(r=Math.floor(r)),h[n]<=e.virtualSize-i&&k.push(r)}h=k,Math.floor(e.virtualSize-i)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-i)}if(0===h.length&&(h=[0]),0!==t.spaceBetween&&(e.isHorizontal()?o?u.css({marginLeft:`${_}px`}):u.css({marginRight:`${_}px`}):u.css({marginBottom:`${_}px`})),t.centerInsufficientSlides){let e=0;if(p.forEach(n=>{e+=n+(t.spaceBetween?t.spaceBetween:0)}),e-=t.spaceBetween,e<i){const t=(i-e)/2;h.forEach((e,n)=>{h[n]=e-t}),d.forEach((e,n)=>{d[n]=e+t})}}H.extend(e,{slides:u,snapGrid:h,slidesGrid:d,slidesSizesGrid:p}),c!==l&&e.emit("slidesLengthChange"),h.length!==m&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),d.length!==g&&e.emit("slidesGridLengthChange"),(t.watchSlidesProgress||t.watchSlidesVisibility)&&e.updateSlidesOffset()}function Q(e){const t=this,n=[];let i,r=0;if("number"===typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed),"auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const e=t.activeIndex+i;if(e>t.slides.length)break;n.push(t.slides.eq(e)[0])}else n.push(t.slides.eq(t.activeIndex)[0]);for(i=0;i<n.length;i+=1)if("undefined"!==typeof n[i]){const e=n[i].offsetHeight;r=e>r?e:r}r&&t.$wrapperEl.css("height",`${r}px`)}function J(){const e=this,t=e.slides;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=e.isHorizontal()?t[n].offsetLeft:t[n].offsetTop}function Z(e=this&&this.translate||0){const t=this,n=t.params,{slides:i,rtlTranslate:r}=t;if(0===i.length)return;"undefined"===typeof i[0].swiperSlideOffset&&t.updateSlidesOffset();let o=-e;r&&(o=e),i.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let s=0;s<i.length;s+=1){const e=i[s],a=(o+(n.centeredSlides?t.minTranslate():0)-e.swiperSlideOffset)/(e.swiperSlideSize+n.spaceBetween);if(n.watchSlidesVisibility){const r=-(o-e.swiperSlideOffset),a=r+t.slidesSizesGrid[s],l=r>=0&&r<t.size||a>0&&a<=t.size||r<=0&&a>=t.size;l&&(t.visibleSlides.push(e),t.visibleSlidesIndexes.push(s),i.eq(s).addClass(n.slideVisibleClass))}e.progress=r?-a:a}t.visibleSlides=s(t.visibleSlides)}function ee(e=this&&this.translate||0){const t=this,n=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:r,isBeginning:o,isEnd:s}=t;const a=o,l=s;0===i?(r=0,o=!0,s=!0):(r=(e-t.minTranslate())/i,o=r<=0,s=r>=1),H.extend(t,{progress:r,isBeginning:o,isEnd:s}),(n.watchSlidesProgress||n.watchSlidesVisibility)&&t.updateSlidesProgress(e),o&&!a&&t.emit("reachBeginning toEdge"),s&&!l&&t.emit("reachEnd toEdge"),(a&&!o||l&&!s)&&t.emit("fromEdge"),t.emit("progress",r)}function te(){const e=this,{slides:t,params:n,$wrapperEl:i,activeIndex:r,realIndex:o}=e,s=e.virtual&&n.virtual.enabled;let a;t.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`),a=s?e.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${r}"]`):t.eq(r),a.addClass(n.slideActiveClass),n.loop&&(a.hasClass(n.slideDuplicateClass)?i.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${o}"]`).addClass(n.slideDuplicateActiveClass):i.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${o}"]`).addClass(n.slideDuplicateActiveClass));let l=a.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&0===l.length&&(l=t.eq(0),l.addClass(n.slideNextClass));let u=a.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&0===u.length&&(u=t.eq(-1),u.addClass(n.slidePrevClass)),n.loop&&(l.hasClass(n.slideDuplicateClass)?i.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):i.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),u.hasClass(n.slideDuplicateClass)?i.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${u.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):i.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${u.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass))}function ne(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{slidesGrid:i,snapGrid:r,params:o,activeIndex:s,realIndex:a,snapIndex:l}=t;let u,c=e;if("undefined"===typeof c){for(let e=0;e<i.length;e+=1)"undefined"!==typeof i[e+1]?n>=i[e]&&n<i[e+1]-(i[e+1]-i[e])/2?c=e:n>=i[e]&&n<i[e+1]&&(c=e+1):n>=i[e]&&(c=e);o.normalizeSlideIndex&&(c<0||"undefined"===typeof c)&&(c=0)}if(u=r.indexOf(n)>=0?r.indexOf(n):Math.floor(c/o.slidesPerGroup),u>=r.length&&(u=r.length-1),c===s)return void(u!==l&&(t.snapIndex=u,t.emit("snapIndexChange")));const h=parseInt(t.slides.eq(c).attr("data-swiper-slide-index")||c,10);H.extend(t,{snapIndex:u,realIndex:h,previousIndex:s,activeIndex:c}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),a!==h&&t.emit("realIndexChange"),t.emit("slideChange")}function ie(e){const t=this,n=t.params,i=s(e.target).closest(`.${n.slideClass}`)[0];let r=!1;if(i)for(let o=0;o<t.slides.length;o+=1)t.slides[o]===i&&(r=!0);if(!i||!r)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=i,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s(i).attr("data-swiper-slide-index"),10):t.clickedIndex=s(i).index(),n.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var re={updateSize:X,updateSlides:K,updateAutoHeight:Q,updateSlidesOffset:J,updateSlidesProgress:Z,updateProgress:ee,updateSlidesClasses:te,updateActiveIndex:ne,updateClickedSlide:ie};function oe(e=(this.isHorizontal()?"x":"y")){const t=this,{params:n,rtlTranslate:i,translate:r,$wrapperEl:o}=t;if(n.virtualTranslate)return i?-r:r;let s=H.getTranslate(o[0],e);return i&&(s=-s),s||0}function se(e,t){const n=this,{rtlTranslate:i,params:r,$wrapperEl:o,progress:s}=n;let a=0,l=0;const u=0;let c;n.isHorizontal()?a=i?-e:e:l=e,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),r.virtualTranslate||(G.transforms3d?o.transform(`translate3d(${a}px, ${l}px, ${u}px)`):o.transform(`translate(${a}px, ${l}px)`)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l;const h=n.maxTranslate()-n.minTranslate();c=0===h?0:(e-n.minTranslate())/h,c!==s&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function ae(){return-this.snapGrid[0]}function le(){return-this.snapGrid[this.snapGrid.length-1]}var ue={getTranslate:oe,setTranslate:se,minTranslate:ae,maxTranslate:le};function ce(e,t){const n=this;n.$wrapperEl.transition(e),n.emit("setTransition",e,t)}function he(e=!0,t){const n=this,{activeIndex:i,params:r,previousIndex:o}=n;r.autoHeight&&n.updateAutoHeight();let s=t;if(s||(s=i>o?"next":i<o?"prev":"reset"),n.emit("transitionStart"),e&&i!==o){if("reset"===s)return void n.emit("slideResetTransitionStart");n.emit("slideChangeTransitionStart"),"next"===s?n.emit("slideNextTransitionStart"):n.emit("slidePrevTransitionStart")}}function de(e=!0,t){const n=this,{activeIndex:i,previousIndex:r}=n;n.animating=!1,n.setTransition(0);let o=t;if(o||(o=i>r?"next":i<r?"prev":"reset"),n.emit("transitionEnd"),e&&i!==r){if("reset"===o)return void n.emit("slideResetTransitionEnd");n.emit("slideChangeTransitionEnd"),"next"===o?n.emit("slideNextTransitionEnd"):n.emit("slidePrevTransitionEnd")}}var pe={setTransition:ce,transitionStart:he,transitionEnd:de};function fe(e=0,t=this.params.speed,n=!0,i){const r=this;let o=e;o<0&&(o=0);const{params:s,snapGrid:a,slidesGrid:l,previousIndex:u,activeIndex:c,rtlTranslate:h}=r;if(r.animating&&s.preventInteractionOnTransition)return!1;let d=Math.floor(o/s.slidesPerGroup);d>=a.length&&(d=a.length-1),(c||s.initialSlide||0)===(u||0)&&n&&r.emit("beforeSlideChangeStart");const p=-a[d];if(r.updateProgress(p),s.normalizeSlideIndex)for(let v=0;v<l.length;v+=1)-Math.floor(100*p)>=Math.floor(100*l[v])&&(o=v);if(r.initialized&&o!==c){if(!r.allowSlideNext&&p<r.translate&&p<r.minTranslate())return!1;if(!r.allowSlidePrev&&p>r.translate&&p>r.maxTranslate()&&(c||0)!==o)return!1}let f;return f=o>c?"next":o<c?"prev":"reset",h&&-p===r.translate||!h&&p===r.translate?(r.updateActiveIndex(o),s.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),"slide"!==s.effect&&r.setTranslate(p),"reset"!==f&&(r.transitionStart(n,f),r.transitionEnd(n,f)),!1):(0!==t&&G.transition?(r.setTransition(t),r.setTranslate(p),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,i),r.transitionStart(n,f),r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,f))}),r.$wrapperEl[0].addEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd))):(r.setTransition(0),r.setTranslate(p),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,i),r.transitionStart(n,f),r.transitionEnd(n,f)),!0)}function ve(e=0,t=this.params.speed,n=!0,i){const r=this;let o=e;return r.params.loop&&(o+=r.loopedSlides),r.slideTo(o,t,n,i)}function me(e=this.params.speed,t=!0,n){const i=this,{params:r,animating:o}=i;return r.loop?!o&&(i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft,i.slideTo(i.activeIndex+r.slidesPerGroup,e,t,n)):i.slideTo(i.activeIndex+r.slidesPerGroup,e,t,n)}function ge(e=this.params.speed,t=!0,n){const i=this,{params:r,animating:o,snapGrid:s,slidesGrid:a,rtlTranslate:l}=i;if(r.loop){if(o)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}const u=l?i.translate:-i.translate;function c(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const h=c(u),d=s.map(e=>c(e)),p=(a.map(e=>c(e)),s[d.indexOf(h)],s[d.indexOf(h)-1]);let f;return"undefined"!==typeof p&&(f=a.indexOf(p),f<0&&(f=i.activeIndex-1)),i.slideTo(f,e,t,n)}function ye(e=this.params.speed,t=!0,n){const i=this;return i.slideTo(i.activeIndex,e,t,n)}function be(e=this.params.speed,t=!0,n){const i=this;let r=i.activeIndex;const o=Math.floor(r/i.params.slidesPerGroup);if(o<i.snapGrid.length-1){const e=i.rtlTranslate?i.translate:-i.translate,t=i.snapGrid[o],n=i.snapGrid[o+1];e-t>(n-t)/2&&(r=i.params.slidesPerGroup)}return i.slideTo(r,e,t,n)}function _e(){const e=this,{params:t,$wrapperEl:n}=e,i="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let r,o=e.clickedIndex;if(t.loop){if(e.animating)return;r=parseInt(s(e.clickedSlide).attr("data-swiper-slide-index"),10),t.centeredSlides?o<e.loopedSlides-i/2||o>e.slides.length-e.loopedSlides+i/2?(e.loopFix(),o=n.children(`.${t.slideClass}[data-swiper-slide-index="${r}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),H.nextTick(()=>{e.slideTo(o)})):e.slideTo(o):o>e.slides.length-i?(e.loopFix(),o=n.children(`.${t.slideClass}[data-swiper-slide-index="${r}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),H.nextTick(()=>{e.slideTo(o)})):e.slideTo(o)}else e.slideTo(o)}var we={slideTo:fe,slideToLoop:ve,slideNext:me,slidePrev:ge,slideReset:ye,slideToClosest:be,slideToClickedSlide:_e};function Ee(){const e=this,{params:t,$wrapperEl:n}=e;n.children(`.${t.slideClass}.${t.slideDuplicateClass}`).remove();let r=n.children(`.${t.slideClass}`);if(t.loopFillGroupWithBlank){const e=t.slidesPerGroup-r.length%t.slidesPerGroup;if(e!==t.slidesPerGroup){for(let r=0;r<e;r+=1){const e=s(i.createElement("div")).addClass(`${t.slideClass} ${t.slideBlankClass}`);n.append(e)}r=n.children(`.${t.slideClass}`)}}"auto"!==t.slidesPerView||t.loopedSlides||(t.loopedSlides=r.length),e.loopedSlides=parseInt(t.loopedSlides||t.slidesPerView,10),e.loopedSlides+=t.loopAdditionalSlides,e.loopedSlides>r.length&&(e.loopedSlides=r.length);const o=[],a=[];r.each((t,n)=>{const i=s(n);t<e.loopedSlides&&a.push(n),t<r.length&&t>=r.length-e.loopedSlides&&o.push(n),i.attr("data-swiper-slide-index",t)});for(let i=0;i<a.length;i+=1)n.append(s(a[i].cloneNode(!0)).addClass(t.slideDuplicateClass));for(let i=o.length-1;i>=0;i-=1)n.prepend(s(o[i].cloneNode(!0)).addClass(t.slideDuplicateClass))}function Ce(){const e=this,{params:t,activeIndex:n,slides:i,loopedSlides:r,allowSlidePrev:o,allowSlideNext:s,snapGrid:a,rtlTranslate:l}=e;let u;e.allowSlidePrev=!0,e.allowSlideNext=!0;const c=-a[n],h=c-e.getTranslate();if(n<r){u=i.length-3*r+n,u+=r;const t=e.slideTo(u,0,!1,!0);t&&0!==h&&e.setTranslate((l?-e.translate:e.translate)-h)}else if("auto"===t.slidesPerView&&n>=2*r||n>=i.length-r){u=-i.length+n+r,u+=r;const t=e.slideTo(u,0,!1,!0);t&&0!==h&&e.setTranslate((l?-e.translate:e.translate)-h)}e.allowSlidePrev=o,e.allowSlideNext=s}function Te(){const e=this,{$wrapperEl:t,params:n,slides:i}=e;t.children(`.${n.slideClass}.${n.slideDuplicateClass},.${n.slideClass}.${n.slideBlankClass}`).remove(),i.removeAttr("data-swiper-slide-index")}var Se={loopCreate:Ee,loopFix:Ce,loopDestroy:Te};function xe(e){const t=this;if(G.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked)return;const n=t.el;n.style.cursor="move",n.style.cursor=e?"-webkit-grabbing":"-webkit-grab",n.style.cursor=e?"-moz-grabbin":"-moz-grab",n.style.cursor=e?"grabbing":"grab"}function ke(){const e=this;G.touch||e.params.watchOverflow&&e.isLocked||(e.el.style.cursor="")}var Ie={setGrabCursor:xe,unsetGrabCursor:ke};function Pe(e){const t=this,{$wrapperEl:n,params:i}=t;if(i.loop&&t.loopDestroy(),"object"===typeof e&&"length"in e)for(let r=0;r<e.length;r+=1)e[r]&&n.append(e[r]);else n.append(e);i.loop&&t.loopCreate(),i.observer&&G.observer||t.update()}function Ne(e){const t=this,{params:n,$wrapperEl:i,activeIndex:r}=t;n.loop&&t.loopDestroy();let o=r+1;if("object"===typeof e&&"length"in e){for(let t=0;t<e.length;t+=1)e[t]&&i.prepend(e[t]);o=r+e.length}else i.prepend(e);n.loop&&t.loopCreate(),n.observer&&G.observer||t.update(),t.slideTo(o,0,!1)}function Ae(e,t){const n=this,{$wrapperEl:i,params:r,activeIndex:o}=n;let s=o;r.loop&&(s-=n.loopedSlides,n.loopDestroy(),n.slides=i.children(`.${r.slideClass}`));const a=n.slides.length;if(e<=0)return void n.prependSlide(t);if(e>=a)return void n.appendSlide(t);let l=s>e?s+1:s;const u=[];for(let c=a-1;c>=e;c-=1){const e=n.slides.eq(c);e.remove(),u.unshift(e)}if("object"===typeof t&&"length"in t){for(let e=0;e<t.length;e+=1)t[e]&&i.append(t[e]);l=s>e?s+t.length:s}else i.append(t);for(let c=0;c<u.length;c+=1)i.append(u[c]);r.loop&&n.loopCreate(),r.observer&&G.observer||n.update(),r.loop?n.slideTo(l+n.loopedSlides,0,!1):n.slideTo(l,0,!1)}function Oe(e){const t=this,{params:n,$wrapperEl:i,activeIndex:r}=t;let o=r;n.loop&&(o-=t.loopedSlides,t.loopDestroy(),t.slides=i.children(`.${n.slideClass}`));let s,a=o;if("object"===typeof e&&"length"in e){for(let n=0;n<e.length;n+=1)s=e[n],t.slides[s]&&t.slides.eq(s).remove(),s<a&&(a-=1);a=Math.max(a,0)}else s=e,t.slides[s]&&t.slides.eq(s).remove(),s<a&&(a-=1),a=Math.max(a,0);n.loop&&t.loopCreate(),n.observer&&G.observer||t.update(),n.loop?t.slideTo(a+t.loopedSlides,0,!1):t.slideTo(a,0,!1)}function De(){const e=this,t=[];for(let n=0;n<e.slides.length;n+=1)t.push(n);e.removeSlide(t)}var Re={appendSlide:Pe,prependSlide:Ne,addSlide:Ae,removeSlide:Oe,removeAllSlides:De};const Le=function(){const e=r.navigator.userAgent,t={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,ipod:!1,ipad:!1,cordova:r.cordova||r.phonegap,phonegap:r.cordova||r.phonegap},n=e.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),o=e.match(/(Android);?[\s\/]+([\d.]+)?/),s=e.match(/(iPad).*OS\s([\d_]+)/),a=e.match(/(iPod)(.*OS\s([\d_]+))?/),l=!s&&e.match(/(iPhone\sOS|iOS)\s([\d_]+)/);if(n&&(t.os="windows",t.osVersion=n[2],t.windows=!0),o&&!n&&(t.os="android",t.osVersion=o[2],t.android=!0,t.androidChrome=e.toLowerCase().indexOf("chrome")>=0),(s||l||a)&&(t.os="ios",t.ios=!0),l&&!a&&(t.osVersion=l[2].replace(/_/g,"."),t.iphone=!0),s&&(t.osVersion=s[2].replace(/_/g,"."),t.ipad=!0),a&&(t.osVersion=a[3]?a[3].replace(/_/g,"."):null,t.iphone=!0),t.ios&&t.osVersion&&e.indexOf("Version/")>=0&&"10"===t.osVersion.split(".")[0]&&(t.osVersion=e.toLowerCase().split("version/")[1].split(" ")[0]),t.desktop=!(t.os||t.android||t.webView),t.webView=(l||s||a)&&e.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&"ios"===t.os){const e=t.osVersion.split("."),n=i.querySelector('meta[name="viewport"]');t.minimalUi=!t.webView&&(a||l)&&(1*e[0]===7?1*e[1]>=1:1*e[0]>7)&&n&&n.getAttribute("content").indexOf("minimal-ui")>=0}return t.pixelRatio=r.devicePixelRatio||1,t}();function Me(e){const t=this,n=t.touchEventsData,{params:o,touches:a}=t;if(t.animating&&o.preventInteractionOnTransition)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),n.isTouchEvent="touchstart"===l.type,!n.isTouchEvent&&"which"in l&&3===l.which)return;if(!n.isTouchEvent&&"button"in l&&l.button>0)return;if(n.isTouched&&n.isMoved)return;if(o.noSwiping&&s(l.target).closest(o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`)[0])return void(t.allowClick=!0);if(o.swipeHandler&&!s(l).closest(o.swipeHandler)[0])return;a.currentX="touchstart"===l.type?l.targetTouches[0].pageX:l.pageX,a.currentY="touchstart"===l.type?l.targetTouches[0].pageY:l.pageY;const u=a.currentX,c=a.currentY,h=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,d=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(!h||!(u<=d||u>=r.screen.width-d)){if(H.extend(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=u,a.startY=c,n.touchStartTime=H.now(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(n.allowThresholdMove=!1),"touchstart"!==l.type){let e=!0;s(l.target).is(n.formElements)&&(e=!1),i.activeElement&&s(i.activeElement).is(n.formElements)&&i.activeElement!==l.target&&i.activeElement.blur();const r=e&&t.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||r)&&l.preventDefault()}t.emit("touchStart",l)}}function Fe(e){const t=this,n=t.touchEventsData,{params:r,touches:o,rtlTranslate:a}=t;let l=e;if(l.originalEvent&&(l=l.originalEvent),!n.isTouched)return void(n.startMoving&&n.isScrolling&&t.emit("touchMoveOpposite",l));if(n.isTouchEvent&&"mousemove"===l.type)return;const u="touchmove"===l.type?l.targetTouches[0].pageX:l.pageX,c="touchmove"===l.type?l.targetTouches[0].pageY:l.pageY;if(l.preventedByNestedSwiper)return o.startX=u,void(o.startY=c);if(!t.allowTouchMove)return t.allowClick=!1,void(n.isTouched&&(H.extend(o,{startX:u,startY:c,currentX:u,currentY:c}),n.touchStartTime=H.now()));if(n.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(t.isVertical()){if(c<o.startY&&t.translate<=t.maxTranslate()||c>o.startY&&t.translate>=t.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(u<o.startX&&t.translate<=t.maxTranslate()||u>o.startX&&t.translate>=t.minTranslate())return;if(n.isTouchEvent&&i.activeElement&&l.target===i.activeElement&&s(l.target).is(n.formElements))return n.isMoved=!0,void(t.allowClick=!1);if(n.allowTouchCallbacks&&t.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;o.currentX=u,o.currentY=c;const h=o.currentX-o.startX,d=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(h**2+d**2)<t.params.threshold)return;if("undefined"===typeof n.isScrolling){let e;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?n.isScrolling=!1:h*h+d*d>=25&&(e=180*Math.atan2(Math.abs(d),Math.abs(h))/Math.PI,n.isScrolling=t.isHorizontal()?e>r.touchAngle:90-e>r.touchAngle)}if(n.isScrolling&&t.emit("touchMoveOpposite",l),"undefined"===typeof n.startMoving&&(o.currentX===o.startX&&o.currentY===o.startY||(n.startMoving=!0)),n.isScrolling)return void(n.isTouched=!1);if(!n.startMoving)return;t.allowClick=!1,l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation(),n.isMoved||(r.loop&&t.loopFix(),n.startTranslate=t.getTranslate(),t.setTransition(0),t.animating&&t.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,!r.grabCursor||!0!==t.allowSlideNext&&!0!==t.allowSlidePrev||t.setGrabCursor(!0),t.emit("sliderFirstMove",l)),t.emit("sliderMove",l),n.isMoved=!0;let p=t.isHorizontal()?h:d;o.diff=p,p*=r.touchRatio,a&&(p=-p),t.swipeDirection=p>0?"prev":"next",n.currentTranslate=p+n.startTranslate;let f=!0,v=r.resistanceRatio;if(r.touchReleaseOnEdges&&(v=0),p>0&&n.currentTranslate>t.minTranslate()?(f=!1,r.resistance&&(n.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+n.startTranslate+p)**v)):p<0&&n.currentTranslate<t.maxTranslate()&&(f=!1,r.resistance&&(n.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-n.startTranslate-p)**v)),f&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&"next"===t.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!t.allowSlidePrev&&"prev"===t.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),r.threshold>0){if(!(Math.abs(p)>r.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,n.currentTranslate=n.startTranslate,void(o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}r.followFinger&&((r.freeMode||r.watchSlidesProgress||r.watchSlidesVisibility)&&(t.updateActiveIndex(),t.updateSlidesClasses()),r.freeMode&&(0===n.velocities.length&&n.velocities.push({position:o[t.isHorizontal()?"startX":"startY"],time:n.touchStartTime}),n.velocities.push({position:o[t.isHorizontal()?"currentX":"currentY"],time:H.now()})),t.updateProgress(n.currentTranslate),t.setTranslate(n.currentTranslate))}function $e(e){const t=this,n=t.touchEventsData,{params:i,touches:r,rtlTranslate:o,$wrapperEl:s,slidesGrid:a,snapGrid:l}=t;let u=e;if(u.originalEvent&&(u=u.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",u),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&i.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);i.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const c=H.now(),h=c-n.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(u),t.emit("tap",u),h<300&&c-n.lastClickTime>300&&(n.clickTimeout&&clearTimeout(n.clickTimeout),n.clickTimeout=H.nextTick(()=>{t&&!t.destroyed&&t.emit("click",u)},300)),h<300&&c-n.lastClickTime<300&&(n.clickTimeout&&clearTimeout(n.clickTimeout),t.emit("doubleTap",u))),n.lastClickTime=H.now(),H.nextTick(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||0===r.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let d;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,d=i.followFinger?o?t.translate:-t.translate:-n.currentTranslate,i.freeMode){if(d<-t.minTranslate())return void t.slideTo(t.activeIndex);if(d>-t.maxTranslate())return void(t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1));if(i.freeModeMomentum){if(n.velocities.length>1){const e=n.velocities.pop(),r=n.velocities.pop(),o=e.position-r.position,s=e.time-r.time;t.velocity=o/s,t.velocity/=2,Math.abs(t.velocity)<i.freeModeMinimumVelocity&&(t.velocity=0),(s>150||H.now()-e.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=i.freeModeMomentumVelocityRatio,n.velocities.length=0;let e=1e3*i.freeModeMomentumRatio;const r=t.velocity*e;let a=t.translate+r;o&&(a=-a);let u,c=!1;const h=20*Math.abs(t.velocity)*i.freeModeMomentumBounceRatio;let d;if(a<t.maxTranslate())i.freeModeMomentumBounce?(a+t.maxTranslate()<-h&&(a=t.maxTranslate()-h),u=t.maxTranslate(),c=!0,n.allowMomentumBounce=!0):a=t.maxTranslate(),i.loop&&i.centeredSlides&&(d=!0);else if(a>t.minTranslate())i.freeModeMomentumBounce?(a-t.minTranslate()>h&&(a=t.minTranslate()+h),u=t.minTranslate(),c=!0,n.allowMomentumBounce=!0):a=t.minTranslate(),i.loop&&i.centeredSlides&&(d=!0);else if(i.freeModeSticky){let e;for(let t=0;t<l.length;t+=1)if(l[t]>-a){e=t;break}a=Math.abs(l[e]-a)<Math.abs(l[e-1]-a)||"next"===t.swipeDirection?l[e]:l[e-1],a=-a}if(d&&t.once("transitionEnd",()=>{t.loopFix()}),0!==t.velocity)e=o?Math.abs((-a-t.translate)/t.velocity):Math.abs((a-t.translate)/t.velocity);else if(i.freeModeSticky)return void t.slideToClosest();i.freeModeMomentumBounce&&c?(t.updateProgress(u),t.setTransition(e),t.setTranslate(a),t.transitionStart(!0,t.swipeDirection),t.animating=!0,s.transitionEnd(()=>{t&&!t.destroyed&&n.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(i.speed),t.setTranslate(u),s.transitionEnd(()=>{t&&!t.destroyed&&t.transitionEnd()}))})):t.velocity?(t.updateProgress(a),t.setTransition(e),t.setTranslate(a),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,s.transitionEnd(()=>{t&&!t.destroyed&&t.transitionEnd()}))):t.updateProgress(a),t.updateActiveIndex(),t.updateSlidesClasses()}else if(i.freeModeSticky)return void t.slideToClosest();return void((!i.freeModeMomentum||h>=i.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses()))}let p=0,f=t.slidesSizesGrid[0];for(let m=0;m<a.length;m+=i.slidesPerGroup)"undefined"!==typeof a[m+i.slidesPerGroup]?d>=a[m]&&d<a[m+i.slidesPerGroup]&&(p=m,f=a[m+i.slidesPerGroup]-a[m]):d>=a[m]&&(p=m,f=a[a.length-1]-a[a.length-2]);const v=(d-a[p])/f;if(h>i.longSwipesMs){if(!i.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(v>=i.longSwipesRatio?t.slideTo(p+i.slidesPerGroup):t.slideTo(p)),"prev"===t.swipeDirection&&(v>1-i.longSwipesRatio?t.slideTo(p+i.slidesPerGroup):t.slideTo(p))}else{if(!i.shortSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&t.slideTo(p+i.slidesPerGroup),"prev"===t.swipeDirection&&t.slideTo(p)}}function je(){const e=this,{params:t,el:n}=e;if(n&&0===n.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:o}=e;if(e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),t.freeMode){const n=Math.min(Math.max(e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses(),t.autoHeight&&e.updateAutoHeight()}else e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0);e.allowSlidePrev=r,e.allowSlideNext=i,e.params.watchOverflow&&o!==e.snapGrid&&e.checkOverflow()}function Ue(e){const t=this;t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}function Ve(){const e=this,{params:t,touchEvents:n,el:r,wrapperEl:o}=e;e.onTouchStart=Me.bind(e),e.onTouchMove=Fe.bind(e),e.onTouchEnd=$e.bind(e),e.onClick=Ue.bind(e);const s="container"===t.touchEventsTarget?r:o,a=!!t.nested;if(G.touch||!G.pointerEvents&&!G.prefixedPointerEvents){if(G.touch){const i=!("touchstart"!==n.start||!G.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};s.addEventListener(n.start,e.onTouchStart,i),s.addEventListener(n.move,e.onTouchMove,G.passiveListener?{passive:!1,capture:a}:a),s.addEventListener(n.end,e.onTouchEnd,i)}(t.simulateTouch&&!Le.ios&&!Le.android||t.simulateTouch&&!G.touch&&Le.ios)&&(s.addEventListener("mousedown",e.onTouchStart,!1),i.addEventListener("mousemove",e.onTouchMove,a),i.addEventListener("mouseup",e.onTouchEnd,!1))}else s.addEventListener(n.start,e.onTouchStart,!1),i.addEventListener(n.move,e.onTouchMove,a),i.addEventListener(n.end,e.onTouchEnd,!1);(t.preventClicks||t.preventClicksPropagation)&&s.addEventListener("click",e.onClick,!0),e.on(Le.ios||Le.android?"resize orientationchange observerUpdate":"resize observerUpdate",je,!0)}function ze(){const e=this,{params:t,touchEvents:n,el:r,wrapperEl:o}=e,s="container"===t.touchEventsTarget?r:o,a=!!t.nested;if(G.touch||!G.pointerEvents&&!G.prefixedPointerEvents){if(G.touch){const i=!("onTouchStart"!==n.start||!G.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};s.removeEventListener(n.start,e.onTouchStart,i),s.removeEventListener(n.move,e.onTouchMove,a),s.removeEventListener(n.end,e.onTouchEnd,i)}(t.simulateTouch&&!Le.ios&&!Le.android||t.simulateTouch&&!G.touch&&Le.ios)&&(s.removeEventListener("mousedown",e.onTouchStart,!1),i.removeEventListener("mousemove",e.onTouchMove,a),i.removeEventListener("mouseup",e.onTouchEnd,!1))}else s.removeEventListener(n.start,e.onTouchStart,!1),i.removeEventListener(n.move,e.onTouchMove,a),i.removeEventListener(n.end,e.onTouchEnd,!1);(t.preventClicks||t.preventClicksPropagation)&&s.removeEventListener("click",e.onClick,!0),e.off(Le.ios||Le.android?"resize orientationchange observerUpdate":"resize observerUpdate",je)}var Be={attachEvents:Ve,detachEvents:ze};function We(){const e=this,{activeIndex:t,initialized:n,loopedSlides:i=0,params:r}=e,o=r.breakpoints;if(!o||o&&0===Object.keys(o).length)return;const s=e.getBreakpoint(o);if(s&&e.currentBreakpoint!==s){const a=s in o?o[s]:void 0;a&&["slidesPerView","spaceBetween","slidesPerGroup"].forEach(e=>{const t=a[e];"undefined"!==typeof t&&(a[e]="slidesPerView"!==e||"AUTO"!==t&&"auto"!==t?"slidesPerView"===e?parseFloat(t):parseInt(t,10):"auto")});const l=a||e.originalParams,u=r.loop&&l.slidesPerView!==r.slidesPerView;H.extend(e.params,l),H.extend(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),e.currentBreakpoint=s,u&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-i+e.loopedSlides,0,!1)),e.emit("breakpoint",l)}}function qe(e){const t=this;if(!e)return;let n=!1;const i=[];Object.keys(e).forEach(e=>{i.push(e)}),i.sort((e,t)=>parseInt(e,10)-parseInt(t,10));for(let o=0;o<i.length;o+=1){const e=i[o];t.params.breakpointsInverse?e<=r.innerWidth&&(n=e):e>=r.innerWidth&&!n&&(n=e)}return n||"max"}var He={setBreakpoint:We,getBreakpoint:qe};const Ge=function(){function e(){const e=r.navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}return{isIE:!!r.navigator.userAgent.match(/Trident/g)||!!r.navigator.userAgent.match(/MSIE/g),isEdge:!!r.navigator.userAgent.match(/Edge/g),isSafari:e(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(r.navigator.userAgent)}}();function Ye(){const e=this,{classNames:t,params:n,rtl:i,$el:r}=e,o=[];o.push(n.direction),n.freeMode&&o.push("free-mode"),G.flexbox||o.push("no-flexbox"),n.autoHeight&&o.push("autoheight"),i&&o.push("rtl"),n.slidesPerColumn>1&&o.push("multirow"),Le.android&&o.push("android"),Le.ios&&o.push("ios"),(Ge.isIE||Ge.isEdge)&&(G.pointerEvents||G.prefixedPointerEvents)&&o.push(`wp8-${n.direction}`),o.forEach(e=>{t.push(n.containerModifierClass+e)}),r.addClass(t.join(" "))}function Xe(){const e=this,{$el:t,classNames:n}=e;t.removeClass(n.join(" "))}var Ke={addClasses:Ye,removeClasses:Xe};function Qe(e,t,n,i,o,s){let a;function l(){s&&s()}e.complete&&o?l():t?(a=new r.Image,a.onload=l,a.onerror=l,i&&(a.sizes=i),n&&(a.srcset=n),t&&(a.src=t)):l()}function Je(){const e=this;function t(){"undefined"!==typeof e&&null!==e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(let n=0;n<e.imagesToLoad.length;n+=1){const i=e.imagesToLoad[n];e.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,t)}}var Ze={loadImage:Qe,preloadImages:Je};function et(){const e=this,t=e.isLocked;e.isLocked=1===e.snapGrid.length,e.allowSlideNext=!e.isLocked,e.allowSlidePrev=!e.isLocked,t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock"),t&&t!==e.isLocked&&(e.isEnd=!1,e.navigation.update())}var tt={checkOverflow:et},nt={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,preventInteractionOnTransition:!1,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsInverse:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!0,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0};const it={update:re,translate:ue,transition:pe,slide:we,loop:Se,grabCursor:Ie,manipulation:Re,events:Be,breakpoints:He,checkOverflow:tt,classes:Ke,images:Ze},rt={};class ot extends Y{constructor(...e){let t,n;1===e.length&&e[0].constructor&&e[0].constructor===Object?n=e[0]:[t,n]=e,n||(n={}),n=H.extend({},n),t&&!n.el&&(n.el=t),super(n),Object.keys(it).forEach(e=>{Object.keys(it[e]).forEach(t=>{ot.prototype[t]||(ot.prototype[t]=it[e][t])})});const i=this;"undefined"===typeof i.modules&&(i.modules={}),Object.keys(i.modules).forEach(e=>{const t=i.modules[e];if(t.params){const e=Object.keys(t.params)[0],i=t.params[e];if("object"!==typeof i||null===i)return;if(!(e in n&&"enabled"in i))return;!0===n[e]&&(n[e]={enabled:!0}),"object"!==typeof n[e]||"enabled"in n[e]||(n[e].enabled=!0),n[e]||(n[e]={enabled:!1})}});const r=H.extend({},nt);i.useModulesParams(r),i.params=H.extend({},r,rt,n),i.originalParams=H.extend({},i.params),i.passedParams=H.extend({},n),i.$=s;const o=s(i.params.el);if(t=o[0],!t)return;if(o.length>1){const e=[];return o.each((t,i)=>{const r=H.extend({},n,{el:i});e.push(new ot(r))}),e}t.swiper=i,o.data("swiper",i);const a=o.children(`.${i.params.wrapperClass}`);return H.extend(i,{$el:o,el:t,$wrapperEl:a,wrapperEl:a[0],classNames:[],slides:s(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return"horizontal"===i.params.direction},isVertical(){return"vertical"===i.params.direction},rtl:"rtl"===t.dir.toLowerCase()||"rtl"===o.css("direction"),rtlTranslate:"horizontal"===i.params.direction&&("rtl"===t.dir.toLowerCase()||"rtl"===o.css("direction")),wrongRTL:"-webkit-box"===a.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEvents:function(){const e=["touchstart","touchmove","touchend"];let t=["mousedown","mousemove","mouseup"];return G.pointerEvents?t=["pointerdown","pointermove","pointerup"]:G.prefixedPointerEvents&&(t=["MSPointerDown","MSPointerMove","MSPointerUp"]),i.touchEventsTouch={start:e[0],move:e[1],end:e[2]},i.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},G.touch||!i.params.simulateTouch?i.touchEventsTouch:i.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video",lastClickTime:H.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.useModules(),i.params.init&&i.init(),i}slidesPerViewDynamic(){const e=this,{params:t,slides:n,slidesGrid:i,size:r,activeIndex:o}=e;let s=1;if(t.centeredSlides){let e,t=n[o].swiperSlideSize;for(let i=o+1;i<n.length;i+=1)n[i]&&!e&&(t+=n[i].swiperSlideSize,s+=1,t>r&&(e=!0));for(let i=o-1;i>=0;i-=1)n[i]&&!e&&(t+=n[i].swiperSlideSize,s+=1,t>r&&(e=!0))}else for(let a=o+1;a<n.length;a+=1)i[a]-i[o]<r&&(s+=1);return s}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;function i(){const t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}let r;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode?(i(),e.params.autoHeight&&e.updateAutoHeight()):(r=("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),r||i()),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}init(){const e=this;e.initialized||(e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.params.loop&&e.loopCreate(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.setGrabCursor(),e.params.preloadImages&&e.preloadImages(),e.params.loop?e.slideTo(e.params.initialSlide+e.loopedSlides,0,e.params.runCallbacksOnInit):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit),e.attachEvents(),e.initialized=!0,e.emit("init"))}destroy(e=!0,t=!0){const n=this,{params:i,$el:r,$wrapperEl:o,slides:s}=n;return"undefined"===typeof n.params||n.destroyed?null:(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),i.loop&&n.loopDestroy(),t&&(n.removeClasses(),r.removeAttr("style"),o.removeAttr("style"),s&&s.length&&s.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(e=>{n.off(e)}),!1!==e&&(n.$el[0].swiper=null,n.$el.data("swiper",null),H.deleteProps(n)),n.destroyed=!0,null)}static extendDefaults(e){H.extend(rt,e)}static get extendedDefaults(){return rt}static get defaults(){return nt}static get Class(){return Y}static get $(){return s}}var st={name:"device",proto:{device:Le},static:{device:Le}},at={name:"support",proto:{support:G},static:{support:G}},lt={name:"browser",proto:{browser:Ge},static:{browser:Ge}},ut={name:"resize",create(){const e=this;H.extend(e,{resize:{resizeHandler(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init(){const e=this;r.addEventListener("resize",e.resize.resizeHandler),r.addEventListener("orientationchange",e.resize.orientationChangeHandler)},destroy(){const e=this;r.removeEventListener("resize",e.resize.resizeHandler),r.removeEventListener("orientationchange",e.resize.orientationChangeHandler)}}};const ct={func:r.MutationObserver||r.WebkitMutationObserver,attach(e,t={}){const n=this,i=ct.func,o=new i(e=>{if(1===e.length)return void n.emit("observerUpdate",e[0]);const t=function(){n.emit("observerUpdate",e[0])};r.requestAnimationFrame?r.requestAnimationFrame(t):r.setTimeout(t,0)});o.observe(e,{attributes:"undefined"===typeof t.attributes||t.attributes,childList:"undefined"===typeof t.childList||t.childList,characterData:"undefined"===typeof t.characterData||t.characterData}),n.observer.observers.push(o)},init(){const e=this;if(G.observer&&e.params.observer){if(e.params.observeParents){const t=e.$el.parents();for(let n=0;n<t.length;n+=1)e.observer.attach(t[n])}e.observer.attach(e.$el[0],{childList:e.params.observeSlideChildren}),e.observer.attach(e.$wrapperEl[0],{attributes:!1})}},destroy(){const e=this;e.observer.observers.forEach(e=>{e.disconnect()}),e.observer.observers=[]}};var ht={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create(){const e=this;H.extend(e,{observer:{init:ct.init.bind(e),attach:ct.attach.bind(e),destroy:ct.destroy.bind(e),observers:[]}})},on:{init(){const e=this;e.observer.init()},destroy(){const e=this;e.observer.destroy()}}};const dt={update(e){const t=this,{slidesPerView:n,slidesPerGroup:i,centeredSlides:r}=t.params,{addSlidesBefore:o,addSlidesAfter:s}=t.params.virtual,{from:a,to:l,slides:u,slidesGrid:c,renderSlide:h,offset:d}=t.virtual;t.updateActiveIndex();const p=t.activeIndex||0;let f,v,m;f=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",r?(v=Math.floor(n/2)+i+o,m=Math.floor(n/2)+i+s):(v=n+(i-1)+o,m=i+s);const g=Math.max((p||0)-m,0),y=Math.min((p||0)+v,u.length-1),b=(t.slidesGrid[g]||0)-(t.slidesGrid[0]||0);function _(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load()}if(H.extend(t.virtual,{from:g,to:y,offset:b,slidesGrid:t.slidesGrid}),a===g&&l===y&&!e)return t.slidesGrid!==c&&b!==d&&t.slides.css(f,`${b}px`),void t.updateProgress();if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:b,from:g,to:y,slides:function(){const e=[];for(let t=g;t<=y;t+=1)e.push(u[t]);return e}()}),void _();const w=[],E=[];if(e)t.$wrapperEl.find(`.${t.params.slideClass}`).remove();else for(let C=a;C<=l;C+=1)(C<g||C>y)&&t.$wrapperEl.find(`.${t.params.slideClass}[data-swiper-slide-index="${C}"]`).remove();for(let C=0;C<u.length;C+=1)C>=g&&C<=y&&("undefined"===typeof l||e?E.push(C):(C>l&&E.push(C),C<a&&w.push(C)));E.forEach(e=>{t.$wrapperEl.append(h(u[e],e))}),w.sort((e,t)=>t-e).forEach(e=>{t.$wrapperEl.prepend(h(u[e],e))}),t.$wrapperEl.children(".swiper-slide").css(f,`${b}px`),_()},renderSlide(e,t){const n=this,i=n.params.virtual;if(i.cache&&n.virtual.cache[t])return n.virtual.cache[t];const r=i.renderSlide?s(i.renderSlide.call(n,e,t)):s(`<div class="${n.params.slideClass}" data-swiper-slide-index="${t}">${e}</div>`);return r.attr("data-swiper-slide-index")||r.attr("data-swiper-slide-index",t),i.cache&&(n.virtual.cache[t]=r),r},appendSlide(e){const t=this;t.virtual.slides.push(e),t.virtual.update(!0)},prependSlide(e){const t=this;if(t.virtual.slides.unshift(e),t.params.virtual.cache){const e=t.virtual.cache,n={};Object.keys(e).forEach(t=>{n[t+1]=e[t]}),t.virtual.cache=n}t.virtual.update(!0),t.slideNext(0)}};var pt={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,addSlidesBefore:0,addSlidesAfter:0}},create(){const e=this;H.extend(e,{virtual:{update:dt.update.bind(e),appendSlide:dt.appendSlide.bind(e),prependSlide:dt.prependSlide.bind(e),renderSlide:dt.renderSlide.bind(e),slides:e.params.virtual.slides,cache:{}}})},on:{beforeInit(){const e=this;if(!e.params.virtual.enabled)return;e.classNames.push(`${e.params.containerModifierClass}virtual`);const t={watchSlidesProgress:!0};H.extend(e.params,t),H.extend(e.originalParams,t),e.params.initialSlide||e.virtual.update()},setTranslate(){const e=this;e.params.virtual.enabled&&e.virtual.update()}}};const ft={handle(e){const t=this,{rtlTranslate:n}=t;let o=e;o.originalEvent&&(o=o.originalEvent);const s=o.keyCode||o.charCode;if(!t.allowSlideNext&&(t.isHorizontal()&&39===s||t.isVertical()&&40===s))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&37===s||t.isVertical()&&38===s))return!1;if(!(o.shiftKey||o.altKey||o.ctrlKey||o.metaKey)&&(!i.activeElement||!i.activeElement.nodeName||"input"!==i.activeElement.nodeName.toLowerCase()&&"textarea"!==i.activeElement.nodeName.toLowerCase())){if(t.params.keyboard.onlyInViewport&&(37===s||39===s||38===s||40===s)){let e=!1;if(t.$el.parents(`.${t.params.slideClass}`).length>0&&0===t.$el.parents(`.${t.params.slideActiveClass}`).length)return;const i=r.innerWidth,o=r.innerHeight,s=t.$el.offset();n&&(s.left-=t.$el[0].scrollLeft);const a=[[s.left,s.top],[s.left+t.width,s.top],[s.left,s.top+t.height],[s.left+t.width,s.top+t.height]];for(let t=0;t<a.length;t+=1){const n=a[t];n[0]>=0&&n[0]<=i&&n[1]>=0&&n[1]<=o&&(e=!0)}if(!e)return}t.isHorizontal()?(37!==s&&39!==s||(o.preventDefault?o.preventDefault():o.returnValue=!1),(39===s&&!n||37===s&&n)&&t.slideNext(),(37===s&&!n||39===s&&n)&&t.slidePrev()):(38!==s&&40!==s||(o.preventDefault?o.preventDefault():o.returnValue=!1),40===s&&t.slideNext(),38===s&&t.slidePrev()),t.emit("keyPress",s)}},enable(){const e=this;e.keyboard.enabled||(s(i).on("keydown",e.keyboard.handle),e.keyboard.enabled=!0)},disable(){const e=this;e.keyboard.enabled&&(s(i).off("keydown",e.keyboard.handle),e.keyboard.enabled=!1)}};var vt={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0}},create(){const e=this;H.extend(e,{keyboard:{enabled:!1,enable:ft.enable.bind(e),disable:ft.disable.bind(e),handle:ft.handle.bind(e)}})},on:{init(){const e=this;e.params.keyboard.enabled&&e.keyboard.enable()},destroy(){const e=this;e.keyboard.enabled&&e.keyboard.disable()}}};function mt(){const e="onwheel";let t=e in i;if(!t){const n=i.createElement("div");n.setAttribute(e,"return;"),t="function"===typeof n[e]}return!t&&i.implementation&&i.implementation.hasFeature&&!0!==i.implementation.hasFeature("","")&&(t=i.implementation.hasFeature("Events.wheel","3.0")),t}const gt={lastScrollTime:H.now(),event:function(){return r.navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":mt()?"wheel":"mousewheel"}(),normalize(e){const t=10,n=40,i=800;let r=0,o=0,s=0,a=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(r=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(r=o,o=0),s=r*t,a=o*t,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(s=e.deltaX),(s||a)&&e.deltaMode&&(1===e.deltaMode?(s*=n,a*=n):(s*=i,a*=i)),s&&!r&&(r=s<1?-1:1),a&&!o&&(o=a<1?-1:1),{spinX:r,spinY:o,pixelX:s,pixelY:a}},handleMouseEnter(){const e=this;e.mouseEntered=!0},handleMouseLeave(){const e=this;e.mouseEntered=!1},handle(e){let t=e;const n=this,i=n.params.mousewheel;if(!n.mouseEntered&&!i.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);let o=0;const s=n.rtlTranslate?-1:1,a=gt.normalize(t);if(i.forceToAxis)if(n.isHorizontal()){if(!(Math.abs(a.pixelX)>Math.abs(a.pixelY)))return!0;o=a.pixelX*s}else{if(!(Math.abs(a.pixelY)>Math.abs(a.pixelX)))return!0;o=a.pixelY}else o=Math.abs(a.pixelX)>Math.abs(a.pixelY)?-a.pixelX*s:-a.pixelY;if(0===o)return!0;if(i.invert&&(o=-o),n.params.freeMode){n.params.loop&&n.loopFix();let e=n.getTranslate()+o*i.sensitivity;const r=n.isBeginning,s=n.isEnd;if(e>=n.minTranslate()&&(e=n.minTranslate()),e<=n.maxTranslate()&&(e=n.maxTranslate()),n.setTransition(0),n.setTranslate(e),n.updateProgress(),n.updateActiveIndex(),n.updateSlidesClasses(),(!r&&n.isBeginning||!s&&n.isEnd)&&n.updateSlidesClasses(),n.params.freeModeSticky&&(clearTimeout(n.mousewheel.timeout),n.mousewheel.timeout=H.nextTick(()=>{n.slideToClosest()},300)),n.emit("scroll",t),n.params.autoplay&&n.params.autoplayDisableOnInteraction&&n.autoplay.stop(),e===n.minTranslate()||e===n.maxTranslate())return!0}else{if(H.now()-n.mousewheel.lastScrollTime>60)if(o<0)if(n.isEnd&&!n.params.loop||n.animating){if(i.releaseOnEdges)return!0}else n.slideNext(),n.emit("scroll",t);else if(n.isBeginning&&!n.params.loop||n.animating){if(i.releaseOnEdges)return!0}else n.slidePrev(),n.emit("scroll",t);n.mousewheel.lastScrollTime=(new r.Date).getTime()}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1},enable(){const e=this;if(!gt.event)return!1;if(e.mousewheel.enabled)return!1;let t=e.$el;return"container"!==e.params.mousewheel.eventsTarged&&(t=s(e.params.mousewheel.eventsTarged)),t.on("mouseenter",e.mousewheel.handleMouseEnter),t.on("mouseleave",e.mousewheel.handleMouseLeave),t.on(gt.event,e.mousewheel.handle),e.mousewheel.enabled=!0,!0},disable(){const e=this;if(!gt.event)return!1;if(!e.mousewheel.enabled)return!1;let t=e.$el;return"container"!==e.params.mousewheel.eventsTarged&&(t=s(e.params.mousewheel.eventsTarged)),t.off(gt.event,e.mousewheel.handle),e.mousewheel.enabled=!1,!0}};var yt={name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create(){const e=this;H.extend(e,{mousewheel:{enabled:!1,enable:gt.enable.bind(e),disable:gt.disable.bind(e),handle:gt.handle.bind(e),handleMouseEnter:gt.handleMouseEnter.bind(e),handleMouseLeave:gt.handleMouseLeave.bind(e),lastScrollTime:H.now()}})},on:{init(){const e=this;e.params.mousewheel.enabled&&e.mousewheel.enable()},destroy(){const e=this;e.mousewheel.enabled&&e.mousewheel.disable()}}};const bt={update(){const e=this,t=e.params.navigation;if(e.params.loop)return;const{$nextEl:n,$prevEl:i}=e.navigation;i&&i.length>0&&(e.isBeginning?i.addClass(t.disabledClass):i.removeClass(t.disabledClass),i[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](t.lockClass)),n&&n.length>0&&(e.isEnd?n.addClass(t.disabledClass):n.removeClass(t.disabledClass),n[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](t.lockClass))},onPrevClick(e){const t=this;e.preventDefault(),t.isBeginning&&!t.params.loop||t.slidePrev()},onNextClick(e){const t=this;e.preventDefault(),t.isEnd&&!t.params.loop||t.slideNext()},init(){const e=this,t=e.params.navigation;if(!t.nextEl&&!t.prevEl)return;let n,i;t.nextEl&&(n=s(t.nextEl),e.params.uniqueNavElements&&"string"===typeof t.nextEl&&n.length>1&&1===e.$el.find(t.nextEl).length&&(n=e.$el.find(t.nextEl))),t.prevEl&&(i=s(t.prevEl),e.params.uniqueNavElements&&"string"===typeof t.prevEl&&i.length>1&&1===e.$el.find(t.prevEl).length&&(i=e.$el.find(t.prevEl))),n&&n.length>0&&n.on("click",e.navigation.onNextClick),i&&i.length>0&&i.on("click",e.navigation.onPrevClick),H.extend(e.navigation,{$nextEl:n,nextEl:n&&n[0],$prevEl:i,prevEl:i&&i[0]})},destroy(){const e=this,{$nextEl:t,$prevEl:n}=e.navigation;t&&t.length&&(t.off("click",e.navigation.onNextClick),t.removeClass(e.params.navigation.disabledClass)),n&&n.length&&(n.off("click",e.navigation.onPrevClick),n.removeClass(e.params.navigation.disabledClass))}};var _t={name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create(){const e=this;H.extend(e,{navigation:{init:bt.init.bind(e),update:bt.update.bind(e),destroy:bt.destroy.bind(e),onNextClick:bt.onNextClick.bind(e),onPrevClick:bt.onPrevClick.bind(e)}})},on:{init(){const e=this;e.navigation.init(),e.navigation.update()},toEdge(){const e=this;e.navigation.update()},fromEdge(){const e=this;e.navigation.update()},destroy(){const e=this;e.navigation.destroy()},click(e){const t=this,{$nextEl:n,$prevEl:i}=t.navigation;!t.params.navigation.hideOnClick||s(e.target).is(i)||s(e.target).is(n)||(n&&n.toggleClass(t.params.navigation.hiddenClass),i&&i.toggleClass(t.params.navigation.hiddenClass))}}};const wt={update(){const e=this,t=e.rtl,n=e.params.pagination;if(!n.el||!e.pagination.el||!e.pagination.$el||0===e.pagination.$el.length)return;const i=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,r=e.pagination.$el;let o;const a=e.params.loop?Math.ceil((i-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(o=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup),o>i-1-2*e.loopedSlides&&(o-=i-2*e.loopedSlides),o>a-1&&(o-=a),o<0&&"bullets"!==e.params.paginationType&&(o=a+o)):o="undefined"!==typeof e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===n.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const i=e.pagination.bullets;let a,l,u;if(n.dynamicBullets&&(e.pagination.bulletSize=i.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),r.css(e.isHorizontal()?"width":"height",`${e.pagination.bulletSize*(n.dynamicMainBullets+4)}px`),n.dynamicMainBullets>1&&void 0!==e.previousIndex&&(e.pagination.dynamicBulletIndex+=o-e.previousIndex,e.pagination.dynamicBulletIndex>n.dynamicMainBullets-1?e.pagination.dynamicBulletIndex=n.dynamicMainBullets-1:e.pagination.dynamicBulletIndex<0&&(e.pagination.dynamicBulletIndex=0)),a=o-e.pagination.dynamicBulletIndex,l=a+(Math.min(i.length,n.dynamicMainBullets)-1),u=(l+a)/2),i.removeClass(`${n.bulletActiveClass} ${n.bulletActiveClass}-next ${n.bulletActiveClass}-next-next ${n.bulletActiveClass}-prev ${n.bulletActiveClass}-prev-prev ${n.bulletActiveClass}-main`),r.length>1)i.each((e,t)=>{const i=s(t),r=i.index();r===o&&i.addClass(n.bulletActiveClass),n.dynamicBullets&&(r>=a&&r<=l&&i.addClass(`${n.bulletActiveClass}-main`),r===a&&i.prev().addClass(`${n.bulletActiveClass}-prev`).prev().addClass(`${n.bulletActiveClass}-prev-prev`),r===l&&i.next().addClass(`${n.bulletActiveClass}-next`).next().addClass(`${n.bulletActiveClass}-next-next`))});else{const e=i.eq(o);if(e.addClass(n.bulletActiveClass),n.dynamicBullets){const e=i.eq(a),t=i.eq(l);for(let r=a;r<=l;r+=1)i.eq(r).addClass(`${n.bulletActiveClass}-main`);e.prev().addClass(`${n.bulletActiveClass}-prev`).prev().addClass(`${n.bulletActiveClass}-prev-prev`),t.next().addClass(`${n.bulletActiveClass}-next`).next().addClass(`${n.bulletActiveClass}-next-next`)}}if(n.dynamicBullets){const r=Math.min(i.length,n.dynamicMainBullets+4),o=(e.pagination.bulletSize*r-e.pagination.bulletSize)/2-u*e.pagination.bulletSize,s=t?"right":"left";i.css(e.isHorizontal()?s:"top",`${o}px`)}}if("fraction"===n.type&&(r.find(`.${n.currentClass}`).text(n.formatFractionCurrent(o+1)),r.find(`.${n.totalClass}`).text(n.formatFractionTotal(a))),"progressbar"===n.type){let t;t=n.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const i=(o+1)/a;let s=1,l=1;"horizontal"===t?s=i:l=i,r.find(`.${n.progressbarFillClass}`).transform(`translate3d(0,0,0) scaleX(${s}) scaleY(${l})`).transition(e.params.speed)}"custom"===n.type&&n.renderCustom?(r.html(n.renderCustom(e,o+1,a)),e.emit("paginationRender",e,r[0])):e.emit("paginationUpdate",e,r[0]),r[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](n.lockClass)},render(){const e=this,t=e.params.pagination;if(!t.el||!e.pagination.el||!e.pagination.$el||0===e.pagination.$el.length)return;const n=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,i=e.pagination.$el;let r="";if("bullets"===t.type){const o=e.params.loop?Math.ceil((n-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;for(let n=0;n<o;n+=1)t.renderBullet?r+=t.renderBullet.call(e,n,t.bulletClass):r+=`<${t.bulletElement} class="${t.bulletClass}"></${t.bulletElement}>`;i.html(r),e.pagination.bullets=i.find(`.${t.bulletClass}`)}"fraction"===t.type&&(r=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):`<span class="${t.currentClass}"></span>`+" / "+`<span class="${t.totalClass}"></span>`,i.html(r)),"progressbar"===t.type&&(r=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):`<span class="${t.progressbarFillClass}"></span>`,i.html(r)),"custom"!==t.type&&e.emit("paginationRender",e.pagination.$el[0])},init(){const e=this,t=e.params.pagination;if(!t.el)return;let n=s(t.el);0!==n.length&&(e.params.uniqueNavElements&&"string"===typeof t.el&&n.length>1&&1===e.$el.find(t.el).length&&(n=e.$el.find(t.el)),"bullets"===t.type&&t.clickable&&n.addClass(t.clickableClass),n.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(n.addClass(`${t.modifierClass}${t.type}-dynamic`),e.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&n.addClass(t.progressbarOppositeClass),t.clickable&&n.on("click",`.${t.bulletClass}`,function(t){t.preventDefault();let n=s(this).index()*e.params.slidesPerGroup;e.params.loop&&(n+=e.loopedSlides),e.slideTo(n)}),H.extend(e.pagination,{$el:n,el:n[0]}))},destroy(){const e=this,t=e.params.pagination;if(!t.el||!e.pagination.el||!e.pagination.$el||0===e.pagination.$el.length)return;const n=e.pagination.$el;n.removeClass(t.hiddenClass),n.removeClass(t.modifierClass+t.type),e.pagination.bullets&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&n.off("click",`.${t.bulletClass}`)}};var Et={name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create(){const e=this;H.extend(e,{pagination:{init:wt.init.bind(e),render:wt.render.bind(e),update:wt.update.bind(e),destroy:wt.destroy.bind(e),dynamicBulletIndex:0}})},on:{init(){const e=this;e.pagination.init(),e.pagination.render(),e.pagination.update()},activeIndexChange(){const e=this;e.params.loop?e.pagination.update():"undefined"===typeof e.snapIndex&&e.pagination.update()},snapIndexChange(){const e=this;e.params.loop||e.pagination.update()},slidesLengthChange(){const e=this;e.params.loop&&(e.pagination.render(),e.pagination.update())},snapGridLengthChange(){const e=this;e.params.loop||(e.pagination.render(),e.pagination.update())},destroy(){const e=this;e.pagination.destroy()},click(e){const t=this;t.params.pagination.el&&t.params.pagination.hideOnClick&&t.pagination.$el.length>0&&!s(e.target).hasClass(t.params.pagination.bulletClass)&&t.pagination.$el.toggleClass(t.params.pagination.hiddenClass)}}};const Ct={setTranslate(){const e=this;if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:t,rtlTranslate:n,progress:i}=e,{dragSize:r,trackSize:o,$dragEl:s,$el:a}=t,l=e.params.scrollbar;let u=r,c=(o-r)*i;n?(c=-c,c>0?(u=r-c,c=0):-c+r>o&&(u=o+c)):c<0?(u=r+c,c=0):c+r>o&&(u=o-c),e.isHorizontal()?(G.transforms3d?s.transform(`translate3d(${c}px, 0, 0)`):s.transform(`translateX(${c}px)`),s[0].style.width=`${u}px`):(G.transforms3d?s.transform(`translate3d(0px, ${c}px, 0)`):s.transform(`translateY(${c}px)`),s[0].style.height=`${u}px`),l.hide&&(clearTimeout(e.scrollbar.timeout),a[0].style.opacity=1,e.scrollbar.timeout=setTimeout(()=>{a[0].style.opacity=0,a.transition(400)},1e3))},setTransition(e){const t=this;t.params.scrollbar.el&&t.scrollbar.el&&t.scrollbar.$dragEl.transition(e)},updateSize(){const e=this;if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:t}=e,{$dragEl:n,$el:i}=t;n[0].style.width="",n[0].style.height="";const r=e.isHorizontal()?i[0].offsetWidth:i[0].offsetHeight,o=e.size/e.virtualSize,s=o*(r/e.size);let a;a="auto"===e.params.scrollbar.dragSize?r*o:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?n[0].style.width=`${a}px`:n[0].style.height=`${a}px`,i[0].style.display=o>=1?"none":"",e.params.scrollbarHide&&(i[0].style.opacity=0),H.extend(t,{trackSize:r,divider:o,moveDivider:s,dragSize:a}),t.$el[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass)},setDragPosition(e){const t=this,{scrollbar:n,rtlTranslate:i}=t,{$el:r,dragSize:o,trackSize:s}=n;let a,l;a=t.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,l=(a-r.offset()[t.isHorizontal()?"left":"top"]-o/2)/(s-o),l=Math.max(Math.min(l,1),0),i&&(l=1-l);const u=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*l;t.updateProgress(u),t.setTranslate(u),t.updateActiveIndex(),t.updateSlidesClasses()},onDragStart(e){const t=this,n=t.params.scrollbar,{scrollbar:i,$wrapperEl:r}=t,{$el:o,$dragEl:s}=i;t.scrollbar.isTouched=!0,e.preventDefault(),e.stopPropagation(),r.transition(100),s.transition(100),i.setDragPosition(e),clearTimeout(t.scrollbar.dragTimeout),o.transition(0),n.hide&&o.css("opacity",1),t.emit("scrollbarDragStart",e)},onDragMove(e){const t=this,{scrollbar:n,$wrapperEl:i}=t,{$el:r,$dragEl:o}=n;t.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,n.setDragPosition(e),i.transition(0),r.transition(0),o.transition(0),t.emit("scrollbarDragMove",e))},onDragEnd(e){const t=this,n=t.params.scrollbar,{scrollbar:i}=t,{$el:r}=i;t.scrollbar.isTouched&&(t.scrollbar.isTouched=!1,n.hide&&(clearTimeout(t.scrollbar.dragTimeout),t.scrollbar.dragTimeout=H.nextTick(()=>{r.css("opacity",0),r.transition(400)},1e3)),t.emit("scrollbarDragEnd",e),n.snapOnRelease&&t.slideToClosest())},enableDraggable(){const e=this;if(!e.params.scrollbar.el)return;const{scrollbar:t,touchEventsTouch:n,touchEventsDesktop:r,params:o}=e,s=t.$el,a=s[0],l=!(!G.passiveListener||!o.passiveListeners)&&{passive:!1,capture:!1},u=!(!G.passiveListener||!o.passiveListeners)&&{passive:!0,capture:!1};G.touch?(a.addEventListener(n.start,e.scrollbar.onDragStart,l),a.addEventListener(n.move,e.scrollbar.onDragMove,l),a.addEventListener(n.end,e.scrollbar.onDragEnd,u)):(a.addEventListener(r.start,e.scrollbar.onDragStart,l),i.addEventListener(r.move,e.scrollbar.onDragMove,l),i.addEventListener(r.end,e.scrollbar.onDragEnd,u))},disableDraggable(){const e=this;if(!e.params.scrollbar.el)return;const{scrollbar:t,touchEventsTouch:n,touchEventsDesktop:r,params:o}=e,s=t.$el,a=s[0],l=!(!G.passiveListener||!o.passiveListeners)&&{passive:!1,capture:!1},u=!(!G.passiveListener||!o.passiveListeners)&&{passive:!0,capture:!1};G.touch?(a.removeEventListener(n.start,e.scrollbar.onDragStart,l),a.removeEventListener(n.move,e.scrollbar.onDragMove,l),a.removeEventListener(n.end,e.scrollbar.onDragEnd,u)):(a.removeEventListener(r.start,e.scrollbar.onDragStart,l),i.removeEventListener(r.move,e.scrollbar.onDragMove,l),i.removeEventListener(r.end,e.scrollbar.onDragEnd,u))},init(){const e=this;if(!e.params.scrollbar.el)return;const{scrollbar:t,$el:n}=e,i=e.params.scrollbar;let r=s(i.el);e.params.uniqueNavElements&&"string"===typeof i.el&&r.length>1&&1===n.find(i.el).length&&(r=n.find(i.el));let o=r.find(`.${e.params.scrollbar.dragClass}`);0===o.length&&(o=s(`<div class="${e.params.scrollbar.dragClass}"></div>`),r.append(o)),H.extend(t,{$el:r,el:r[0],$dragEl:o,dragEl:o[0]}),i.draggable&&t.enableDraggable()},destroy(){const e=this;e.scrollbar.disableDraggable()}};var Tt={name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create(){const e=this;H.extend(e,{scrollbar:{init:Ct.init.bind(e),destroy:Ct.destroy.bind(e),updateSize:Ct.updateSize.bind(e),setTranslate:Ct.setTranslate.bind(e),setTransition:Ct.setTransition.bind(e),enableDraggable:Ct.enableDraggable.bind(e),disableDraggable:Ct.disableDraggable.bind(e),setDragPosition:Ct.setDragPosition.bind(e),onDragStart:Ct.onDragStart.bind(e),onDragMove:Ct.onDragMove.bind(e),onDragEnd:Ct.onDragEnd.bind(e),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init(){const e=this;e.scrollbar.init(),e.scrollbar.updateSize(),e.scrollbar.setTranslate()},update(){const e=this;e.scrollbar.updateSize()},resize(){const e=this;e.scrollbar.updateSize()},observerUpdate(){const e=this;e.scrollbar.updateSize()},setTranslate(){const e=this;e.scrollbar.setTranslate()},setTransition(e){const t=this;t.scrollbar.setTransition(e)},destroy(){const e=this;e.scrollbar.destroy()}}};const St={setTransform(e,t){const n=this,{rtl:i}=n,r=s(e),o=i?-1:1,a=r.attr("data-swiper-parallax")||"0";let l=r.attr("data-swiper-parallax-x"),u=r.attr("data-swiper-parallax-y");const c=r.attr("data-swiper-parallax-scale"),h=r.attr("data-swiper-parallax-opacity");if(l||u?(l=l||"0",u=u||"0"):n.isHorizontal()?(l=a,u="0"):(u=a,l="0"),l=l.indexOf("%")>=0?`${parseInt(l,10)*t*o}%`:`${l*t*o}px`,u=u.indexOf("%")>=0?`${parseInt(u,10)*t}%`:`${u*t}px`,"undefined"!==typeof h&&null!==h){const e=h-(h-1)*(1-Math.abs(t));r[0].style.opacity=e}if("undefined"===typeof c||null===c)r.transform(`translate3d(${l}, ${u}, 0px)`);else{const e=c-(c-1)*(1-Math.abs(t));r.transform(`translate3d(${l}, ${u}, 0px) scale(${e})`)}},setTranslate(){const e=this,{$el:t,slides:n,progress:i,snapGrid:r}=e;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each((t,n)=>{e.parallax.setTransform(n,i)}),n.each((t,n)=>{let o=n.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(o+=Math.ceil(t/2)-i*(r.length-1)),o=Math.min(Math.max(o,-1),1),s(n).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each((t,n)=>{e.parallax.setTransform(n,o)})})},setTransition(e=this.params.speed){const t=this,{$el:n}=t;n.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each((t,n)=>{const i=s(n);let r=parseInt(i.attr("data-swiper-parallax-duration"),10)||e;0===e&&(r=0),i.transition(r)})}};var xt={name:"parallax",params:{parallax:{enabled:!1}},create(){const e=this;H.extend(e,{parallax:{setTransform:St.setTransform.bind(e),setTranslate:St.setTranslate.bind(e),setTransition:St.setTransition.bind(e)}})},on:{beforeInit(){const e=this;e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},init(){const e=this;e.params.parallax&&e.parallax.setTranslate()},setTranslate(){const e=this;e.params.parallax&&e.parallax.setTranslate()},setTransition(e){const t=this;t.params.parallax&&t.parallax.setTransition(e)}}};const kt={getDistanceBetweenTouches(e){if(e.targetTouches.length<2)return 1;const t=e.targetTouches[0].pageX,n=e.targetTouches[0].pageY,i=e.targetTouches[1].pageX,r=e.targetTouches[1].pageY,o=Math.sqrt((i-t)**2+(r-n)**2);return o},onGestureStart(e){const t=this,n=t.params.zoom,i=t.zoom,{gesture:r}=i;if(i.fakeGestureTouched=!1,i.fakeGestureMoved=!1,!G.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;i.fakeGestureTouched=!0,r.scaleStart=kt.getDistanceBetweenTouches(e)}r.$slideEl&&r.$slideEl.length||(r.$slideEl=s(e.target).closest(".swiper-slide"),0===r.$slideEl.length&&(r.$slideEl=t.slides.eq(t.activeIndex)),r.$imageEl=r.$slideEl.find("img, svg, canvas"),r.$imageWrapEl=r.$imageEl.parent(`.${n.containerClass}`),r.maxRatio=r.$imageWrapEl.attr("data-swiper-zoom")||n.maxRatio,0!==r.$imageWrapEl.length)?(r.$imageEl.transition(0),t.zoom.isScaling=!0):r.$imageEl=void 0},onGestureChange(e){const t=this,n=t.params.zoom,i=t.zoom,{gesture:r}=i;if(!G.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;i.fakeGestureMoved=!0,r.scaleMove=kt.getDistanceBetweenTouches(e)}r.$imageEl&&0!==r.$imageEl.length&&(G.gestures?i.scale=e.scale*i.currentScale:i.scale=r.scaleMove/r.scaleStart*i.currentScale,i.scale>r.maxRatio&&(i.scale=r.maxRatio-1+(i.scale-r.maxRatio+1)**.5),i.scale<n.minRatio&&(i.scale=n.minRatio+1-(n.minRatio-i.scale+1)**.5),r.$imageEl.transform(`translate3d(0,0,0) scale(${i.scale})`))},onGestureEnd(e){const t=this,n=t.params.zoom,i=t.zoom,{gesture:r}=i;if(!G.gestures){if(!i.fakeGestureTouched||!i.fakeGestureMoved)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!Le.android)return;i.fakeGestureTouched=!1,i.fakeGestureMoved=!1}r.$imageEl&&0!==r.$imageEl.length&&(i.scale=Math.max(Math.min(i.scale,r.maxRatio),n.minRatio),r.$imageEl.transition(t.params.speed).transform(`translate3d(0,0,0) scale(${i.scale})`),i.currentScale=i.scale,i.isScaling=!1,1===i.scale&&(r.$slideEl=void 0))},onTouchStart(e){const t=this,n=t.zoom,{gesture:i,image:r}=n;i.$imageEl&&0!==i.$imageEl.length&&(r.isTouched||(Le.android&&e.preventDefault(),r.isTouched=!0,r.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,r.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove(e){const t=this,n=t.zoom,{gesture:i,image:r,velocity:o}=n;if(!i.$imageEl||0===i.$imageEl.length)return;if(t.allowClick=!1,!r.isTouched||!i.$slideEl)return;r.isMoved||(r.width=i.$imageEl[0].offsetWidth,r.height=i.$imageEl[0].offsetHeight,r.startX=H.getTranslate(i.$imageWrapEl[0],"x")||0,r.startY=H.getTranslate(i.$imageWrapEl[0],"y")||0,i.slideWidth=i.$slideEl[0].offsetWidth,i.slideHeight=i.$slideEl[0].offsetHeight,i.$imageWrapEl.transition(0),t.rtl&&(r.startX=-r.startX,r.startY=-r.startY));const s=r.width*n.scale,a=r.height*n.scale;if(!(s<i.slideWidth&&a<i.slideHeight)){if(r.minX=Math.min(i.slideWidth/2-s/2,0),r.maxX=-r.minX,r.minY=Math.min(i.slideHeight/2-a/2,0),r.maxY=-r.minY,r.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,r.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!r.isMoved&&!n.isScaling){if(t.isHorizontal()&&(Math.floor(r.minX)===Math.floor(r.startX)&&r.touchesCurrent.x<r.touchesStart.x||Math.floor(r.maxX)===Math.floor(r.startX)&&r.touchesCurrent.x>r.touchesStart.x))return void(r.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(r.minY)===Math.floor(r.startY)&&r.touchesCurrent.y<r.touchesStart.y||Math.floor(r.maxY)===Math.floor(r.startY)&&r.touchesCurrent.y>r.touchesStart.y))return void(r.isTouched=!1)}e.preventDefault(),e.stopPropagation(),r.isMoved=!0,r.currentX=r.touchesCurrent.x-r.touchesStart.x+r.startX,r.currentY=r.touchesCurrent.y-r.touchesStart.y+r.startY,r.currentX<r.minX&&(r.currentX=r.minX+1-(r.minX-r.currentX+1)**.8),r.currentX>r.maxX&&(r.currentX=r.maxX-1+(r.currentX-r.maxX+1)**.8),r.currentY<r.minY&&(r.currentY=r.minY+1-(r.minY-r.currentY+1)**.8),r.currentY>r.maxY&&(r.currentY=r.maxY-1+(r.currentY-r.maxY+1)**.8),o.prevPositionX||(o.prevPositionX=r.touchesCurrent.x),o.prevPositionY||(o.prevPositionY=r.touchesCurrent.y),o.prevTime||(o.prevTime=Date.now()),o.x=(r.touchesCurrent.x-o.prevPositionX)/(Date.now()-o.prevTime)/2,o.y=(r.touchesCurrent.y-o.prevPositionY)/(Date.now()-o.prevTime)/2,Math.abs(r.touchesCurrent.x-o.prevPositionX)<2&&(o.x=0),Math.abs(r.touchesCurrent.y-o.prevPositionY)<2&&(o.y=0),o.prevPositionX=r.touchesCurrent.x,o.prevPositionY=r.touchesCurrent.y,o.prevTime=Date.now(),i.$imageWrapEl.transform(`translate3d(${r.currentX}px, ${r.currentY}px,0)`)}},onTouchEnd(){const e=this,t=e.zoom,{gesture:n,image:i,velocity:r}=t;if(!n.$imageEl||0===n.$imageEl.length)return;if(!i.isTouched||!i.isMoved)return i.isTouched=!1,void(i.isMoved=!1);i.isTouched=!1,i.isMoved=!1;let o=300,s=300;const a=r.x*o,l=i.currentX+a,u=r.y*s,c=i.currentY+u;0!==r.x&&(o=Math.abs((l-i.currentX)/r.x)),0!==r.y&&(s=Math.abs((c-i.currentY)/r.y));const h=Math.max(o,s);i.currentX=l,i.currentY=c;const d=i.width*t.scale,p=i.height*t.scale;i.minX=Math.min(n.slideWidth/2-d/2,0),i.maxX=-i.minX,i.minY=Math.min(n.slideHeight/2-p/2,0),i.maxY=-i.minY,i.currentX=Math.max(Math.min(i.currentX,i.maxX),i.minX),i.currentY=Math.max(Math.min(i.currentY,i.maxY),i.minY),n.$imageWrapEl.transition(h).transform(`translate3d(${i.currentX}px, ${i.currentY}px,0)`)},onTransitionEnd(){const e=this,t=e.zoom,{gesture:n}=t;n.$slideEl&&e.previousIndex!==e.activeIndex&&(n.$imageEl.transform("translate3d(0,0,0) scale(1)"),n.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,t.currentScale=1,n.$slideEl=void 0,n.$imageEl=void 0,n.$imageWrapEl=void 0)},toggle(e){const t=this,n=t.zoom;n.scale&&1!==n.scale?n.out():n.in(e)},in(e){const t=this,n=t.zoom,i=t.params.zoom,{gesture:r,image:o}=n;if(r.$slideEl||(r.$slideEl=t.clickedSlide?s(t.clickedSlide):t.slides.eq(t.activeIndex),r.$imageEl=r.$slideEl.find("img, svg, canvas"),r.$imageWrapEl=r.$imageEl.parent(`.${i.containerClass}`)),!r.$imageEl||0===r.$imageEl.length)return;let a,l,u,c,h,d,p,f,v,m,g,y,b,_,w,E,C,T;r.$slideEl.addClass(`${i.zoomedSlideClass}`),"undefined"===typeof o.touchesStart.x&&e?(a="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,l="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(a=o.touchesStart.x,l=o.touchesStart.y),n.scale=r.$imageWrapEl.attr("data-swiper-zoom")||i.maxRatio,n.currentScale=r.$imageWrapEl.attr("data-swiper-zoom")||i.maxRatio,e?(C=r.$slideEl[0].offsetWidth,T=r.$slideEl[0].offsetHeight,u=r.$slideEl.offset().left,c=r.$slideEl.offset().top,h=u+C/2-a,d=c+T/2-l,v=r.$imageEl[0].offsetWidth,m=r.$imageEl[0].offsetHeight,g=v*n.scale,y=m*n.scale,b=Math.min(C/2-g/2,0),_=Math.min(T/2-y/2,0),w=-b,E=-_,p=h*n.scale,f=d*n.scale,p<b&&(p=b),p>w&&(p=w),f<_&&(f=_),f>E&&(f=E)):(p=0,f=0),r.$imageWrapEl.transition(300).transform(`translate3d(${p}px, ${f}px,0)`),r.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${n.scale})`)},out(){const e=this,t=e.zoom,n=e.params.zoom,{gesture:i}=t;i.$slideEl||(i.$slideEl=e.clickedSlide?s(e.clickedSlide):e.slides.eq(e.activeIndex),i.$imageEl=i.$slideEl.find("img, svg, canvas"),i.$imageWrapEl=i.$imageEl.parent(`.${n.containerClass}`)),i.$imageEl&&0!==i.$imageEl.length&&(t.scale=1,t.currentScale=1,i.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),i.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),i.$slideEl.removeClass(`${n.zoomedSlideClass}`),i.$slideEl=void 0)},enable(){const e=this,t=e.zoom;if(t.enabled)return;t.enabled=!0;const n=!("touchstart"!==e.touchEvents.start||!G.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1};G.gestures?(e.$wrapperEl.on("gesturestart",".swiper-slide",t.onGestureStart,n),e.$wrapperEl.on("gesturechange",".swiper-slide",t.onGestureChange,n),e.$wrapperEl.on("gestureend",".swiper-slide",t.onGestureEnd,n)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,".swiper-slide",t.onGestureStart,n),e.$wrapperEl.on(e.touchEvents.move,".swiper-slide",t.onGestureChange,n),e.$wrapperEl.on(e.touchEvents.end,".swiper-slide",t.onGestureEnd,n)),e.$wrapperEl.on(e.touchEvents.move,`.${e.params.zoom.containerClass}`,t.onTouchMove)},disable(){const e=this,t=e.zoom;if(!t.enabled)return;e.zoom.enabled=!1;const n=!("touchstart"!==e.touchEvents.start||!G.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1};G.gestures?(e.$wrapperEl.off("gesturestart",".swiper-slide",t.onGestureStart,n),e.$wrapperEl.off("gesturechange",".swiper-slide",t.onGestureChange,n),e.$wrapperEl.off("gestureend",".swiper-slide",t.onGestureEnd,n)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,".swiper-slide",t.onGestureStart,n),e.$wrapperEl.off(e.touchEvents.move,".swiper-slide",t.onGestureChange,n),e.$wrapperEl.off(e.touchEvents.end,".swiper-slide",t.onGestureEnd,n)),e.$wrapperEl.off(e.touchEvents.move,`.${e.params.zoom.containerClass}`,t.onTouchMove)}};var It={name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create(){const e=this,t={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(n=>{t[n]=kt[n].bind(e)}),H.extend(e,{zoom:t});let n=1;Object.defineProperty(e.zoom,"scale",{get(){return n},set(t){if(n!==t){const n=e.zoom.gesture.$imageEl?e.zoom.gesture.$imageEl[0]:void 0,i=e.zoom.gesture.$slideEl?e.zoom.gesture.$slideEl[0]:void 0;e.emit("zoomChange",t,n,i)}n=t}})},on:{init(){const e=this;e.params.zoom.enabled&&e.zoom.enable()},destroy(){const e=this;e.zoom.disable()},touchStart(e){const t=this;t.zoom.enabled&&t.zoom.onTouchStart(e)},touchEnd(e){const t=this;t.zoom.enabled&&t.zoom.onTouchEnd(e)},doubleTap(e){const t=this;t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&t.zoom.toggle(e)},transitionEnd(){const e=this;e.zoom.enabled&&e.params.zoom.enabled&&e.zoom.onTransitionEnd()}}};const Pt={loadInSlide(e,t=!0){const n=this,i=n.params.lazy;if("undefined"===typeof e)return;if(0===n.slides.length)return;const r=n.virtual&&n.params.virtual.enabled,o=r?n.$wrapperEl.children(`.${n.params.slideClass}[data-swiper-slide-index="${e}"]`):n.slides.eq(e);let a=o.find(`.${i.elementClass}:not(.${i.loadedClass}):not(.${i.loadingClass})`);!o.hasClass(i.elementClass)||o.hasClass(i.loadedClass)||o.hasClass(i.loadingClass)||(a=a.add(o[0])),0!==a.length&&a.each((e,r)=>{const a=s(r);a.addClass(i.loadingClass);const l=a.attr("data-background"),u=a.attr("data-src"),c=a.attr("data-srcset"),h=a.attr("data-sizes");n.loadImage(a[0],u||l,c,h,!1,()=>{if("undefined"!==typeof n&&null!==n&&n&&(!n||n.params)&&!n.destroyed){if(l?(a.css("background-image",`url("${l}")`),a.removeAttr("data-background")):(c&&(a.attr("srcset",c),a.removeAttr("data-srcset")),h&&(a.attr("sizes",h),a.removeAttr("data-sizes")),u&&(a.attr("src",u),a.removeAttr("data-src"))),a.addClass(i.loadedClass).removeClass(i.loadingClass),o.find(`.${i.preloaderClass}`).remove(),n.params.loop&&t){const e=o.attr("data-swiper-slide-index");if(o.hasClass(n.params.slideDuplicateClass)){const t=n.$wrapperEl.children(`[data-swiper-slide-index="${e}"]:not(.${n.params.slideDuplicateClass})`);n.lazy.loadInSlide(t.index(),!1)}else{const t=n.$wrapperEl.children(`.${n.params.slideDuplicateClass}[data-swiper-slide-index="${e}"]`);n.lazy.loadInSlide(t.index(),!1)}}n.emit("lazyImageReady",o[0],a[0])}}),n.emit("lazyImageLoad",o[0],a[0])})},load(){const e=this,{$wrapperEl:t,params:n,slides:i,activeIndex:r}=e,o=e.virtual&&n.virtual.enabled,a=n.lazy;let l=n.slidesPerView;function u(e){if(o){if(t.children(`.${n.slideClass}[data-swiper-slide-index="${e}"]`).length)return!0}else if(i[e])return!0;return!1}function c(e){return o?s(e).attr("data-swiper-slide-index"):s(e).index()}if("auto"===l&&(l=0),e.lazy.initialImageLoaded||(e.lazy.initialImageLoaded=!0),e.params.watchSlidesVisibility)t.children(`.${n.slideVisibleClass}`).each((t,n)=>{const i=o?s(n).attr("data-swiper-slide-index"):s(n).index();e.lazy.loadInSlide(i)});else if(l>1)for(let s=r;s<r+l;s+=1)u(s)&&e.lazy.loadInSlide(s);else e.lazy.loadInSlide(r);if(a.loadPrevNext)if(l>1||a.loadPrevNextAmount&&a.loadPrevNextAmount>1){const t=a.loadPrevNextAmount,n=l,o=Math.min(r+n+Math.max(t,n),i.length),s=Math.max(r-Math.max(n,t),0);for(let i=r+l;i<o;i+=1)u(i)&&e.lazy.loadInSlide(i);for(let i=s;i<r;i+=1)u(i)&&e.lazy.loadInSlide(i)}else{const i=t.children(`.${n.slideNextClass}`);i.length>0&&e.lazy.loadInSlide(c(i));const r=t.children(`.${n.slidePrevClass}`);r.length>0&&e.lazy.loadInSlide(c(r))}}};var Nt={name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create(){const e=this;H.extend(e,{lazy:{initialImageLoaded:!1,load:Pt.load.bind(e),loadInSlide:Pt.loadInSlide.bind(e)}})},on:{beforeInit(){const e=this;e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1)},init(){const e=this;e.params.lazy.enabled&&!e.params.loop&&0===e.params.initialSlide&&e.lazy.load()},scroll(){const e=this;e.params.freeMode&&!e.params.freeModeSticky&&e.lazy.load()},resize(){const e=this;e.params.lazy.enabled&&e.lazy.load()},scrollbarDragMove(){const e=this;e.params.lazy.enabled&&e.lazy.load()},transitionStart(){const e=this;e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!e.lazy.initialImageLoaded)&&e.lazy.load()},transitionEnd(){const e=this;e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&e.lazy.load()}}};const At={LinearSpline:function(e,t){const n=function(){let e,t,n;return(i,r)=>{t=-1,e=i.length;while(e-t>1)n=e+t>>1,i[n]<=r?t=n:e=n;return e}}();let i,r;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(r=n(this.x,e),i=r-1,(e-this.x[i])*(this.y[r]-this.y[i])/(this.x[r]-this.x[i])+this.y[i]):0},this},getInterpolateFunction(e){const t=this;t.controller.spline||(t.controller.spline=t.params.loop?new At.LinearSpline(t.slidesGrid,e.slidesGrid):new At.LinearSpline(t.snapGrid,e.snapGrid))},setTranslate(e,t){const n=this,i=n.controller.control;let r,o;function s(e){const t=n.rtlTranslate?-n.translate:n.translate;"slide"===n.params.controller.by&&(n.controller.getInterpolateFunction(e),o=-n.controller.spline.interpolate(-t)),o&&"container"!==n.params.controller.by||(r=(e.maxTranslate()-e.minTranslate())/(n.maxTranslate()-n.minTranslate()),o=(t-n.minTranslate())*r+e.minTranslate()),n.params.controller.inverse&&(o=e.maxTranslate()-o),e.updateProgress(o),e.setTranslate(o,n),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(i))for(let a=0;a<i.length;a+=1)i[a]!==t&&i[a]instanceof ot&&s(i[a]);else i instanceof ot&&t!==i&&s(i)},setTransition(e,t){const n=this,i=n.controller.control;let r;function o(t){t.setTransition(e,n),0!==e&&(t.transitionStart(),t.params.autoHeight&&H.nextTick(()=>{t.updateAutoHeight()}),t.$wrapperEl.transitionEnd(()=>{i&&(t.params.loop&&"slide"===n.params.controller.by&&t.loopFix(),t.transitionEnd())}))}if(Array.isArray(i))for(r=0;r<i.length;r+=1)i[r]!==t&&i[r]instanceof ot&&o(i[r]);else i instanceof ot&&t!==i&&o(i)}};var Ot={name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create(){const e=this;H.extend(e,{controller:{control:e.params.controller.control,getInterpolateFunction:At.getInterpolateFunction.bind(e),setTranslate:At.setTranslate.bind(e),setTransition:At.setTransition.bind(e)}})},on:{update(){const e=this;e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},resize(){const e=this;e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},observerUpdate(){const e=this;e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},setTranslate(e,t){const n=this;n.controller.control&&n.controller.setTranslate(e,t)},setTransition(e,t){const n=this;n.controller.control&&n.controller.setTransition(e,t)}}};const Dt={makeElFocusable(e){return e.attr("tabIndex","0"),e},addElRole(e,t){return e.attr("role",t),e},addElLabel(e,t){return e.attr("aria-label",t),e},disableEl(e){return e.attr("aria-disabled",!0),e},enableEl(e){return e.attr("aria-disabled",!1),e},onEnterKey(e){const t=this,n=t.params.a11y;if(13!==e.keyCode)return;const i=s(e.target);t.navigation&&t.navigation.$nextEl&&i.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?t.a11y.notify(n.lastSlideMessage):t.a11y.notify(n.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&i.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?t.a11y.notify(n.firstSlideMessage):t.a11y.notify(n.prevSlideMessage)),t.pagination&&i.is(`.${t.params.pagination.bulletClass}`)&&i[0].click()},notify(e){const t=this,n=t.a11y.liveRegion;0!==n.length&&(n.html(""),n.html(e))},updateNavigation(){const e=this;if(e.params.loop)return;const{$nextEl:t,$prevEl:n}=e.navigation;n&&n.length>0&&(e.isBeginning?e.a11y.disableEl(n):e.a11y.enableEl(n)),t&&t.length>0&&(e.isEnd?e.a11y.disableEl(t):e.a11y.enableEl(t))},updatePagination(){const e=this,t=e.params.a11y;e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.bullets.each((n,i)=>{const r=s(i);e.a11y.makeElFocusable(r),e.a11y.addElRole(r,"button"),e.a11y.addElLabel(r,t.paginationBulletMessage.replace(/{{index}}/,r.index()+1))})},init(){const e=this;e.$el.append(e.a11y.liveRegion);const t=e.params.a11y;let n,i;e.navigation&&e.navigation.$nextEl&&(n=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(i=e.navigation.$prevEl),n&&(e.a11y.makeElFocusable(n),e.a11y.addElRole(n,"button"),e.a11y.addElLabel(n,t.nextSlideMessage),n.on("keydown",e.a11y.onEnterKey)),i&&(e.a11y.makeElFocusable(i),e.a11y.addElRole(i,"button"),e.a11y.addElLabel(i,t.prevSlideMessage),i.on("keydown",e.a11y.onEnterKey)),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.on("keydown",`.${e.params.pagination.bulletClass}`,e.a11y.onEnterKey)},destroy(){const e=this;let t,n;e.a11y.liveRegion&&e.a11y.liveRegion.length>0&&e.a11y.liveRegion.remove(),e.navigation&&e.navigation.$nextEl&&(t=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(n=e.navigation.$prevEl),t&&t.off("keydown",e.a11y.onEnterKey),n&&n.off("keydown",e.a11y.onEnterKey),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.off("keydown",`.${e.params.pagination.bulletClass}`,e.a11y.onEnterKey)}};var Rt={name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create(){const e=this;H.extend(e,{a11y:{liveRegion:s(`<span class="${e.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}}),Object.keys(Dt).forEach(t=>{e.a11y[t]=Dt[t].bind(e)})},on:{init(){const e=this;e.params.a11y.enabled&&(e.a11y.init(),e.a11y.updateNavigation())},toEdge(){const e=this;e.params.a11y.enabled&&e.a11y.updateNavigation()},fromEdge(){const e=this;e.params.a11y.enabled&&e.a11y.updateNavigation()},paginationUpdate(){const e=this;e.params.a11y.enabled&&e.a11y.updatePagination()},destroy(){const e=this;e.params.a11y.enabled&&e.a11y.destroy()}}};const Lt={init(){const e=this;if(!e.params.history)return;if(!r.history||!r.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);const t=e.history;t.initialized=!0,t.paths=Lt.getPathValues(),(t.paths.key||t.paths.value)&&(t.scrollToSlide(0,t.paths.value,e.params.runCallbacksOnInit),e.params.history.replaceState||r.addEventListener("popstate",e.history.setHistoryPopState))},destroy(){const e=this;e.params.history.replaceState||r.removeEventListener("popstate",e.history.setHistoryPopState)},setHistoryPopState(){const e=this;e.history.paths=Lt.getPathValues(),e.history.scrollToSlide(e.params.speed,e.history.paths.value,!1)},getPathValues(){const e=r.location.pathname.slice(1).split("/").filter(e=>""!==e),t=e.length,n=e[t-2],i=e[t-1];return{key:n,value:i}},setHistory(e,t){const n=this;if(!n.history.initialized||!n.params.history.enabled)return;const i=n.slides.eq(t);let o=Lt.slugify(i.attr("data-history"));r.location.pathname.includes(e)||(o=`${e}/${o}`);const s=r.history.state;s&&s.value===o||(n.params.history.replaceState?r.history.replaceState({value:o},null,o):r.history.pushState({value:o},null,o))},slugify(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide(e,t,n){const i=this;if(t)for(let r=0,o=i.slides.length;r<o;r+=1){const o=i.slides.eq(r),s=Lt.slugify(o.attr("data-history"));if(s===t&&!o.hasClass(i.params.slideDuplicateClass)){const t=o.index();i.slideTo(t,e,n)}}else i.slideTo(0,e,n)}};var Mt={name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create(){const e=this;H.extend(e,{history:{init:Lt.init.bind(e),setHistory:Lt.setHistory.bind(e),setHistoryPopState:Lt.setHistoryPopState.bind(e),scrollToSlide:Lt.scrollToSlide.bind(e),destroy:Lt.destroy.bind(e)}})},on:{init(){const e=this;e.params.history.enabled&&e.history.init()},destroy(){const e=this;e.params.history.enabled&&e.history.destroy()},transitionEnd(){const e=this;e.history.initialized&&e.history.setHistory(e.params.history.key,e.activeIndex)}}};const Ft={onHashCange(){const e=this,t=i.location.hash.replace("#",""),n=e.slides.eq(e.activeIndex).attr("data-hash");if(t!==n){const n=e.$wrapperEl.children(`.${e.params.slideClass}[data-hash="${t}"]`).index();if("undefined"===typeof n)return;e.slideTo(n)}},setHash(){const e=this;if(e.hashNavigation.initialized&&e.params.hashNavigation.enabled)if(e.params.hashNavigation.replaceState&&r.history&&r.history.replaceState)r.history.replaceState(null,null,`#${e.slides.eq(e.activeIndex).attr("data-hash")}`||"");else{const t=e.slides.eq(e.activeIndex),n=t.attr("data-hash")||t.attr("data-history");i.location.hash=n||""}},init(){const e=this;if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;e.hashNavigation.initialized=!0;const t=i.location.hash.replace("#","");if(t){const n=0;for(let i=0,r=e.slides.length;i<r;i+=1){const r=e.slides.eq(i),o=r.attr("data-hash")||r.attr("data-history");if(o===t&&!r.hasClass(e.params.slideDuplicateClass)){const t=r.index();e.slideTo(t,n,e.params.runCallbacksOnInit,!0)}}}e.params.hashNavigation.watchState&&s(r).on("hashchange",e.hashNavigation.onHashCange)},destroy(){const e=this;e.params.hashNavigation.watchState&&s(r).off("hashchange",e.hashNavigation.onHashCange)}};var $t={name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create(){const e=this;H.extend(e,{hashNavigation:{initialized:!1,init:Ft.init.bind(e),destroy:Ft.destroy.bind(e),setHash:Ft.setHash.bind(e),onHashCange:Ft.onHashCange.bind(e)}})},on:{init(){const e=this;e.params.hashNavigation.enabled&&e.hashNavigation.init()},destroy(){const e=this;e.params.hashNavigation.enabled&&e.hashNavigation.destroy()},transitionEnd(){const e=this;e.hashNavigation.initialized&&e.hashNavigation.setHash()}}};const jt={run(){const e=this,t=e.slides.eq(e.activeIndex);let n=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(n=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),e.autoplay.timeout=H.nextTick(()=>{e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(e.slideNext(e.params.speed,!0,!0),e.emit("autoplay"))},n)},start(){const e=this;return"undefined"===typeof e.autoplay.timeout&&(!e.autoplay.running&&(e.autoplay.running=!0,e.emit("autoplayStart"),e.autoplay.run(),!0))},stop(){const e=this;return!!e.autoplay.running&&("undefined"!==typeof e.autoplay.timeout&&(e.autoplay.timeout&&(clearTimeout(e.autoplay.timeout),e.autoplay.timeout=void 0),e.autoplay.running=!1,e.emit("autoplayStop"),!0))},pause(e){const t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?(t.$wrapperEl[0].addEventListener("transitionend",t.autoplay.onTransitionEnd),t.$wrapperEl[0].addEventListener("webkitTransitionEnd",t.autoplay.onTransitionEnd)):(t.autoplay.paused=!1,t.autoplay.run())))}};var Ut={name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create(){const e=this;H.extend(e,{autoplay:{running:!1,paused:!1,run:jt.run.bind(e),start:jt.start.bind(e),stop:jt.stop.bind(e),pause:jt.pause.bind(e),onTransitionEnd(t){e&&!e.destroyed&&e.$wrapperEl&&t.target===this&&(e.$wrapperEl[0].removeEventListener("transitionend",e.autoplay.onTransitionEnd),e.$wrapperEl[0].removeEventListener("webkitTransitionEnd",e.autoplay.onTransitionEnd),e.autoplay.paused=!1,e.autoplay.running?e.autoplay.run():e.autoplay.stop())}}})},on:{init(){const e=this;e.params.autoplay.enabled&&e.autoplay.start()},beforeTransitionStart(e,t){const n=this;n.autoplay.running&&(t||!n.params.autoplay.disableOnInteraction?n.autoplay.pause(e):n.autoplay.stop())},sliderFirstMove(){const e=this;e.autoplay.running&&(e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause())},destroy(){const e=this;e.autoplay.running&&e.autoplay.stop()}}};const Vt={setTranslate(){const e=this,{slides:t}=e;for(let n=0;n<t.length;n+=1){const t=e.slides.eq(n),i=t[0].swiperSlideOffset;let r=-i;e.params.virtualTranslate||(r-=e.translate);let o=0;e.isHorizontal()||(o=r,r=0);const s=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:s}).transform(`translate3d(${r}px, ${o}px, 0px)`)}},setTransition(e){const t=this,{slides:n,$wrapperEl:i}=t;if(n.transition(e),t.params.virtualTranslate&&0!==e){let e=!1;n.transitionEnd(()=>{if(e)return;if(!t||t.destroyed)return;e=!0,t.animating=!1;const n=["webkitTransitionEnd","transitionend"];for(let e=0;e<n.length;e+=1)i.trigger(n[e])})}}};var zt={name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create(){const e=this;H.extend(e,{fadeEffect:{setTranslate:Vt.setTranslate.bind(e),setTransition:Vt.setTransition.bind(e)}})},on:{beforeInit(){const e=this;if("fade"!==e.params.effect)return;e.classNames.push(`${e.params.containerModifierClass}fade`);const t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};H.extend(e.params,t),H.extend(e.originalParams,t)},setTranslate(){const e=this;"fade"===e.params.effect&&e.fadeEffect.setTranslate()},setTransition(e){const t=this;"fade"===t.params.effect&&t.fadeEffect.setTransition(e)}}};const Bt={setTranslate(){const e=this,{$el:t,$wrapperEl:n,slides:i,width:r,height:o,rtlTranslate:a,size:l}=e,u=e.params.cubeEffect,c=e.isHorizontal(),h=e.virtual&&e.params.virtual.enabled;let d,p=0;u.shadow&&(c?(d=n.find(".swiper-cube-shadow"),0===d.length&&(d=s('<div class="swiper-cube-shadow"></div>'),n.append(d)),d.css({height:`${r}px`})):(d=t.find(".swiper-cube-shadow"),0===d.length&&(d=s('<div class="swiper-cube-shadow"></div>'),t.append(d))));for(let v=0;v<i.length;v+=1){const e=i.eq(v);let t=v;h&&(t=parseInt(e.attr("data-swiper-slide-index"),10));let n=90*t,r=Math.floor(n/360);a&&(n=-n,r=Math.floor(-n/360));const o=Math.max(Math.min(e[0].progress,1),-1);let d=0,f=0,m=0;t%4===0?(d=4*-r*l,m=0):(t-1)%4===0?(d=0,m=4*-r*l):(t-2)%4===0?(d=l+4*r*l,m=l):(t-3)%4===0&&(d=-l,m=3*l+4*l*r),a&&(d=-d),c||(f=d,d=0);const g=`rotateX(${c?0:-n}deg) rotateY(${c?n:0}deg) translate3d(${d}px, ${f}px, ${m}px)`;if(o<=1&&o>-1&&(p=90*t+90*o,a&&(p=90*-t-90*o)),e.transform(g),u.slideShadows){let t=c?e.find(".swiper-slide-shadow-left"):e.find(".swiper-slide-shadow-top"),n=c?e.find(".swiper-slide-shadow-right"):e.find(".swiper-slide-shadow-bottom");0===t.length&&(t=s(`<div class="swiper-slide-shadow-${c?"left":"top"}"></div>`),e.append(t)),0===n.length&&(n=s(`<div class="swiper-slide-shadow-${c?"right":"bottom"}"></div>`),e.append(n)),t.length&&(t[0].style.opacity=Math.max(-o,0)),n.length&&(n[0].style.opacity=Math.max(o,0))}}if(n.css({"-webkit-transform-origin":`50% 50% -${l/2}px`,"-moz-transform-origin":`50% 50% -${l/2}px`,"-ms-transform-origin":`50% 50% -${l/2}px`,"transform-origin":`50% 50% -${l/2}px`}),u.shadow)if(c)d.transform(`translate3d(0px, ${r/2+u.shadowOffset}px, ${-r/2}px) rotateX(90deg) rotateZ(0deg) scale(${u.shadowScale})`);else{const e=Math.abs(p)-90*Math.floor(Math.abs(p)/90),t=1.5-(Math.sin(2*e*Math.PI/360)/2+Math.cos(2*e*Math.PI/360)/2),n=u.shadowScale,i=u.shadowScale/t,r=u.shadowOffset;d.transform(`scale3d(${n}, 1, ${i}) translate3d(0px, ${o/2+r}px, ${-o/2/i}px) rotateX(-90deg)`)}const f=Ge.isSafari||Ge.isUiWebView?-l/2:0;n.transform(`translate3d(0px,0,${f}px) rotateX(${e.isHorizontal()?0:p}deg) rotateY(${e.isHorizontal()?-p:0}deg)`)},setTransition(e){const t=this,{$el:n,slides:i}=t;i.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.cubeEffect.shadow&&!t.isHorizontal()&&n.find(".swiper-cube-shadow").transition(e)}};var Wt={name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create(){const e=this;H.extend(e,{cubeEffect:{setTranslate:Bt.setTranslate.bind(e),setTransition:Bt.setTransition.bind(e)}})},on:{beforeInit(){const e=this;if("cube"!==e.params.effect)return;e.classNames.push(`${e.params.containerModifierClass}cube`),e.classNames.push(`${e.params.containerModifierClass}3d`);const t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};H.extend(e.params,t),H.extend(e.originalParams,t)},setTranslate(){const e=this;"cube"===e.params.effect&&e.cubeEffect.setTranslate()},setTransition(e){const t=this;"cube"===t.params.effect&&t.cubeEffect.setTransition(e)}}};const qt={setTranslate(){const e=this,{slides:t,rtlTranslate:n}=e;for(let i=0;i<t.length;i+=1){const r=t.eq(i);let o=r[0].progress;e.params.flipEffect.limitRotation&&(o=Math.max(Math.min(r[0].progress,1),-1));const a=r[0].swiperSlideOffset,l=-180*o;let u=l,c=0,h=-a,d=0;if(e.isHorizontal()?n&&(u=-u):(d=h,h=0,c=-u,u=0),r[0].style.zIndex=-Math.abs(Math.round(o))+t.length,e.params.flipEffect.slideShadows){let t=e.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),n=e.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===t.length&&(t=s(`<div class="swiper-slide-shadow-${e.isHorizontal()?"left":"top"}"></div>`),r.append(t)),0===n.length&&(n=s(`<div class="swiper-slide-shadow-${e.isHorizontal()?"right":"bottom"}"></div>`),r.append(n)),t.length&&(t[0].style.opacity=Math.max(-o,0)),n.length&&(n[0].style.opacity=Math.max(o,0))}r.transform(`translate3d(${h}px, ${d}px, 0px) rotateX(${c}deg) rotateY(${u}deg)`)}},setTransition(e){const t=this,{slides:n,activeIndex:i,$wrapperEl:r}=t;if(n.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.virtualTranslate&&0!==e){let e=!1;n.eq(i).transitionEnd(function(){if(e)return;if(!t||t.destroyed)return;e=!0,t.animating=!1;const n=["webkitTransitionEnd","transitionend"];for(let e=0;e<n.length;e+=1)r.trigger(n[e])})}}};var Ht={name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create(){const e=this;H.extend(e,{flipEffect:{setTranslate:qt.setTranslate.bind(e),setTransition:qt.setTransition.bind(e)}})},on:{beforeInit(){const e=this;if("flip"!==e.params.effect)return;e.classNames.push(`${e.params.containerModifierClass}flip`),e.classNames.push(`${e.params.containerModifierClass}3d`);const t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};H.extend(e.params,t),H.extend(e.originalParams,t)},setTranslate(){const e=this;"flip"===e.params.effect&&e.flipEffect.setTranslate()},setTransition(e){const t=this;"flip"===t.params.effect&&t.flipEffect.setTransition(e)}}};const Gt={setTranslate(){const e=this,{width:t,height:n,slides:i,$wrapperEl:r,slidesSizesGrid:o}=e,a=e.params.coverflowEffect,l=e.isHorizontal(),u=e.translate,c=l?t/2-u:n/2-u,h=l?a.rotate:-a.rotate,d=a.depth;for(let p=0,f=i.length;p<f;p+=1){const e=i.eq(p),t=o[p],n=e[0].swiperSlideOffset,r=(c-n-t/2)/t*a.modifier;let u=l?h*r:0,f=l?0:h*r,v=-d*Math.abs(r),m=l?0:a.stretch*r,g=l?a.stretch*r:0;Math.abs(g)<.001&&(g=0),Math.abs(m)<.001&&(m=0),Math.abs(v)<.001&&(v=0),Math.abs(u)<.001&&(u=0),Math.abs(f)<.001&&(f=0);const y=`translate3d(${g}px,${m}px,${v}px)  rotateX(${f}deg) rotateY(${u}deg)`;if(e.transform(y),e[0].style.zIndex=1-Math.abs(Math.round(r)),a.slideShadows){let t=l?e.find(".swiper-slide-shadow-left"):e.find(".swiper-slide-shadow-top"),n=l?e.find(".swiper-slide-shadow-right"):e.find(".swiper-slide-shadow-bottom");0===t.length&&(t=s(`<div class="swiper-slide-shadow-${l?"left":"top"}"></div>`),e.append(t)),0===n.length&&(n=s(`<div class="swiper-slide-shadow-${l?"right":"bottom"}"></div>`),e.append(n)),t.length&&(t[0].style.opacity=r>0?r:0),n.length&&(n[0].style.opacity=-r>0?-r:0)}}if(G.pointerEvents||G.prefixedPointerEvents){const e=r[0].style;e.perspectiveOrigin=`${c}px 50%`}},setTransition(e){const t=this;t.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}};var Yt={name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create(){const e=this;H.extend(e,{coverflowEffect:{setTranslate:Gt.setTranslate.bind(e),setTransition:Gt.setTransition.bind(e)}})},on:{beforeInit(){const e=this;"coverflow"===e.params.effect&&(e.classNames.push(`${e.params.containerModifierClass}coverflow`),e.classNames.push(`${e.params.containerModifierClass}3d`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},setTranslate(){const e=this;"coverflow"===e.params.effect&&e.coverflowEffect.setTranslate()},setTransition(e){const t=this;"coverflow"===t.params.effect&&t.coverflowEffect.setTransition(e)}}};const Xt={init(){const e=this,{thumbs:t}=e.params,n=e.constructor;t.swiper instanceof n?(e.thumbs.swiper=t.swiper,H.extend(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),H.extend(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):H.isObject(t.swiper)&&(e.thumbs.swiper=new n(H.extend({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),e.thumbs.swiperCreated=!0),e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",e.thumbs.onThumbClick)},onThumbClick(){const e=this,t=e.thumbs.swiper;if(!t)return;const n=t.clickedIndex,i=t.clickedSlide;if(i&&s(i).hasClass(e.params.thumbs.slideThumbActiveClass))return;if("undefined"===typeof n||null===n)return;let r;if(r=t.params.loop?parseInt(s(t.clickedSlide).attr("data-swiper-slide-index"),10):n,e.params.loop){let t=e.activeIndex;e.slides.eq(t).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,t=e.activeIndex);const n=e.slides.eq(t).prevAll(`[data-swiper-slide-index="${r}"]`).eq(0).index(),i=e.slides.eq(t).nextAll(`[data-swiper-slide-index="${r}"]`).eq(0).index();r="undefined"===typeof n?i:"undefined"===typeof i?n:i-t<t-n?i:n}e.slideTo(r)},update(e){const t=this,n=t.thumbs.swiper;if(!n)return;const i="auto"===n.params.slidesPerView?n.slidesPerViewDynamic():n.params.slidesPerView;if(t.realIndex!==n.realIndex){let r,o=n.activeIndex;if(n.params.loop){n.slides.eq(o).hasClass(n.params.slideDuplicateClass)&&(n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft,o=n.activeIndex);const e=n.slides.eq(o).prevAll(`[data-swiper-slide-index="${t.realIndex}"]`).eq(0).index(),i=n.slides.eq(o).nextAll(`[data-swiper-slide-index="${t.realIndex}"]`).eq(0).index();r="undefined"===typeof e?i:"undefined"===typeof i?e:i-o===o-e?o:i-o<o-e?i:e}else r=t.realIndex;n.visibleSlidesIndexes.indexOf(r)<0&&(n.params.centeredSlides?r=r>o?r-Math.floor(i/2)+1:r+Math.floor(i/2)-1:r>o&&(r=r-i+1),n.slideTo(r,e?0:void 0))}let r=1;const o=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(r=t.params.slidesPerView),n.slides.removeClass(o),n.params.loop)for(let s=0;s<r;s+=1)n.$wrapperEl.children(`[data-swiper-slide-index="${t.realIndex+s}"]`).addClass(o);else for(let s=0;s<r;s+=1)n.slides.eq(t.realIndex+s).addClass(o)}};var Kt={name:"thumbs",params:{thumbs:{swiper:null,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create(){const e=this;H.extend(e,{thumbs:{swiper:null,init:Xt.init.bind(e),update:Xt.update.bind(e),onThumbClick:Xt.onThumbClick.bind(e)}})},on:{beforeInit(){const e=this,{thumbs:t}=e.params;t&&t.swiper&&(e.thumbs.init(),e.thumbs.update(!0))},slideChange(){const e=this;e.thumbs.swiper&&e.thumbs.update()},update(){const e=this;e.thumbs.swiper&&e.thumbs.update()},resize(){const e=this;e.thumbs.swiper&&e.thumbs.update()},observerUpdate(){const e=this;e.thumbs.swiper&&e.thumbs.update()},setTransition(e){const t=this,n=t.thumbs.swiper;n&&n.setTransition(e)},beforeDestroy(){const e=this,t=e.thumbs.swiper;t&&e.thumbs.swiperCreated&&t&&t.destroy()}}};const Qt=[st,at,lt,ut,ht,pt,vt,yt,_t,Et,Tt,xt,It,Nt,Ot,Rt,Mt,$t,Ut,zt,Wt,Ht,Yt,Kt];"undefined"===typeof ot.use&&(ot.use=ot.Class.use,ot.installModule=ot.Class.installModule),ot.use(Qt);t["a"]=ot},4362:function(e,t,n){t.nextTick=function(e){setTimeout(e,0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,i="/";t.cwd=function(){return i},t.chdir=function(t){e||(e=n("df7c")),i=e.resolve(t,i)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},4588:function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"467f":function(e,t,n){"use strict";var i=n("2d83");e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},"4bf8":function(e,t,n){var i=n("be13");e.exports=function(e){return Object(i(e))}},"4fbf":function(e,t){var n=1;function i(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}e.exports=function(e){return new Promise(function(t,r){var o=document.createElement("script"),s=e.url;if(e.params){var a=i(e.params);a&&(s+=(s.indexOf("?")>=0?"&":"?")+a)}o.async=!0;var l="axiosJsonpCallback"+n++,u=window[l],c=!1;window[l]=function(e){if(window[l]=u,!c){var n={data:e,status:200};t(n)}};var h={_:(new Date).getTime()};h[e.callbackParamName||"callback"]=l,s+=(s.indexOf("?")>=0?"&":"?")+i(h),o.onload=o.onreadystatechange=function(){o.readyState&&!/loaded|complete/.test(o.readyState)||(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),o=null)},e.cancelToken&&e.cancelToken.promise.then(function(e){o&&(c=!0,r(e))}),o.src=s,document.head.appendChild(o)})}},5147:function(e,t,n){var i=n("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,!"/./"[e](t)}catch(r){}}return!0}},5270:function(e,t,n){"use strict";var i=n("c532"),r=n("c401"),o=n("2e67"),s=n("2444"),a=n("d925"),l=n("e683");function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){u(e),e.baseURL&&!a(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});var t=e.adapter||s.adapter;return t(e).then(function(t){return u(e),t.data=r(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},"52a7":function(e,t){t.f={}.propertyIsEnumerable},"52fe":function(e,t){(function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(e){return e&&DataView.prototype.isPrototypeOf(e)},r=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};c.prototype.append=function(e,t){e=a(e),t=l(t);var n=this.map[e];this.map[e]=n?n+","+t:t},c.prototype["delete"]=function(e){delete this.map[a(e)]},c.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},c.prototype.set=function(e,t){this.map[a(e)]=l(t)},c.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},c.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),u(e)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),u(e)},c.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),u(e)},t.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},g.call(b.prototype),g.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var s=[301,302,303,307,308];E.redirect=function(e,t){if(-1===s.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},e.Headers=c,e.Request=b,e.Response=E,e.fetch=function(e,n){return new Promise(function(i,r){var o=new b(e,n),s=new XMLHttpRequest;s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:w(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;i(new E(t,e))},s.onerror=function(){r(new TypeError("Network request failed"))},s.ontimeout=function(){r(new TypeError("Network request failed"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&t.blob&&(s.responseType="blob"),o.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),s.send("undefined"===typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}function a(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!==typeof e&&(e=String(e)),e}function u(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function c(e){this.map={},e instanceof c?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function f(e){var t=new FileReader,n=d(t);return t.readAsText(e),n}function v(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&i(e))this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!r(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return f(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(e){var t=e.toUpperCase();return o.indexOf(t)>-1?t:e}function b(e,t){t=t||{};var n=t.body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=y(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function _(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}}),t}function w(e){var t=new c,n=e.replace(/\r?\n[\t ]+/g," ");return n.split(/\r?\n/).forEach(function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}}),t}function E(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}})("undefined"!==typeof self?self:this)},5537:function(e,t,n){var i=n("7726"),r="__core-js_shared__",o=i[r]||(i[r]={});e.exports=function(e){return o[e]||(o[e]={})}},"59ca":function(e,t,n){"use strict";function i(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}n("95c6");var r=i(n("c23d"));e.exports=r},"5ca1":function(e,t,n){var i=n("7726"),r=n("8378"),o=n("32e9"),s=n("2aba"),a=n("9b43"),l="prototype",u=function(e,t,n){var c,h,d,p,f=e&u.F,v=e&u.G,m=e&u.S,g=e&u.P,y=e&u.B,b=v?i:m?i[t]||(i[t]={}):(i[t]||{})[l],_=v?r:r[t]||(r[t]={}),w=_[l]||(_[l]={});for(c in v&&(n=t),n)h=!f&&b&&void 0!==b[c],d=(h?b:n)[c],p=y&&h?a(d,i):g&&"function"==typeof d?a(Function.call,d):d,b&&s(b,c,d,e&u.U),_[c]!=d&&o(_,c,p),g&&w[c]!=d&&(w[c]=d)};i.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},"5df3":function(e,t,n){"use strict";var i=n("02f4")(!0);n("01f9")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},"613b":function(e,t,n){var i=n("5537")("keys"),r=n("ca5a");e.exports=function(e){return i[e]||(i[e]=r(e))}},6191:function(e,t,n){"use strict";var i=n("d833"),r=n.n(i);r.a},"626a":function(e,t,n){var i=n("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},"66ce":function(e,t,n){"use strict";n("3523")},"67ab":function(e,t,n){var i=n("ca5a")("meta"),r=n("d3f4"),o=n("69a8"),s=n("86cc").f,a=0,l=Object.isExtensible||function(){return!0},u=!n("79e5")(function(){return l(Object.preventExtensions({}))}),c=function(e){s(e,i,{value:{i:"O"+ ++a,w:{}}})},h=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[i].i},d=function(e,t){if(!o(e,i)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[i].w},p=function(e){return u&&f.NEED&&l(e)&&!o(e,i)&&c(e),e},f=e.exports={KEY:i,NEED:!1,fastKey:h,getWeak:d,onFreeze:p}},6821:function(e,t,n){var i=n("626a"),r=n("be13");e.exports=function(e){return i(r(e))}},"69a8":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"6a99":function(e,t,n){var i=n("d3f4");e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},"6b7b":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container bg-primary"},[e.loaded?n("div",{staticClass:"columns pt-0"},[n("button",{staticClass:"btn col-2",class:{active:e.$store.state.default===e.$route.query.id},on:{click:function(t){return e.makeDefault(e.$route.query.id)}}},[n("i",{staticClass:"icon icon-bookmark"})]),n("div",{staticClass:"column col-5 text-left dropdown dropdown-left"},[n("a",{staticClass:"btn dropdown-toggle bg-primary text-secondary col-12",attrs:{tabindex:"0"},on:{click:function(t){e.showWeekSelect=!0}}},[e._v("\n            "+e._s(e.weeks[e.parity])),n("i",{staticClass:"icon icon-caret"})]),n("ul",{staticClass:"menu col-11 mx-2",class:{"d-none":!e.showWeekSelect}},[n("li",{staticClass:"text-dark",on:{click:function(t){return e.selectWeek(0)}}},[e._v("Числитель")]),n("li",{staticClass:"text-dark",on:{click:function(t){return e.selectWeek(1)}}},[e._v("Знаменатель")])])]),n("div",{staticClass:"column col-5 text-right dropdown btn-primary dropdown-right"},[n("a",{staticClass:"btn dropdown-toggle bg-primary text-secondary col-12",attrs:{href:"#",tabindex:"0"},on:{click:function(t){e.showSubGroupSelect=!0}}},[e._v("\n            "+e._s(void 0!=e.subgroup?e.subgroups[e.subgroup].title:e.subgroups[0].title)+"\n            "),n("i",{staticClass:"icon icon-caret"})]),n("ul",{staticClass:"menu col-11 mx-2",class:{"d-none":!e.showSubGroupSelect}},e._l(e.subgroups,function(t,i){return n("li",{staticClass:"text-dark text-left",on:{click:function(t){return e.setSubgroup(i)}}},[e._v("\n              "+e._s(t?t.title:"")+"\n            ")])}),0)]),n("div",{staticClass:"divider  col-12"}),n("div",{staticClass:"timer"},[n("h5",{staticClass:"column col-12 text-center text-normal d-inline-block"},[e._v(e._s(e.getNumClass)+" ")])])]):e._e(),n("div",{staticClass:"wrapper swiper-container"},[n("button",{staticClass:"slide-buttons slide-left",attrs:{id:"prevButton"}}),e.loaded?n("div",{staticClass:"my-slider swiper-wrapper",attrs:{id:"blocks"}},e._l(e.daysOfWeek,function(t){return n("div",{staticClass:"block swiper-slide",attrs:{id:t}},[n("h1",[e._v(e._s(e.daysOfWeekRU[t]))]),n("ol",e._l(e.renderSchedule(t),function(t,i){return n("li",{staticClass:"subject"},t?[n("span",{staticClass:"subject__time"},[e._v(e._s(e.timers[1][i+1]?e.getTiming(e.timers[1][i+1]):"-"))]),n("div",{staticClass:"subject__container"},[n("span",{staticClass:"subject__name"},[e._v("  "+e._s(t.title)+" ")]),n("span",{staticClass:"subject__type"},[e._v(e._s(t.type))])]),n("span",{staticClass:"subject__room"},[e._v(e._s(t.room))])]:[n("span",{staticClass:"subject__time"},[e._v(e._s(e.timers[1][i+1]?e.getTiming(e.timers[1][i+1]):"-"))]),n("div",{staticClass:"subject__container text-dark"})])}),0)])}),0):e._e(),n("button",{staticClass:"slide-buttons slide-right",attrs:{id:"nextButton"}})]),e.loaded?e._e():n("div",{staticClass:"loading loading-lg"})])},r=[],o=(n("ac6a"),n("41d6")),s=n("59ca"),a=n.n(s);n("66ce"),n("ea7b");let l={apiKey:"AIzaSyA6hIR7mCJwccJ6ndZZluTxo4WQi5olfkw",authDomain:"schedule-480c2.firebaseapp.com",databaseURL:"https://schedule-480c2.firebaseio.com",projectId:"schedule-480c2",storageBucket:"schedule-480c2.appspot.com",messagingSenderId:"581207968061"};a.a.apps.length||a.a.initializeApp(l);var u={data(){return{loaded:!1,slider:{},parity:0,subgroup:0,weeks:["Числитель","Знаменатель"],schedule:{},timers:{},subgroups:{},subjects:{},types:[{id:0,title:"Лекция"},{id:1,title:"Практика"},{id:2,title:"Лабораторные раб."}],daysOfWeek:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],daysOfWeekRU:{monday:"Понедельник",tuesday:"Вторник",wednesday:"Среда",thursday:"Четверг",friday:"Пятница",saturday:"Суббота",sunday:"Воскресенье"},time:new Date,showWeekSelect:!1,showSubGroupSelect:!1}},methods:{getTimer(e,t){if(console.log(t),"timer"!=t)return this.timers[1][t][0]+":"+this.timers[1][t][1]},getClass(e,t){return this.subjects[this.schedule[e][t].class].title},getClassType(e,t){return this.types[this.schedule[e][t].type].title},getRoom(e,t){return this.schedule[e][t]?this.schedule[e][t].room:""},dayExcist(){},showClass(e,t){return!!(this.schedule[e]&&this.schedule[e][t]&&this.schedule[e][t].parity.includes(this.parity)&&this.schedule[e][t].subgroups.includes(this.subgroup))},renderSchedule(e){let t=[],n=this;for(let i=0;i<8;i++)this.schedule[e].forEach(function(e){if(e.num==i&&n.subjects[e.class].title&&e.parity.includes(n.parity)&&e.subgroups.includes(n.subgroup)){let r={time:n.timers[1][e.num],title:n.subjects[e.class].title,type:n.types[e.type].title,room:e.room};t[i-1]=r}}),t[i]||(t[i]=!1);return t},getTiming(e){let t=e[0],n=e[1];n<10&&(n="0"+n);let i=60*e[0]+e[1]+this.timers[1].duration,r=Math.floor(i/60),o=i%60+"";return o.length<2&&(o="0"+o),`${t}:${n}\n${r}:${o}`},makeDefault(e){this.$store.state.default==e?this.$store.commit("SETDEFAULT",!1):this.$store.commit("SETDEFAULT",e)},setSubgroup(e){this.subgroup=e,this.showSubGroupSelect=!1,this.$store.commit("SETSUBGROUP",e)},getWeek(){let e=new Date,t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+t.getDay())/7)},selectWeek(e){this.parity=e,this.showWeekSelect=!1}},computed:{getNumClass(){let e=this.time,t=[0];for(let s in this.timers[1]){let e=60*this.timers[1][s][0]+this.timers[1][s][1];t.push(e),t.push(e+90)}let n=60*e.getHours()+e.getMinutes(),i=[...t],r=i[0]-n,o=-1;for(let s=0;s<i.length-1;s++)n>=i[s]&n<i[s+1]&&(o=s,r=i[s+1]-n);if(o>-1){const e=["начала ","конца "][o%2],t=(o-o%2)/2+1,n=(o-o%2)/2+1===3?"eй":"ой";return r>60?`До ${e} ${t}-${n} пары ${Math.floor(r/60)} час. ${r%60} мин.`:`До ${e} ${t}-${n} пары ${r} мин.`}return"Пары закончились"}},mounted(){let e=this.$route.query.id,t=`schedules/${e}`;console.log(t);let n,i=a.a.database().ref(t),r=this;i.on("value",function(e){n=e.val(),r.title=n.title,r.schedule=n.schedule,r.timers=n.timers,r.subgroups=n.subgroups,r.subjects=n.subjects,r.loaded=!0,setTimeout(function(){const e={speed:400,spaceBetween:20,navigation:{nextEl:"#nextButton",prevEl:"#prevButton"},fadeEffect:{crossFade:!0}};r.slider=new o["a"](".swiper-container",e),r.slider.slideTo((new Date).getDay()-1)},10),console.log(n)},function(e){console.log("Error: "+e.code)}),this.$store.state.subgroup&&(this.subgroup=this.$store.state.subgroup),this.getWeek()%2===1?this.parity=1:this.parity=0,setInterval(()=>this.time=new Date,1e3)},updated(){}},c=u,h=(n("fcd1"),n("2877")),d=Object(h["a"])(c,i,r,!1,null,"15b8fdb8",null);t["default"]=d.exports},7333:function(e,t,n){"use strict";var i=n("0d58"),r=n("2621"),o=n("52a7"),s=n("4bf8"),a=n("626a"),l=Object.assign;e.exports=!l||n("79e5")(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=i})?function(e,t){var n=s(e),l=arguments.length,u=1,c=r.f,h=o.f;while(l>u){var d,p=a(arguments[u++]),f=c?i(p).concat(c(p)):i(p),v=f.length,m=0;while(v>m)h.call(p,d=f[m++])&&(n[d]=p[d])}return n}:l},7514:function(e,t,n){"use strict";var i=n("5ca1"),r=n("0a49")(5),o="find",s=!0;o in[]&&Array(1)[o](function(){s=!1}),i(i.P+i.F*s,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},7726:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77be":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"panel"},[n("div",{staticClass:"panel-header text-center"},[n("figure",{staticClass:"avatar avatar-lg"},[n("img",{attrs:{src:e.user.photo,alt:"Avatar"}})]),n("div",{staticClass:"panel-title h5 mt-10"},[e._v(e._s(e.user.name))])]),n("button",{staticClass:"btn logout m-2",on:{click:function(t){return e.logout()}}},[e._v("Выйти")]),n("div",{staticClass:"panel-body"},[n("h5",[e._v("Список моих расписаний ("+e._s(e.items.length)+")")]),e.loaded?e._e():n("div",{staticClass:"loading loading-lg"}),e._l(e.items,function(t){return n("div",{staticClass:"tile tile-centered"},[n("div",{staticClass:"tile-content"},[n("div",{staticClass:"tile-title text-bold"},[n("router-link",{attrs:{to:{name:"schedule",query:{id:t.href}}}},[e._v(" "+e._s(t.name)+" ")])],1),n("div",{staticClass:"tile-subtitle"},[e._v(e._s(new Date(t.date).toLocaleDateString()))])]),n("div",{staticClass:"tile-action"},[n("router-link",{staticClass:"btn btn-link btn-action btn-lg tooltip tooltip-left",attrs:{"data-tooltip":"Редактировать",to:{name:"edit",query:{id:t.href}}}},[n("i",{staticClass:"icon icon-edit"})]),n("button",{staticClass:"btn mr-1",class:{active:e.$store.state.default===t.href},on:{click:function(n){return e.makeDefault(t.href)}}},[n("i",{staticClass:"icon icon-bookmark"})]),n("button",{staticClass:"btn ",on:{click:function(n){return e.del(t.href)}}},[n("i",{staticClass:"icon icon-delete"})])],1)])}),n("div",{staticClass:"modal modal-sm",class:{active:e.modal}},[n("a",{staticClass:"modal-overlay",attrs:{"aria-label":"Close"},on:{click:function(t){e.modal=!1}}}),n("div",{staticClass:"modal-container py-2"},[n("h6",{staticClass:"mt-2"},[e._v("Подтверждение")]),n("p",{staticClass:"mb-2"},[e._v("Вы уверены что хотите удалить расписание?")]),n("button",{staticClass:"btn btn-error",on:{click:function(t){return e.confirmDel()}}},[e._v("Удалить")]),n("button",{staticClass:"btn btn-secondary my-2",on:{click:function(t){e.modal=!1}}},[e._v("Отмена")])])])],2),n("div",{staticClass:"panel-footer"},[n("router-link",{staticClass:"btn btn-primary btn-block",attrs:{to:"add"}},[e._v("Создать расписание")])],1)])])},r=[],o=(n("ac6a"),n("59ca")),s=n.n(o);n("66ce"),n("ea7b");let a={apiKey:"AIzaSyA6hIR7mCJwccJ6ndZZluTxo4WQi5olfkw",authDomain:"schedule-480c2.firebaseapp.com",databaseURL:"https://schedule-480c2.firebaseio.com",projectId:"schedule-480c2",storageBucket:"schedule-480c2.appspot.com",messagingSenderId:"581207968061"};s.a.apps.length||s.a.initializeApp(a);var l={data(){return{items:[],loaded:!1,ref:{},modal:!1}},methods:{logout(){this.$store.commit("LOGOUT"),this.$router.push("login")},del(e){this.modal=!0,this.ref=s.a.database().ref("/schedules/"+e)},confirmDel(){this.ref.remove(),this.modal=!1},makeDefault(e){this.$store.state.default==e?this.$store.commit("SETDEFAULT",!1):this.$store.commit("SETDEFAULT",e)}},computed:{user(){return console.log(this.$store.state.logged),this.$store.state.logged?this.$store.state.user:{name:"Войти",photo:"https://picturepan2.github.io/spectre/img/avatar-1.png"}}},mounted(){this.$store.state.logged||this.$router.push("login");let e,t=s.a.database().ref("/schedules").orderByChild("creator").equalTo(this.$store.state.user.uid),n=this;t.on("value",function(t){e=t.val(),n.items=[],Object.keys(e).forEach(t=>{n.items.push({name:e[t].title,date:e[t].date,href:t})}),console.log(e),n.loaded=!0},function(e){console.log("Error: "+e.code)})}},u=l,c=(n("90d0"),n("2877")),h=Object(c["a"])(u,i,r,!1,null,"70dc61f4",null);t["default"]=h.exports},"77f1":function(e,t,n){var i=n("4588"),r=Math.max,o=Math.min;e.exports=function(e,t){return e=i(e),e<0?r(e+t,0):o(e,t)}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"7a77":function(e,t,n){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i},"7aac":function(e,t,n){"use strict";var i=n("c532");e.exports=i.isStandardBrowserEnv()?function(){return{write:function(e,t,n,r,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7bbc":function(e,t,n){var i=n("6821"),r=n("9093").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return r(e)}catch(t){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?a(e):r(i(e))}},"7e55":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("h3",[e._v("Добавление расписания")]),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label",attrs:{for:"country"}},[e._v("Страна")]),n("div",{staticClass:"has-icon-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.vkapi.country.title,expression:"vkapi.country.title"}],staticClass:"form-input",attrs:{id:"country",placeholder:"Выберите страну"},domProps:{value:e.vkapi.country.title},on:{focus:function(t){e.focus.country=!0},blur:function(t){return e.blur("country")},input:function(t){t.target.composing||e.$set(e.vkapi.country,"title",t.target.value)}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:e.focus.country,expression:"focus.country"}],staticClass:"form-icon icon icon-cross",on:{click:function(t){return e.clear("country")}}})]),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.focus.country,expression:"focus.country"}],staticClass:"list "},e._l(e.list.countries,function(t){return n("li",{on:{click:function(n){return e.select(t,"country")}}},[e._v(e._s(t.title))])}),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.vkapi.country.id,expression:"vkapi.country.id"}],staticClass:"form-group"},[n("label",{staticClass:"form-label",attrs:{for:"city"}},[e._v("Город")]),n("div",{staticClass:"has-icon-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.vkapi.city.title,expression:"vkapi.city.title"}],staticClass:"form-input",attrs:{placeholder:"Начните вводить город"},domProps:{value:e.vkapi.city.title},on:{click:e.getCities,input:[function(t){t.target.composing||e.$set(e.vkapi.city,"title",t.target.value)},e.getCities],focus:function(t){e.focus.city=!0},blur:function(t){return e.blur("city")}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:e.focus.city,expression:"focus.city"}],staticClass:"form-icon icon icon-cross",on:{click:function(t){return e.clear("city")}}})]),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.focus.city,expression:"focus.city"}],staticClass:"list "},e._l(e.list.cities,function(t){return n("li",{on:{click:function(n){return e.select(t,"city")}}},[e._v(e._s(e.getFullName(t)))])}),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.vkapi.city.id,expression:"vkapi.city.id"}],staticClass:"form-group select-type"},[n("label",{staticClass:"form-radio form-inline"},[n("input",{attrs:{type:"radio",name:"type",checked:""},on:{input:function(t){e.vkapi.type=!1}}}),n("i",{staticClass:"form-icon"}),e._v("Школа или СУЗ\n    ")]),n("label",{staticClass:"form-radio form-inline"},[n("input",{attrs:{type:"radio",name:"type"},on:{input:function(t){e.vkapi.type=!0}}}),n("i",{staticClass:"form-icon"}),e._v("ВУЗ\n    ")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.vkapi.city.id&&!this.vkapi.type,expression:"vkapi.city.id && !this.vkapi.type"}],staticClass:"form-group"},[n("label",{staticClass:"form-label",attrs:{for:"school"}},[e._v("Школа")]),n("div",{staticClass:"has-icon-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.vkapi.school.title,expression:"vkapi.school.title"}],staticClass:"form-input",attrs:{id:"city",placeholder:"Начните вводить название школы или СУЗа"},domProps:{value:e.vkapi.school.title},on:{click:e.getSchools,input:[function(t){t.target.composing||e.$set(e.vkapi.school,"title",t.target.value)},e.getSchools],focus:function(t){e.focus.school=!0},blur:function(t){return e.blur("school")}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:e.focus.school,expression:"focus.school"}],staticClass:"form-icon icon icon-cross",on:{click:function(t){return e.clear("school")}}})]),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.focus.school,expression:"focus.school"}],staticClass:"list "},e._l(e.list.schools,function(t){return n("li",{on:{click:function(n){return e.select(t,"school")}}},[e._v(e._s(t.title))])}),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.vkapi.city.id&&this.vkapi.type,expression:"vkapi.city.id && this.vkapi.type"}],staticClass:"form-group"},[n("label",{staticClass:"form-label",attrs:{for:"university"}},[e._v("ВУЗ")]),n("div",{staticClass:"has-icon-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.vkapi.university.title,expression:"vkapi.university.title"}],staticClass:"form-input",attrs:{id:"university",placeholder:"Начните вводить название ВУЗа"},domProps:{value:e.vkapi.university.title},on:{click:e.getUniversities,input:[function(t){t.target.composing||e.$set(e.vkapi.university,"title",t.target.value)},e.getUniversities],focus:function(t){e.focus.university=!0},blur:function(t){return e.blur("university")}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:e.focus.university,expression:"focus.university"}],staticClass:"form-icon icon icon-cross",on:{click:function(t){return e.clear("university")}}})]),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.focus.university,expression:"focus.university"}],staticClass:"list "},e._l(e.list.universities,function(t){return n("li",{on:{click:function(n){return e.select(t,"university")}}},[e._v(e._s(t.title))])}),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.vkapi.university.id&&this.vkapi.type,expression:"vkapi.university.id && this.vkapi.type"}],staticClass:"form-group"},[n("label",{staticClass:"form-label",attrs:{for:"faculty"}},[e._v("Факультет")]),n("div",{staticClass:"has-icon-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.vkapi.faculty.title,expression:"vkapi.faculty.title"}],staticClass:"form-input",attrs:{id:"faculty",placeholder:"Выберите факультет"},domProps:{value:e.vkapi.faculty.title},on:{click:e.getFaculties,input:[function(t){t.target.composing||e.$set(e.vkapi.faculty,"title",t.target.value)},function(e){}],focus:function(t){e.focus.faculty=!0},blur:function(t){return e.blur("faculty")}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:e.focus.faculty,expression:"focus.faculty"}],staticClass:"form-icon icon icon-cross",on:{click:function(t){return e.clear("faculty")}}})]),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.focus.faculty,expression:"focus.faculty"}],staticClass:"list "},e._l(e.list.faculties,function(t){return n("li",{on:{click:function(n){return e.select(t,"faculty")}}},[e._v(e._s(t.title))])}),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.vkapi.faculty.id&&this.vkapi.type,expression:"vkapi.faculty.id && this.vkapi.type"}],staticClass:"form-group"},[n("label",{staticClass:"form-label",attrs:{for:"chair"}},[e._v("Кафедра")]),n("div",{staticClass:"has-icon-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.vkapi.chair.title,expression:"vkapi.chair.title"}],staticClass:"form-input",attrs:{id:"chair",placeholder:"Выберите кафедру(необязательно)"},domProps:{value:e.vkapi.chair.title},on:{click:e.getChairs,input:[function(t){t.target.composing||e.$set(e.vkapi.chair,"title",t.target.value)},function(e){}],focus:function(t){e.focus.chair=!0},blur:function(t){return e.blur("chair")}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:e.focus.chair,expression:"focus.chair"}],staticClass:"form-icon icon icon-cross",on:{click:function(t){return e.clear("chair")}}})]),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.focus.chair,expression:"focus.chair"}],staticClass:"list "},e._l(e.list.chairs,function(t){return n("li",{on:{click:function(n){return e.select(t,"chair")}}},[e._v(e._s(t.title))])}),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.vkapi.school.id&&!e.vkapi.type||e.vkapi.faculty.id&&e.vkapi.type,expression:"vkapi.school.id && !vkapi.type || vkapi.faculty.id && vkapi.type"}],staticClass:"form-group"},[n("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Название")]),n("div",{staticClass:"has-icon-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.vkapi.name,expression:"vkapi.name"}],staticClass:"form-input",attrs:{id:"name",placeholder:"Введите название вашего расписания"},domProps:{value:e.vkapi.name},on:{focus:function(t){e.focus.name=!0},blur:function(t){e.focus.name=!1},input:function(t){t.target.composing||e.$set(e.vkapi,"name",t.target.value)}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:e.focus.name,expression:"focus.name"}],staticClass:"form-icon icon icon-cross",on:{click:function(t){return e.clear("name")}}})])]),n("button",{staticClass:"btn btn-primary search",attrs:{disabled:!e.nameValid},on:{click:function(t){return e.add()}}},[e._v("Создать")]),e.itemsCount>=5?n("div",{staticClass:"toast toast-error mt-2"},[e._v("\n    У вас имеется максимально возможное количество расписаний.\n  ")]):e._e()])},r=[],o=(n("ac6a"),n("2b0e")),s=n("bc3a"),a=n.n(s),l=n("4fbf"),u=n.n(l),c=n("a7fe"),h=n.n(c),d=n("59ca"),p=n.n(d);n("66ce"),n("ea7b");let f={apiKey:"AIzaSyA6hIR7mCJwccJ6ndZZluTxo4WQi5olfkw",authDomain:"schedule-480c2.firebaseapp.com",databaseURL:"https://schedule-480c2.firebaseio.com",projectId:"schedule-480c2",storageBucket:"schedule-480c2.appspot.com",messagingSenderId:"581207968061"};p.a.apps.length||p.a.initializeApp(f),o["a"].use(h.a,a.a);var v={data(){return{list:{countries:[{id:1,title:"Россия"},{id:2,title:"Украина"},{id:3,title:"Беларусь"}],cities:[],schools:[],universities:[],faculties:[],chairs:[]},focus:{type:!1,country:!1,city:!1,school:!1,university:!1,faculty:!1,chair:!1},vkapi:{type:"",name:"",country:{id:"",title:""},city:{id:"",title:""},school:{id:"",title:""},university:{id:"",title:""},faculty:{id:"",title:""},chair:{id:"",title:""}},obj:[{num:"",class:0,type:0,room:"",parity:[0,1],subgroups:[0,1]}],itemsCount:0}},methods:{add(){if(this.itemsCount>=5)return 0;let e,t,n=this;this.vkapi.type?(e=`countries/${this.vkapi.country.id}/cities/${this.vkapi.city.id}/university/${this.vkapi.university.id}/faculty/${this.vkapi.faculty.id}`,t={title:n.vkapi.name,date:Date.now(),chair:n.vkapi.chair.title}):(e=`countries/${this.vkapi.country.id}/cities/${this.vkapi.city.id}/schools/${this.vkapi.school.id}`,t={title:n.vkapi.name,date:Date.now()});let i=p.a.database(),r=i.ref(e).push(t),o=r.path.pieces_.pop(),s=`schedules/${o}`,a={creator:n.$store.state.user.uid,title:n.vkapi.name,date:Date.now(),subjects:{0:{id:0,title:""}},subgroups:{0:{id:0,title:"Подгруппа 1"}},timers:{1:{duration:90,1:[8,30],2:[10,10],3:[12,0],4:[14,0],5:[15,50],6:[17,30],7:[19,10]}},schedule:{monday:this.obj,tuesday:this.obj,wednesday:this.obj,thursday:this.obj,friday:this.obj,saturday:this.obj,sunday:this.obj}};console.log(a),i.ref(s).set(a,function(){n.$router.push("edit?id="+o)})},getCities(){a()({url:`https://api.vk.com/method/database.getCities?country_id=${this.vkapi.country.id}&q=${this.vkapi.city.title}&count=50&access_token=3ae3ac593ae3ac593ae3ac593a3a84c41733ae33ae3ac5966efe83946d1c87ff1579c26&v=5.92`,adapter:u.a}).then(e=>this.list.cities=e.data.response.items)},getSchools(){a()({url:`https://api.vk.com/method/database.getSchools?city_id=${this.vkapi.city.id}&q=${this.vkapi.school.title}&count=50&access_token=3ae3ac593ae3ac593ae3ac593a3a84c41733ae33ae3ac5966efe83946d1c87ff1579c26&v=5.92`,adapter:u.a}).then(e=>this.list.schools=e.data.response.items)},getUniversities(){a()({url:`https://api.vk.com/method/database.getUniversities?city_id=${this.vkapi.city.id}&q=${this.vkapi.university.title}&count=50&access_token=3ae3ac593ae3ac593ae3ac593a3a84c41733ae33ae3ac5966efe83946d1c87ff1579c26&v=5.92`,adapter:u.a}).then(e=>this.list.universities=e.data.response.items)},getFaculties(){a()({url:`https://api.vk.com/method/database.getFaculties?university_id=${this.vkapi.university.id}&count=100&access_token=3ae3ac593ae3ac593ae3ac593a3a84c41733ae33ae3ac5966efe83946d1c87ff1579c26&v=5.92`,adapter:u.a}).then(e=>this.list.faculties=e.data.response.items)},getChairs(){a()({url:`https://api.vk.com/method/database.getChairs?faculty_id=${this.vkapi.faculty.id}&count=100&access_token=3ae3ac593ae3ac593ae3ac593a3a84c41733ae33ae3ac5966efe83946d1c87ff1579c26&v=5.92`,adapter:u.a}).then(e=>this.list.chairs=e.data.response.items)},getFullName(e){let t=e.title?e.title:"",n=e.region?","+e.region:"",i=e.area?","+e.area:"";return`${t} ${n} ${i}`},select(e,t){this.vkapi[t]={id:e.id,title:e.title},this.focus[t]=!1},clear(e){this.vkapi[e]={id:0,title:""}},blur(e){let t=this;setTimeout(function(){t.focus[e]=!1},300)}},computed:{nameValid(){let e=/^[а-яА-ЯёЁa-zA-Z0-9-_#№ !"':]{2,40}$/;return e.test(this.vkapi.name)}},mounted(){this.$store.state.logged||this.$router.push("login");const e=this;let t,n=p.a.database().ref("/schedules").orderByChild("creator").equalTo(this.$store.state.user.uid);n.on("value",function(n){t=n.val(),console.log(t),e.itemsCount=0,Object.keys(t).forEach(t=>e.itemsCount++),e.loaded=!0},function(e){console.log("Error: "+e.code)})}},m=v,g=(n("d296"),n("2877")),y=Object(g["a"])(m,i,r,!1,null,"2d31a504",null);t["default"]=y.exports},"7f20":function(e,t,n){var i=n("86cc").f,r=n("69a8"),o=n("2b4c")("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},8196:function(e,t,n){},8378:function(e,t){var n=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},"84f2":function(e,t){e.exports={}},"86cc":function(e,t,n){var i=n("cb7c"),r=n("c69a"),o=n("6a99"),s=Object.defineProperty;t.f=n("9e1e")?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return s(e,t,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"884e":function(e,t,n){"use strict";var i=n("8d6f"),r=n.n(i);r.a},"8a81":function(e,t,n){"use strict";var i=n("7726"),r=n("69a8"),o=n("9e1e"),s=n("5ca1"),a=n("2aba"),l=n("67ab").KEY,u=n("79e5"),c=n("5537"),h=n("7f20"),d=n("ca5a"),p=n("2b4c"),f=n("37c8"),v=n("3a72"),m=n("d4c0"),g=n("1169"),y=n("cb7c"),b=n("d3f4"),_=n("6821"),w=n("6a99"),E=n("4630"),C=n("2aeb"),T=n("7bbc"),S=n("11e9"),x=n("86cc"),k=n("0d58"),I=S.f,P=x.f,N=T.f,A=i.Symbol,O=i.JSON,D=O&&O.stringify,R="prototype",L=p("_hidden"),M=p("toPrimitive"),F={}.propertyIsEnumerable,$=c("symbol-registry"),j=c("symbols"),U=c("op-symbols"),V=Object[R],z="function"==typeof A,B=i.QObject,W=!B||!B[R]||!B[R].findChild,q=o&&u(function(){return 7!=C(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=I(V,t);i&&delete V[t],P(e,t,n),i&&e!==V&&P(V,t,i)}:P,H=function(e){var t=j[e]=C(A[R]);return t._k=e,t},G=z&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},Y=function(e,t,n){return e===V&&Y(U,t,n),y(e),t=w(t,!0),y(n),r(j,t)?(n.enumerable?(r(e,L)&&e[L][t]&&(e[L][t]=!1),n=C(n,{enumerable:E(0,!1)})):(r(e,L)||P(e,L,E(1,{})),e[L][t]=!0),q(e,t,n)):P(e,t,n)},X=function(e,t){y(e);var n,i=m(t=_(t)),r=0,o=i.length;while(o>r)Y(e,n=i[r++],t[n]);return e},K=function(e,t){return void 0===t?C(e):X(C(e),t)},Q=function(e){var t=F.call(this,e=w(e,!0));return!(this===V&&r(j,e)&&!r(U,e))&&(!(t||!r(this,e)||!r(j,e)||r(this,L)&&this[L][e])||t)},J=function(e,t){if(e=_(e),t=w(t,!0),e!==V||!r(j,t)||r(U,t)){var n=I(e,t);return!n||!r(j,t)||r(e,L)&&e[L][t]||(n.enumerable=!0),n}},Z=function(e){var t,n=N(_(e)),i=[],o=0;while(n.length>o)r(j,t=n[o++])||t==L||t==l||i.push(t);return i},ee=function(e){var t,n=e===V,i=N(n?U:_(e)),o=[],s=0;while(i.length>s)!r(j,t=i[s++])||n&&!r(V,t)||o.push(j[t]);return o};z||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===V&&t.call(U,n),r(this,L)&&r(this[L],e)&&(this[L][e]=!1),q(this,e,E(1,n))};return o&&W&&q(V,e,{configurable:!0,set:t}),H(e)},a(A[R],"toString",function(){return this._k}),S.f=J,x.f=Y,n("9093").f=T.f=Z,n("52a7").f=Q,n("2621").f=ee,o&&!n("2d00")&&a(V,"propertyIsEnumerable",Q,!0),f.f=function(e){return H(p(e))}),s(s.G+s.W+s.F*!z,{Symbol:A});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var ie=k(p.store),re=0;ie.length>re;)v(ie[re++]);s(s.S+s.F*!z,"Symbol",{for:function(e){return r($,e+="")?$[e]:$[e]=A(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in $)if($[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),s(s.S+s.F*!z,"Object",{create:K,defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),O&&s(s.S+s.F*(!z||u(function(){var e=A();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){var t,n,i=[e],r=1;while(arguments.length>r)i.push(arguments[r++]);if(n=t=i[1],(b(t)||void 0!==e)&&!G(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),i[1]=t,D.apply(O,i)}}),A[R][M]||n("32e9")(A[R],M,A[R].valueOf),h(A,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},"8d6f":function(e,t,n){},"8df4":function(e,t,n){"use strict";var i=n("7a77");function r(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new i(e),t(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e,t=new r(function(t){e=t});return{token:t,cancel:e}},e.exports=r},"8f7c":function(e,t,n){"use strict";var i=n("0e88"),r=n.n(i);r.a},9093:function(e,t,n){var i=n("ce10"),r=n("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},"90d0":function(e,t,n){"use strict";var i=n("b036"),r=n.n(i);r.a},9411:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"column col-12 col-xs-12"},[n("ul",{staticClass:"menu"},[n("li",{staticClass:"menu-item"},[n("div",{staticClass:"tile tile-centered"},[n("div",{staticClass:"tile-icon"},[n("img",{staticClass:"avatar",attrs:{src:"https://pp.userapi.com/c844720/v844720479/18cfc1/jgp7X-WUzFk.jpg?ava=1",alt:"Avatar"}})]),n("div",{staticClass:"tile-content"},[e._v("Арсений Огузов")])]),n("div",{staticClass:"label label-primary mt-2"},[e._v("Разработчик и дизайнер")])])]),n("ul",{staticClass:"menu"},[n("li",{staticClass:"divider",attrs:{"data-content":"Ссылки"}}),n("li",{staticClass:"menu-item"},[n("a",{attrs:{href:"https://vk.com/psy667"}},[e._v("VK")])]),n("li",{staticClass:"menu-item"},[n("a",{attrs:{href:"https://t.me/psy667"}},[e._v("Telegram")])]),n("li",{staticClass:"menu-item"},[n("a",{attrs:{href:"https://github.com/psy667"}},[e._v("GitHub")])])])])])}],o={},s=o,a=n("2877"),l=Object(a["a"])(s,i,r,!1,null,null,null);t["default"]=l.exports},"95c6":function(e,t,n){"use strict";n.r(t);n("52fe"),n("a59c"),n("004a"),n("27a6"),n("34ae"),n("19c6"),n("ecbf"),n("3b1d"),n("3236")},9744:function(e,t,n){"use strict";var i=n("4588"),r=n("be13");e.exports=function(e){var t=String(r(this)),n="",o=i(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},"9ab4":function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return r}),n.d(t,"__assign",function(){return o}),n.d(t,"__rest",function(){return s}),n.d(t,"__decorate",function(){return a}),n.d(t,"__param",function(){return l}),n.d(t,"__metadata",function(){return u}),n.d(t,"__awaiter",function(){return c}),n.d(t,"__generator",function(){return h}),n.d(t,"__exportStar",function(){return d}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return f}),n.d(t,"__spread",function(){return v}),n.d(t,"__await",function(){return m}),n.d(t,"__asyncGenerator",function(){return g}),n.d(t,"__asyncDelegator",function(){return y}),n.d(t,"__asyncValues",function(){return b}),n.d(t,"__makeTemplateObject",function(){return _}),n.d(t,"__importStar",function(){return w}),n.d(t,"__importDefault",function(){return E});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};function s(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&(n[i[r]]=e[i[r]])}return n}function a(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function l(e,t){return function(n,i){t(n,i,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{l(i.next(e))}catch(t){o(t)}}function a(e){try{l(i["throw"](e))}catch(t){o(t)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})}function h(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(r=s.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(e){r[e]&&(i[e]=function(t){return new Promise(function(n,i){o.push([e,t,n,i])>1||a(e,t)})})}function a(e,t){try{l(r[e](t))}catch(n){h(o[0][3],n)}}function l(e){e.value instanceof m?Promise.resolve(e.value.v).then(u,c):h(o[0][2],e)}function u(e){a("next",e)}function c(e){a("throw",e)}function h(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function y(e){var t,n;return t={},i("next"),i("throw",function(e){throw e}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){e[i]&&(t[i]=function(t){return(n=!n)?{value:m(e[i](t)),done:"return"===i}:r?r(t):t})}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"===typeof p?p(e):e[Symbol.iterator]()}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}},"9b43":function(e,t,n){var i=n("d8e8");e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,n){var i=n("2b4c")("unscopables"),r=Array.prototype;void 0==r[i]&&n("32e9")(r,i,{}),e.exports=function(e){r[i][e]=!0}},"9def":function(e,t,n){var i=n("4588"),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},"9e1e":function(e,t,n){e.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"9fa6":function(e,t,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(){this.message="String contains an invalid character"}function o(e){for(var t,n,o=String(e),s="",a=0,l=i;o.charAt(0|a)||(l="=",a%1);s+=l.charAt(63&t>>8-a%1*8)){if(n=o.charCodeAt(a+=.75),n>255)throw new r;t=t<<8|n}return s}r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=o},a55b:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("h3",[e._v("Вход")]),n("button",{staticClass:"btn btn-lg",on:{click:e.login}},[n("svg",{attrs:{"aria-hidden":"true",width:"20",height:"20",viewBox:"0 0 20 20"}},[n("path",{attrs:{d:"M16.51 8H8.98v3h4.3c-.18 1-.74 1.48-1.6 2.04v2.01h2.6a7.8 7.8 0 0 0 2.38-5.88c0-.57-.05-.66-.15-1.18z",fill:"#4285F4"}}),n("path",{attrs:{d:"M8.98 17c2.16 0 3.97-.72 5.3-1.94l-2.6-2a4.8 4.8 0 0 1-7.18-2.54H1.83v2.07A8 8 0 0 0 8.98 17z",fill:"#34A853"}}),n("path",{attrs:{d:"M4.5 10.52a4.8 4.8 0 0 1 0-3.04V5.41H1.83a8 8 0 0 0 0 7.18l2.67-2.07z",fill:"#FBBC05"}}),n("path",{attrs:{d:"M8.98 4.18c1.17 0 2.23.4 3.06 1.2l2.3-2.3A8 8 0 0 0 1.83 5.4L4.5 7.49a4.77 4.77 0 0 1 4.48-3.3z",fill:"#EA4335"}})]),n("span",[e._v("Войти через Google")])]),n("div",{staticClass:"img"})])},r=[],o=n("59ca"),s=n.n(o);n("66ce"),n("ea7b");let a={apiKey:"AIzaSyA6hIR7mCJwccJ6ndZZluTxo4WQi5olfkw",authDomain:"schedule-480c2.firebaseapp.com",databaseURL:"https://schedule-480c2.firebaseio.com",projectId:"schedule-480c2",storageBucket:"schedule-480c2.appspot.com",messagingSenderId:"581207968061"};s.a.apps.length||s.a.initializeApp(a);var l={data(){return{}},methods:{login(){let e=this,t=new s.a.auth.GoogleAuthProvider;s.a.auth().signInWithPopup(t).then(function(t){t.credential.accessToken;var n=t.user;e.$store.commit("LOGIN",{uid:n.uid,name:n.displayName,photo:n.photoURL}),console.log(n),e.$router.push("account")}).catch(function(e){e.code,e.message,e.email,e.credential;console.log(e)})}}},u=l,c=(n("6191"),n("2877")),h=Object(c["a"])(u,i,r,!1,null,"5d2f894c",null);t["default"]=h.exports},a59c:function(e,t,n){"use strict";(function(e){var t=setTimeout;function n(){}function i(e,t){return function(){e.apply(t,arguments)}}function r(e){if(!(this instanceof r))throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function o(e,t){while(3===e._state)e=e._value;0!==e._state?(e._handled=!0,r._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(r){return void a(t.promise,r)}s(t.promise,i)}else(1===e._state?s:a)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if(t instanceof r)return e._state=3,e._value=t,void l(e);if("function"===typeof n)return void c(i(n,t),e)}e._state=1,e._value=t,l(e)}catch(o){a(e,o)}}function a(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&r._immediateFn(function(){e._handled||r._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,a(t,e))})}catch(i){if(n)return;n=!0,a(t,i)}}r.prototype["catch"]=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var i=new this.constructor(n);return o(this,new u(e,t,i)),i},r.prototype["finally"]=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},r.all=function(e){return new r(function(t,n){if(!e||"undefined"===typeof e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var r=i.length;function o(e,s){try{if(s&&("object"===typeof s||"function"===typeof s)){var a=s.then;if("function"===typeof a)return void a.call(s,function(t){o(e,t)},n)}i[e]=s,0===--r&&t(i)}catch(l){n(l)}}for(var s=0;s<i.length;s++)o(s,i[s])})},r.resolve=function(e){return e&&"object"===typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)})},r._immediateFn="function"===typeof setImmediate&&function(e){setImmediate(e)}||function(e){t(e,0)},r._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var h=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("unable to locate global object")}();h.Promise||(h.Promise=r)}).call(this,n("c8ba"))},a5e2:function(e,t,n){"use strict";var i=n("ecb4"),r=n.n(i);r.a},a640:function(e,t,n){},a7fe:function(e,t,n){"use strict";var i,r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function n(e,t){if(!n.installed){if(n.installed=!0,!t)return void console.error("You have to install axios");e.axios=t,Object.defineProperties(e.prototype,{axios:{get:function(){return t}},$http:{get:function(){return t}}})}}"object"==o(t)?e.exports=n:(i=[],r=function(){return n}.apply(t,i),void 0===r||(e.exports=r))}()},a888:function(e,t,n){"use strict";var i=n("a947"),r=n.n(i);r.a},a947:function(e,t,n){},a9e0:function(e,t,n){},aae3:function(e,t,n){var i=n("d3f4"),r=n("2d95"),o=n("2b4c")("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},abfd:function(e,t,n){"use strict";n.r(t),n.d(t,"setLogLevel",function(){return l}),n.d(t,"Logger",function(){return a}),n.d(t,"LogLevel",function(){return i});var i,r=[];(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(i||(i={}));var o=i.INFO,s=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case i.DEBUG:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},a=function(){function e(e){this.name=e,this._logLevel=o,this._logHandler=s,r.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.ERROR].concat(e))},e}();function l(e){r.forEach(function(t){t.logLevel=e})}},ac4d:function(e,t,n){n("3a72")("asyncIterator")},ac6a:function(e,t,n){for(var i=n("cadf"),r=n("0d58"),o=n("2aba"),s=n("7726"),a=n("32e9"),l=n("84f2"),u=n("2b4c"),c=u("iterator"),h=u("toStringTag"),d=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(p),v=0;v<f.length;v++){var m,g=f[v],y=p[g],b=s[g],_=b&&b.prototype;if(_&&(_[c]||a(_,c,d),_[h]||a(_,h,g),l[g]=d,y))for(m in i)_[m]||o(_,m,i[m],!0)}},b036:function(e,t,n){},b50d:function(e,t,n){"use strict";var i=n("c532"),r=n("467f"),o=n("30b5"),s=n("c345"),a=n("3934"),l=n("2d83"),u="undefined"!==typeof window&&window.btoa&&window.btoa.bind(window)||n("9fa6");e.exports=function(e){return new Promise(function(t,c){var h=e.data,d=e.headers;i.isFormData(h)&&delete d["Content-Type"];var p=new XMLHttpRequest,f="onreadystatechange",v=!1;if("undefined"===typeof window||!window.XDomainRequest||"withCredentials"in p||a(e.url)||(p=new window.XDomainRequest,f="onload",v=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var m=e.auth.username||"",g=e.auth.password||"";d.Authorization="Basic "+u(m+":"+g)}if(p.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[f]=function(){if(p&&(4===p.readyState||v)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,i=e.responseType&&"text"!==e.responseType?p.response:p.responseText,o={data:i,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};r(t,c,o),p=null}},p.onerror=function(){c(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){c(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var y=n("7aac"),b=(e.withCredentials||a(e.url))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}if("setRequestHeader"in p&&i.forEach(d,function(e,t){"undefined"===typeof h&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(_){if("json"!==e.responseType)throw _}"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),c(e),p=null)}),void 0===h&&(h=null),p.send(h)})}},b717:function(e,t,n){},b7aa:function(e,t,n){"use strict";(function(e){var t=n("c23d"),i=n.n(t);(function(){var e,t=t||{},n=this;function r(e){return"string"==typeof e}function o(e){return"boolean"==typeof e}function s(){}function a(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function l(e){return null===e}function u(e){return"array"==a(e)}function c(e){var t=a(e);return"array"==t||"object"==t&&"number"==typeof e.length}function h(e){return"function"==a(e)}function d(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var p="closure_uid_"+(1e9*Math.random()>>>0),f=0;function v(e,t,n){return e.call.apply(e.bind,arguments)}function m(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function g(e,t,n){return g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:m,g.apply(null,arguments)}function y(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var b=Date.now||function(){return+new Date};function _(e,t){function n(){}n.prototype=t.prototype,e.ob=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ed=function(e,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t.prototype[n].apply(e,r)}}function w(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0}function E(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function C(e){if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function T(e,t){e=e.split("%s");for(var n="",i=e.length-1,r=0;r<i;r++)n+=e[r]+(r<t.length?t[r]:"%s");C.call(this,n+e[i])}function S(e,t){throw new T("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function x(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function k(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function I(){this.b=this.a=null}_(C,Error),C.prototype.name="CustomError",_(T,C),T.prototype.name="AssertionError",x.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var P=new x(function(){return new A},function(e){e.reset()});function N(){var e=ge,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function A(){this.next=this.b=this.a=null}I.prototype.add=function(e,t){var n=P.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},A.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},A.prototype.reset=function(){this.next=this.b=this.a=null};var O=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(r(e))return r(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},D=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=r(e)?e.split(""):e,s=0;s<i;s++)s in o&&t.call(n,o[s],s,e)};function R(e,t){var n=e.length,i=r(e)?e.split(""):e;for(--n;0<=n;--n)n in i&&t.call(void 0,i[n],n,e)}var L=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=Array(n),o=r(e)?e.split(""):e,s=0;s<n;s++)s in o&&(i[s]=t.call(void 0,o[s],s,e));return i},M=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=r(e)?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e))return!0;return!1};function F(e){e:{for(var t=ds,n=e.length,i=r(e)?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break e}t=-1}return 0>t?null:r(e)?e.charAt(t):e[t]}function $(e,t){return 0<=O(e,t)}function j(e,t){var n;return t=O(e,t),(n=0<=t)&&Array.prototype.splice.call(e,t,1),n}function U(e,t){R(e,function(n,i){t.call(void 0,n,i,e)&&1==Array.prototype.splice.call(e,i,1).length&&0})}function V(e){return Array.prototype.concat.apply([],arguments)}function z(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function B(e,t){for(var n=e.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}var W=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function q(e){return Z.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(G,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(Y,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(X,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(K,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(Q,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(J,"&#0;")),e):e}var H,G=/&/g,Y=/</g,X=/>/g,K=/"/g,Q=/'/g,J=/\x00/g,Z=/[\x00&<>"']/;function ee(e,t){return-1!=e.indexOf(t)}function te(e,t){return e<t?-1:e>t?1:0}e:{var ne=n.navigator;if(ne){var ie=ne.userAgent;if(ie){H=ie;break e}}H=""}function re(e){return ee(H,e)}function oe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function se(e){for(var t in e)return!1;return!0}function ae(e){var t,n={};for(t in e)n[t]=e[t];return n}var le,ue,ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(e,t){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r],i)e[n]=i[n];for(var o=0;o<ce.length;o++)n=ce[o],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function de(e){n.setTimeout(function(){throw e},0)}function pe(){var e=n.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!re("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;e=t.document,e.open(),e.write(""),e.close();var n="callImmediate"+Math.random(),i="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=g(function(e){"*"!=i&&e.origin!=i||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,i)}}}),"undefined"!==typeof e&&!re("Trident")&&!re("MSIE")){var t=new e,i={},r=i;return t.port1.onmessage=function(){if(void 0!==i.next){i=i.next;var e=i.wb;i.wb=null,e()}},function(e){r.next={wb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){n.setTimeout(e,0)}}function fe(e,t){ue||ve(),me||(ue(),me=!0),ge.add(e,t)}function ve(){if(n.Promise&&n.Promise.resolve){var e=n.Promise.resolve(void 0);ue=function(){e.then(ye)}}else ue=function(){var e=ye;!h(n.setImmediate)||n.Window&&n.Window.prototype&&!re("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(le||(le=pe()),le(e)):n.setImmediate(e)}}var me=!1,ge=new I;function ye(){for(var e;e=N();){try{e.a.call(e.b)}catch(t){de(t)}k(P,e)}me=!1}function be(e,t){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=s)try{var n=this;e.call(t,function(e){Re(n,we,e)},function(e){if(!(e instanceof Be))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Re(n,Ee,e)})}catch(i){Re(this,Ee,i)}}var _e=0,we=2,Ee=3;function Ce(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ce.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Te=new x(function(){return new Ce},function(e){e.reset()});function Se(e,t,n){var i=Te.get();return i.g=e,i.b=t,i.f=n,i}function xe(e){if(e instanceof be)return e;var t=new be(s);return Re(t,we,e),t}function ke(e){return new be(function(t,n){n(e)})}function Ie(e,t,n){Le(e,t,n,null)||fe(y(t,e))}function Pe(e){return new be(function(t,n){var i=e.length,r=[];if(i)for(var o,s=function(e,n){i--,r[e]=n,0==i&&t(r)},a=function(e){n(e)},l=0;l<e.length;l++)o=e[l],Ie(o,y(s,l),a);else t(r)})}function Ne(e){return new be(function(t){var n=e.length,i=[];if(n)for(var r,o=function(e,r,o){n--,i[e]=r?{Db:!0,value:o}:{Db:!1,reason:o},0==n&&t(i)},s=0;s<e.length;s++)r=e[s],Ie(r,y(o,s,!0),y(o,s,!1));else t(i)})}function Ae(e,t){if(e.a==_e)if(e.c){var n=e.c;if(n.b){for(var i=0,r=null,o=null,s=n.b;s&&(s.c||(i++,s.a==e&&(r=s),!(r&&1<i)));s=s.next)r||(o=s);r&&(n.a==_e&&1==i?Ae(n,t):(o?(i=o,i.next==n.f&&(n.f=i),i.next=i.next.next):$e(n),je(n,r,Ee,t)))}e.c=null}else Re(e,Ee,t)}function Oe(e,t){e.b||e.a!=we&&e.a!=Ee||Fe(e),e.f?e.f.next=t:e.b=t,e.f=t}function De(e,t,n,i){var r=Se(null,null,null);return r.a=new be(function(e,o){r.g=t?function(n){try{var r=t.call(i,n);e(r)}catch(s){o(s)}}:e,r.b=n?function(t){try{var r=n.call(i,t);void 0===r&&t instanceof Be?o(t):e(r)}catch(s){o(s)}}:o}),r.a.c=e,Oe(e,r),r.a}function Re(e,t,n){e.a==_e&&(e===n&&(t=Ee,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Le(n,e.Nc,e.Oc,e)||(e.i=n,e.a=t,e.c=null,Fe(e),t!=Ee||n instanceof Be||Ve(e,n)))}function Le(e,t,n,i){if(e instanceof be)return Oe(e,Se(t||s,n||null,i)),!0;if(E(e))return e.then(t,n,i),!0;if(d(e))try{var r=e.then;if(h(r))return Me(e,r,t,n,i),!0}catch(o){return n.call(i,o),!0}return!1}function Me(e,t,n,i,r){function o(e){a||(a=!0,i.call(r,e))}function s(e){a||(a=!0,n.call(r,e))}var a=!1;try{t.call(e,s,o)}catch(l){o(l)}}function Fe(e){e.h||(e.h=!0,fe(e.Yb,e))}function $e(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function je(e,t,n,i){if(n==Ee&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Ue(t,n,i);else try{t.c?t.g.call(t.f):Ue(t,n,i)}catch(r){ze.call(null,r)}k(Te,t)}function Ue(e,t,n){t==we?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}function Ve(e,t){e.g=!0,fe(function(){e.g&&ze.call(null,t)})}be.prototype.then=function(e,t,n){return De(this,h(e)?e:null,h(t)?t:null,n)},w(be),e=be.prototype,e.ia=function(e,t){return e=Se(e,e,t),e.c=!0,Oe(this,e),this},e.s=function(e,t){return De(this,null,e,t)},e.cancel=function(e){this.a==_e&&fe(function(){var t=new Be(e);Ae(this,t)},this)},e.Nc=function(e){this.a=_e,Re(this,we,e)},e.Oc=function(e){this.a=_e,Re(this,Ee,e)},e.Yb=function(){for(var e;e=$e(this);)je(this,e,this.a,this.i);this.h=!1};var ze=de;function Be(e){C.call(this,e)}function We(){0!=qe&&(He[this[p]||(this[p]=++f)]=this),this.qa=this.qa,this.ja=this.ja}_(Be,C),Be.prototype.name="cancel";var qe=0,He={};function Ge(e){if(!e.qa&&(e.qa=!0,e.va(),0!=qe)){var t=e[p]||(e[p]=++f);if(0!=qe&&e.ja&&0<e.ja.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[t]}}function Ye(e){return Ye[" "](e),e}function Xe(e,t){var n=lt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}We.prototype.qa=!1,We.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},Ye[" "]=s;var Ke,Qe=re("Opera"),Je=re("Trident")||re("MSIE"),Ze=re("Edge"),et=Ze||Je,tt=re("Gecko")&&!(ee(H.toLowerCase(),"webkit")&&!re("Edge"))&&!(re("Trident")||re("MSIE"))&&!re("Edge"),nt=ee(H.toLowerCase(),"webkit")&&!re("Edge");function it(){var e=n.document;return e?e.documentMode:void 0}e:{var rt="",ot=function(){var e=H;return tt?/rv:([^\);]+)(\)|;)/.exec(e):Ze?/Edge\/([\d\.]+)/.exec(e):Je?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):nt?/WebKit\/(\S+)/.exec(e):Qe?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ot&&(rt=ot?ot[1]:""),Je){var st=it();if(null!=st&&st>parseFloat(rt)){Ke=String(st);break e}}Ke=rt}var at,lt={};function ut(e){return Xe(e,function(){for(var t=0,n=W(String(Ke)).split("."),i=W(String(e)).split("."),r=Math.max(n.length,i.length),o=0;0==t&&o<r;o++){var s=n[o]||"",a=i[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=te(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||te(0==s[2].length,0==a[2].length)||te(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t})}var ct=n.document;at=ct&&Je?it()||("CSS1Compat"==ct.compatMode?parseInt(Ke,10):5):void 0;var ht=Object.freeze||function(e){return e},dt=!Je||9<=Number(at),pt=Je&&!ut("9"),ft=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return n.addEventListener("test",s,t),n.removeEventListener("test",s,t),e}();function vt(e,t){this.type=e,this.b=this.target=t,this.Kb=!0}function mt(e,t){if(vt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,i=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(tt){e:{try{Ye(t.nodeName);var o=!0;break e}catch(s){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,null===i?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=r(e.pointerType)?e.pointerType:gt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}vt.prototype.preventDefault=function(){this.Kb=!1},_(mt,vt);var gt=ht({2:"touch",3:"pen",4:"mouse"});mt.prototype.preventDefault=function(){mt.ob.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,pt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},mt.prototype.f=function(){return this.a};var yt="closure_listenable_"+(1e6*Math.random()|0),bt=0;function _t(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.La=r,this.key=++bt,this.oa=this.Ia=!1}function wt(e){e.oa=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function Et(e){this.src=e,this.a={},this.b=0}function Ct(e,t){var n=t.type;n in e.a&&j(e.a[n],t)&&(wt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function Tt(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r];if(!o.oa&&o.listener==t&&o.capture==!!n&&o.La==i)return r}return-1}Et.prototype.add=function(e,t,n,i,r){var o=e.toString();e=this.a[o],e||(e=this.a[o]=[],this.b++);var s=Tt(e,t,i,r);return-1<s?(t=e[s],n||(t.Ia=!1)):(t=new _t(t,this.src,o,!!i,r),t.Ia=n,e.push(t)),t};var St="closure_lm_"+(1e6*Math.random()|0),xt={};function kt(e,t,n,i,r){if(i&&i.once)Nt(e,t,n,i,r);else if(u(t))for(var o=0;o<t.length;o++)kt(e,t[o],n,i,r);else n=jt(n),e&&e[yt]?Vt(e,t,n,d(i)?!!i.capture:!!i,r):It(e,t,n,!1,i,r)}function It(e,t,n,i,r,o){if(!t)throw Error("Invalid event type");var s=d(r)?!!r.capture:!!r,a=Ft(e);if(a||(e[St]=a=new Et(e)),n=a.add(t,n,i,s,o),!n.proxy){if(i=Pt(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)ft||(r=s),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(Dt(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}0}}function Pt(){var e=Mt,t=dt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function Nt(e,t,n,i,r){if(u(t))for(var o=0;o<t.length;o++)Nt(e,t[o],n,i,r);else n=jt(n),e&&e[yt]?zt(e,t,n,d(i)?!!i.capture:!!i,r):It(e,t,n,!0,i,r)}function At(e,t,n,i,r){if(u(t))for(var o=0;o<t.length;o++)At(e,t[o],n,i,r);else i=d(i)?!!i.capture:!!i,n=jt(n),e&&e[yt]?(e=e.l,t=String(t).toString(),t in e.a&&(o=e.a[t],n=Tt(o,n,i,r),-1<n&&(wt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=Ft(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Tt(t,n,i,r)),(n=-1<e?t[e]:null)&&Ot(n))}function Ot(e){if("number"!=typeof e&&e&&!e.oa){var t=e.src;if(t&&t[yt])Ct(t.l,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(Dt(n),i):t.addListener&&t.removeListener&&t.removeListener(i),0,(n=Ft(t))?(Ct(n,e),0==n.b&&(n.src=null,t[St]=null)):wt(e)}}}function Dt(e){return e in xt?xt[e]:xt[e]="on"+e}function Rt(e,t,n,i){var r=!0;if((e=Ft(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.oa&&(o=Lt(o,i),r=r&&!1!==o)}return r}function Lt(e,t){var n=e.listener,i=e.La||e.src;return e.Ia&&Ot(e),n.call(i,t)}function Mt(e,t){if(e.oa)return!0;if(!dt){if(!t)e:{t=["window","event"];for(var i=n,r=0;r<t.length;r++)if(i=i[t[r]],null==i){t=null;break e}t=i}if(r=t,t=new mt(r,this),i=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=t.b;o;o=o.parentNode)r.push(o);for(e=e.type,o=r.length-1;0<=o;o--){t.b=r[o];var s=Rt(r[o],e,!0,t);i=i&&s}for(o=0;o<r.length;o++)t.b=r[o],s=Rt(r[o],e,!1,t),i=i&&s}return i}return Lt(e,new mt(t,this))}function Ft(e){return e=e[St],e instanceof Et?e:null}var $t="__closure_events_fn_"+(1e9*Math.random()>>>0);function jt(e){return h(e)?e:(e[$t]||(e[$t]=function(t){return e.handleEvent(t)}),e[$t])}function Ut(){We.call(this),this.l=new Et(this),this.Rb=this,this.Va=null}function Vt(e,t,n,i,r){e.l.add(String(t),n,!1,i,r)}function zt(e,t,n,i,r){e.l.add(String(t),n,!0,i,r)}function Bt(e,t,n,i){if(t=e.l.a[String(t)],!t)return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.oa&&s.capture==n){var a=s.listener,l=s.La||s.src;s.Ia&&Ct(e.l,s),r=!1!==a.call(l,i)&&r}}return r&&0!=i.Kb}function Wt(e,t,i){if(h(e))i&&(e=g(e,i));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=g(e.handleEvent,e)}return 2147483647<Number(t)?-1:n.setTimeout(e,t||0)}function qt(e){var t=null;return new be(function(n,i){t=Wt(function(){n(void 0)},e),-1==t&&i(Error("Failed to schedule timer."))}).s(function(e){throw n.clearTimeout(t),e})}function Ht(e){if(e.S&&"function"==typeof e.S)return e.S();if(r(e))return e.split("");if(c(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}function Gt(e){if(e.U&&"function"==typeof e.U)return e.U();if(!e.S||"function"!=typeof e.S){if(c(e)||r(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var i in t=[],n=0,e)t[n++]=i;return t}}function Yt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(c(e)||r(e))D(e,t,void 0);else for(var n=Gt(e),i=Ht(e),o=i.length,s=0;s<o;s++)t.call(void 0,i[s],n&&n[s],e)}function Xt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof Xt)for(n=e.U(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function Kt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var i=e.a[t];Qt(e.b,i)&&(e.a[n++]=i),t++}e.a.length=n}if(e.c!=e.a.length){var r={};for(n=t=0;t<e.a.length;)i=e.a[t],Qt(r,i)||(e.a[n++]=i,r[i]=1),t++;e.a.length=n}}function Qt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}_(Ut,We),Ut.prototype[yt]=!0,Ut.prototype.addEventListener=function(e,t,n,i){kt(this,e,t,n,i)},Ut.prototype.removeEventListener=function(e,t,n,i){At(this,e,t,n,i)},Ut.prototype.dispatchEvent=function(e){var t,n=this.Va;if(n)for(t=[];n;n=n.Va)t.push(n);n=this.Rb;var i=e.type||e;if(r(e))e=new vt(e,n);else if(e instanceof vt)e.target=e.target||n;else{var o=e;e=new vt(i,n),he(e,o)}if(o=!0,t)for(var s=t.length-1;0<=s;s--){var a=e.b=t[s];o=Bt(a,i,!0,e)&&o}if(a=e.b=n,o=Bt(a,i,!0,e)&&o,o=Bt(a,i,!1,e)&&o,t)for(s=0;s<t.length;s++)a=e.b=t[s],o=Bt(a,i,!1,e)&&o;return o},Ut.prototype.va=function(){if(Ut.ob.va.call(this),this.l){var e,t=this.l;for(e in t.a){for(var n=t.a[e],i=0;i<n.length;i++)0,wt(n[i]);delete t.a[e],t.b--}}this.Va=null},e=Xt.prototype,e.S=function(){Kt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.U=function(){return Kt(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Qt(this.b,e)?this.b[e]:t},e.set=function(e,t){Qt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.U(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);e.call(t,o,r,this)}};var Jt=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zt(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var o=e[n].substring(0,i);r=e[n].substring(i+1)}else o=e[n];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function en(e,t){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,e instanceof en){this.f=void 0!==t?t:e.f,tn(this,e.c),this.l=e.l,this.b=e.b,nn(this,e.i),this.g=e.g,t=e.a;var n=new gn;n.c=t.c,t.a&&(n.a=new Xt(t.a),n.b=t.b),rn(this,n),this.h=e.h}else e&&(n=String(e).match(Jt))?(this.f=!!t,tn(this,n[1]||"",!0),this.l=un(n[2]||""),this.b=un(n[3]||"",!0),nn(this,n[4]),this.g=un(n[5]||"",!0),rn(this,n[6]||"",!0),this.h=un(n[7]||"")):(this.f=!!t,this.a=new gn(null,this.f))}function tn(e,t,n){e.c=n?un(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function nn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function rn(e,t,n){t instanceof gn?(e.a=t,Tn(e.a,e.f)):(n||(t=cn(t,vn)),e.a=new gn(t,e.f))}function on(e,t,n){e.a.set(t,n)}function sn(e,t){return e.a.get(t)}function an(e){return e instanceof en?new en(e):new en(e,void 0)}function ln(e,t){var n=new en(null,void 0);return tn(n,"https"),e&&(n.b=e),t&&(n.g=t),n}function un(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function cn(e,t,n){return r(e)?(e=encodeURI(e).replace(t,hn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function hn(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}en.prototype.toString=function(){var e=[],t=this.c;t&&e.push(cn(t,dn,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(cn(t,dn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.i,null!=n&&e.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(cn(n,"/"==n.charAt(0)?fn:pn,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.h)&&e.push("#",cn(n,mn)),e.join("")};var dn=/[#\/\?@]/g,pn=/[#\?:]/g,fn=/[#\?]/g,vn=/[#\?@]/g,mn=/#/g;function gn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function yn(e){e.a||(e.a=new Xt,e.b=0,e.c&&Zt(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function bn(e){var t=Gt(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new gn(null,void 0);e=Ht(e);for(var i=0;i<t.length;i++){var r=t[i],o=e[i];u(o)?En(n,r,o):n.add(r,o)}return n}function _n(e,t){yn(e),t=Cn(e,t),Qt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,Qt(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Kt(e)))}function wn(e,t){return yn(e),t=Cn(e,t),Qt(e.a.b,t)}function En(e,t,n){_n(e,t),0<n.length&&(e.c=null,e.a.set(Cn(e,t),z(n)),e.b+=n.length)}function Cn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function Tn(e,t){t&&!e.f&&(yn(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(_n(this,t),En(this,n,e))},e)),e.f=t}e=gn.prototype,e.add=function(e,t){yn(this),this.c=null,e=Cn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){yn(this),this.a.forEach(function(n,i){D(n,function(n){e.call(t,n,i,this)},this)},this)},e.U=function(){yn(this);for(var e=this.a.S(),t=this.a.U(),n=[],i=0;i<t.length;i++)for(var r=e[i],o=0;o<r.length;o++)n.push(t[i]);return n},e.S=function(e){yn(this);var t=[];if(r(e))wn(this,e)&&(t=V(t,this.a.get(Cn(this,e))));else{e=this.a.S();for(var n=0;n<e.length;n++)t=V(t,e[n])}return t},e.set=function(e,t){return yn(this),this.c=null,e=Cn(this,e),wn(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e=e?this.S(e):[],0<e.length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.U(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.S(i);for(var o=0;o<i.length;o++){var s=r;""!==i[o]&&(s+="="+encodeURIComponent(String(i[o]))),e.push(s)}}return this.c=e.join("&")};var Sn=!Je||9<=Number(at);function xn(){this.a="",this.b=In}function kn(e){return e instanceof xn&&e.constructor===xn&&e.b===In?e.a:(S("expected object of type Const, got '"+e+"'"),"type_error:Const")}xn.prototype.na=!0,xn.prototype.ma=function(){return this.a},xn.prototype.toString=function(){return"Const{"+this.a+"}"};var In={};function Pn(e){var t=new xn;return t.a=e,t}function Nn(){this.a="",this.b=Ln}function An(e){return e instanceof Nn&&e.constructor===Nn&&e.b===Ln?e.a:(S("expected object of type TrustedResourceUrl, got '"+e+"' of type "+a(e)),"type_error:TrustedResourceUrl")}function On(e,t){var n=kn(e);if(!Rn.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(Dn,function(e,i){if(!Object.prototype.hasOwnProperty.call(t,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return e=t[i],e instanceof xn?kn(e):encodeURIComponent(String(e))}),Mn(e)}Pn(""),Nn.prototype.na=!0,Nn.prototype.ma=function(){return this.a},Nn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Dn=/%{(\w+)}/g,Rn=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,Ln={};function Mn(e){var t=new Nn;return t.a=e,t}function Fn(){this.a="",this.b=Vn}function $n(e){return e instanceof Fn&&e.constructor===Fn&&e.b===Vn?e.a:(S("expected object of type SafeUrl, got '"+e+"' of type "+a(e)),"type_error:SafeUrl")}Fn.prototype.na=!0,Fn.prototype.ma=function(){return this.a},Fn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var jn=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function Un(e){return e instanceof Fn?e:(e=e.na?e.ma():String(e),jn.test(e)||(e="about:invalid#zClosurez"),zn(e))}var Vn={};function zn(e){var t=new Fn;return t.a=e,t}function Bn(){this.a="",this.b=qn}function Wn(e){return e instanceof Bn&&e.constructor===Bn&&e.b===qn?e.a:(S("expected object of type SafeHtml, got '"+e+"' of type "+a(e)),"type_error:SafeHtml")}zn("about:blank"),Bn.prototype.na=!0,Bn.prototype.ma=function(){return this.a},Bn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qn={};function Hn(e){var t=new Bn;return t.a=e,t}function Gn(e){var t=document;return r(e)?t.getElementById(e):e}function Yn(e,t){oe(t,function(t,n){t&&t.na&&(t=t.ma()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Xn.hasOwnProperty(n)?e.setAttribute(Xn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}Hn("<!DOCTYPE html>"),Hn(""),Hn("<br>");var Xn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Kn(e,t,n){var i=arguments,o=document,s=String(i[0]),a=i[1];if(!Sn&&a&&(a.name||a.type)){if(s=["<",s],a.name&&s.push(' name="',q(a.name),'"'),a.type){s.push(' type="',q(a.type),'"');var l={};he(l,a),delete l.type,a=l}s.push(">"),s=s.join("")}return s=o.createElement(s),a&&(r(a)?s.className=a:u(a)?s.className=a.join(" "):Yn(s,a)),2<i.length&&Qn(o,s,i),s}function Qn(e,t,n){function i(n){n&&t.appendChild(r(n)?e.createTextNode(n):n)}for(var o=2;o<n.length;o++){var s=n[o];!c(s)||d(s)&&0<s.nodeType?i(s):D(Jn(s)?z(s):s,i)}}function Jn(e){if(e&&"number"==typeof e.length){if(d(e))return"function"==typeof e.item||"string"==typeof e.item;if(h(e))return"function"==typeof e.item}return!1}function Zn(e){var t=[];return ti(new ei,e,t),t.join("")}function ei(){}function ti(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(u(t)){var i=t;t=i.length,n.push("[");for(var r="",o=0;o<t;o++)n.push(r),ti(e,i[o],n),r=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(i in n.push("{"),r="",t)Object.prototype.hasOwnProperty.call(t,i)&&(o=t[i],"function"!=typeof o&&(n.push(r),ri(i,n),n.push(":"),ti(e,o,n),r=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":ri(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}var ni={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ii=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ri(e,t){t.push('"',e.replace(ii,function(e){var t=ni[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ni[e]=t),t}),'"')}function oi(){var e=Pi();return Je&&!!at&&11==at||/Edge\/\d+/.test(e)}function si(){return n.window&&n.window.location.href||self&&self.location&&self.location.href||""}function ai(e,t){t=t||n.window;var i="about:blank";e&&(i=$n(Un(e))),t.location.href=i}function li(e,t){var n,i=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?i.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<li(e[n],t[n]).length&&i.push(n):e[n]!==t[n]&&i.push(n):i.push(n);for(n in t)n in e||i.push(n);return i}function ui(){var e=Pi();return e=xi(e)!=Si?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null,!(e&&30>e)&&(!Je||!at||9<at)}function ci(e){return e=(e||Pi()).toLowerCase(),!!(e.match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function hi(e){e=e||n.window;try{e.close()}catch(t){}}function di(e,t,n){var i=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(s in t={width:t,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Pi().toLowerCase(),i&&(t.target=i,ee(n,"crios/")&&(t.target="_blank")),xi(Pi())==Ti&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),i=window,t=n instanceof Fn?n:Un("undefined"!=typeof n.href?n.href:String(n)),n=e.target||n.target,r=[],e)switch(s){case"width":case"height":case"top":case"left":r.push(s+"="+e[s]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(s+"="+(e[s]?1:0))}var s=r.join(",");if((re("iPhone")&&!re("iPod")&&!re("iPad")||re("iPad")||re("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(s=i.document.createElement("A"),t instanceof Fn||t instanceof Fn||(t=t.na?t.ma():String(t),jn.test(t)||(t="about:invalid#zClosurez"),t=zn(t)),s.href=$n(t),s.setAttribute("target",n),e.noreferrer&&s.setAttribute("rel","noreferrer"),e=document.createEvent("MouseEvent"),e.initMouseEvent("click",!0,!0,i,1),s.dispatchEvent(e),s={}):e.noreferrer?(s=i.open("",n,s),e=$n(t),s&&(et&&ee(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),s.opener=null,Pn("b/12014412, meta tag with sanitized URL"),e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+q(e)+'">',e=Hn(e),s.document.write(Wn(e)),s.document.close())):(s=i.open($n(t),n,s))&&e.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}function pi(e){return new be(function(t){function n(){qt(2e3).then(function(){if(e&&!e.closed)return n();t()})}return n()})}var fi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vi=/^[^@]+@[^@]+$/;function mi(){var e=null;return new be(function(t){"complete"==n.document.readyState?t():(e=function(){t()},Nt(window,"load",e))}).s(function(t){throw At(window,"load",e),t})}function gi(){return yi(void 0)?mi().then(function(){return new be(function(e,t){var i=n.document,r=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);i.addEventListener("deviceready",function(){clearTimeout(r),e()},!1)})}):ke(Error("Cordova must run in an Android or iOS file scheme."))}function yi(e){return e=e||Pi(),!("file:"!==Ri()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function bi(){var e=n.window;try{return!(!e||e==e.top)}catch(t){return!1}}function _i(){return"object"!==typeof n.window&&"function"===typeof n.importScripts}function wi(){return i.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":i.a.INTERNAL.hasOwnProperty("node")?"Node":_i()?"Worker":"Browser"}function Ei(){var e=wi();return"ReactNative"===e||"Node"===e}function Ci(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}var Ti="Firefox",Si="Chrome";function xi(e){var t=e.toLowerCase();return ee(t,"opera/")||ee(t,"opr/")||ee(t,"opios/")?"Opera":ee(t,"iemobile")?"IEMobile":ee(t,"msie")||ee(t,"trident/")?"IE":ee(t,"edge/")?"Edge":ee(t,"firefox/")?Ti:ee(t,"silk/")?"Silk":ee(t,"blackberry")?"Blackberry":ee(t,"webos")?"Webos":!ee(t,"safari/")||ee(t,"chrome/")||ee(t,"crios/")||ee(t,"android")?!ee(t,"chrome/")&&!ee(t,"crios/")||ee(t,"edge/")?ee(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Si:"Safari"}var ki={Uc:"FirebaseCore-web",Wc:"FirebaseUI-web"};function Ii(e,t){t=t||[];var n,i=[],r={};for(n in ki)r[ki[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof r[t[n]]&&(delete r[t[n]],i.push(t[n]));return i.sort(),t=i,t.length||(t=["FirebaseCore-web"]),i=wi(),"Browser"===i?(r=Pi(),i=xi(r)):"Worker"===i&&(r=Pi(),i=xi(r)+"-"+i),i+"/JsCore/"+e+"/"+t.join(",")}function Pi(){return n.navigator&&n.navigator.userAgent||""}function Ni(e,t){e=e.split("."),t=t||n;for(var i=0;i<e.length&&"object"==typeof t&&null!=t;i++)t=t[e[i]];return i!=e.length&&(t=void 0),t}function Ai(){try{var e=n.localStorage,t=ji();if(e)return e.setItem(t,"1"),e.removeItem(t),!oi()||!!n.indexedDB}catch(i){return _i()&&!!n.indexedDB}return!1}function Oi(){return(Di()||"chrome-extension:"===Ri()||yi())&&!Ei()&&Ai()&&!_i()}function Di(){return"http:"===Ri()||"https:"===Ri()}function Ri(){return n.location&&n.location.protocol||null}function Li(e){return e=e||Pi(),!ci(e)&&xi(e)!=Ti}function Mi(e){return"undefined"===typeof e?null:Zn(e)}function Fi(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function $i(e){if(null!==e)return JSON.parse(e)}function ji(e){return e||Math.floor(1e9*Math.random()).toString()}function Ui(e){return e=e||Pi(),"Safari"!=xi(e)&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Vi(){var e=n.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}function zi(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Pi(),t=wi(),this.b=ci(e)||"ReactNative"===t}function Bi(){var e=n.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Wi(){var e=n.document,t=null;return Bi()||!e?xe():new be(function(n){t=function(){Bi()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).s(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})}function qi(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Hi(){return!(!Ni("fireauth.oauthhelper",n)&&!Ni("fireauth.iframe",n))}function Gi(){var e=n.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}function Yi(){var e=n.navigator;return e&&e.serviceWorker?xe().then(function(){return e.serviceWorker.ready}).then(function(e){return e.active||null}).s(function(){return null}):xe(null)}zi.prototype.get=function(){var e=n.navigator;return!e||"boolean"!==typeof e.onLine||!Di()&&"chrome-extension:"!==Ri()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Xi,Ki={};function Qi(e){Ki[e]||(Ki[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Ji={};Object.defineProperty(Ji,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ji,"abcd",{configurable:!0,enumerable:!0,value:2}),Xi=2==Ji.abcd}catch(_d){Xi=!1}function Zi(e,t,n){Xi?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function er(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Zi(e,n,t[n])}function tr(e){var t={};return er(t,e),t}function nr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function ir(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var i=e[t[n]];if(void 0===i||null===i||""===i)return!1}return!0}function rr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Zi(t,n,rr(e[n]));return t}function or(e){var t={},n=e[ar],i=e[lr];if(e=e[ur],!e||e!=sr&&!n)throw Error("Invalid provider user info!");t[hr]=i||null,t[cr]=n||null,Zi(this,pr,e),Zi(this,dr,rr(t))}var sr="EMAIL_SIGNIN",ar="email",lr="newEmail",ur="requestType",cr="email",hr="fromEmail",dr="data",pr="operation";function fr(e,t){this.code=mr+e,this.message=t||gr[e]||""}function vr(e){var t=e&&e.code;return t?new fr(t.substring(mr.length),e.message):null}_(fr,Error),fr.prototype.C=function(){return{code:this.code,message:this.message}},fr.prototype.toJSON=function(){return this.C()};var mr="auth/",gr={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function yr(e){var t=e[Cr];if("undefined"===typeof t)throw new fr("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new fr("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[br];if(n&&"object"===typeof n){t=n[xr];var i=n[Tr];if(n=n[Sr],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof i&&"boolean"!==typeof i)throw new fr("argument-error",Tr+" property must be a boolean when specified.");if(this.g=!!i,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new fr("argument-error",Sr+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new fr("argument-error",xr+" property must be a non empty string when specified.");if("undefined"!==typeof i||"undefined"!==typeof n)throw new fr("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new fr("argument-error",br+" property must be a non null object when specified.");if(this.f=null,(t=e[Er])&&"object"===typeof t){if(t=t[kr],"string"===typeof t&&t.length)this.f=t;else if("undefined"!==typeof t)throw new fr("argument-error",kr+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new fr("argument-error",Er+" property must be a non null object when specified.");if(t=e[wr],"undefined"!==typeof t&&"boolean"!==typeof t)throw new fr("argument-error",wr+" property must be a boolean when specified.");if(this.c=!!t,e=e[_r],"undefined"!==typeof e&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new fr("argument-error",_r+" property must be a non empty string when specified.");this.i=e||null}var br="android",_r="dynamicLinkDomain",wr="handleCodeInApp",Er="iOS",Cr="url",Tr="installApp",Sr="minimumVersion",xr="packageName",kr="bundleId";function Ir(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}function Pr(e){return L(e,function(e){return e=e.toString(16),1<e.length?e:"0"+e}).join("")}var Nr=null,Ar=null;function Or(e){var t="";return Dr(e,function(e){t+=String.fromCharCode(e)}),t}function Dr(e,t){function n(t){for(;i<e.length;){var n=e.charAt(i++),r=Ar[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}Rr();for(var i=0;;){var r=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===r)break;t(r<<2|o>>4),64!=s&&(t(o<<4&240|s>>2),64!=a&&t(s<<6&192|a))}}function Rr(){if(!Nr){Nr={},Ar={};for(var e=0;65>e;e++)Nr[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Ar[Nr[e]]=e,62<=e&&(Ar["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}function Lr(e){this.c=e.sub,b(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Mr(e){return(e=Fr(e))&&e.sub&&e.iss&&e.aud&&e.exp?new Lr(e):null}function Fr(e){if(!e)return null;if(e=e.split("."),3!=e.length)return null;e=e[1];for(var t=(4-e.length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(Or(e))}catch(i){}return null}Lr.prototype.f=function(){return this.b};var $r,jr={$c:{ab:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},bd:{ab:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},cd:{ab:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Ur(e){for(var t in jr)if(jr[t].id===e)return e=jr[t],{firebaseEndpoint:e.ab,secureTokenEndpoint:e.ib};return null}$r=Ur("__EID__")?"__EID__":void 0;var Vr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),zr=["client_id","response_type","scope","redirect_uri","state"],Br={Vc:{Ma:"locale",Ba:500,Aa:600,Na:"facebook.com",hb:zr},Xc:{Ma:null,Ba:500,Aa:620,Na:"github.com",hb:zr},Yc:{Ma:"hl",Ba:515,Aa:680,Na:"google.com",hb:zr},dd:{Ma:"lang",Ba:485,Aa:705,Na:"twitter.com",hb:Vr}};function Wr(e){for(var t in Br)if(Br[t].Na==e)return Br[t];return null}function qr(e){var t={};t["facebook.com"]=Kr,t["google.com"]=Jr,t["github.com"]=Qr,t["twitter.com"]=Zr;var n=e&&e[Gr];try{if(n)return t[n]?new t[n](e):new Xr(e);if("undefined"!==typeof e[Hr])return new Yr(e)}catch(i){}return null}var Hr="idToken",Gr="providerId";function Yr(e){var t=e[Gr];if(!t&&e[Hr]){var n=Mr(e[Hr]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Zi(this,"providerId",t),Zi(this,"isNewUser",n)}function Xr(e){Yr.call(this,e),e=$i(e.rawUserInfo||"{}"),Zi(this,"profile",rr(e||{}))}function Kr(e){if(Xr.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Qr(e){if(Xr.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Zi(this,"username",this.profile&&this.profile.login||null)}function Jr(e){if(Xr.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zr(e){if(Xr.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Zi(this,"username",e.screenName||null)}function eo(e){this.a=an(e)}function to(e){var t=an(e),n=sn(t,"link"),i=sn(an(n),"link");return t=sn(t,"deep_link_id"),sn(an(t),"link")||t||i||n||e}function no(e,t){return e.then(function(e){if(e[Bs]){var n=Mr(e[Bs]);if(!n||t!=n.c)throw new fr("user-mismatch");return e}throw new fr("user-mismatch")}).s(function(e){throw e&&e.code&&e.code==mr+"user-not-found"?new fr("user-mismatch"):e})}function io(e,t){if(!t)throw new fr("internal-error","failed to construct a credential");this.a=t,Zi(this,"providerId",e),Zi(this,"signInMethod",e)}function ro(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function oo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Zi(this,"idToken",t.idToken),t.accessToken&&Zi(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Zi(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new fr("internal-error","failed to construct a credential");Zi(this,"accessToken",t.oauthToken),Zi(this,"secret",t.oauthTokenSecret)}Zi(this,"providerId",e),Zi(this,"signInMethod",n)}function so(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:bn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function ao(e,t){this.Dc=t||[],er(this,{providerId:e,isOAuthProvider:!0}),this.yb={},this.cb=(Wr(e)||{}).Ma||null,this.$a=null}function lo(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new fr("argument-error",'SAML provider IDs must be prefixed with "saml."');ao.call(this,e,[])}function uo(e){ao.call(this,e,zr),this.a=[]}function co(){uo.call(this,"facebook.com")}function ho(e){if(!e)throw new fr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return d(e)&&(t=e.accessToken),(new co).credential(null,t)}function po(){uo.call(this,"github.com")}function fo(e){if(!e)throw new fr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return d(e)&&(t=e.accessToken),(new po).credential(null,t)}function vo(){uo.call(this,"google.com"),this.ua("profile")}function mo(e,t){var n=e;return d(e)&&(n=e.idToken,t=e.accessToken),(new vo).credential(n,t)}function go(){ao.call(this,"twitter.com",Vr)}function yo(e,t){var n=e;if(d(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new fr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new oo("twitter.com",n,"twitter.com")}function bo(e,t,n){this.a=e,this.c=t,Zi(this,"providerId","password"),Zi(this,"signInMethod",n===_o.EMAIL_LINK_SIGN_IN_METHOD?_o.EMAIL_LINK_SIGN_IN_METHOD:_o.EMAIL_PASSWORD_SIGN_IN_METHOD)}function _o(){er(this,{providerId:"password",isOAuthProvider:!1})}function wo(e,t){if(t=Eo(t),!t)throw new fr("argument-error","Invalid email link!");return new bo(e,t,_o.EMAIL_LINK_SIGN_IN_METHOD)}function Eo(e){e=to(e),e=new eo(e);var t=sn(e.a,"oobCode")||null;return"signIn"===(sn(e.a,"mode")||null)&&t?t:null}function Co(e){if(!(e.Ta&&e.Sa||e.Fa&&e.$))throw new fr("internal-error");this.a=e,Zi(this,"providerId","phone"),Zi(this,"signInMethod","phone")}function To(e){return e.a.Fa&&e.a.$?{temporaryProof:e.a.Fa,phoneNumber:e.a.$}:{sessionInfo:e.a.Ta,code:e.a.Sa}}function So(e){try{this.a=e||i.a.auth()}catch(t){throw new fr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}er(this,{providerId:"phone",isOAuthProvider:!1})}function xo(e,t){if(!e)throw new fr("missing-verification-id");if(!t)throw new fr("missing-verification-code");return new Co({Ta:e,Sa:t})}function ko(e){if(e.temporaryProof&&e.phoneNumber)return new Co({Fa:e.temporaryProof,$:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,i=e&&e.oauthTokenSecret,r=e&&e.nonce,o=e&&e.oauthIdToken,s=e&&e.pendingToken;try{switch(t){case"google.com":return mo(o,n);case"facebook.com":return ho(n);case"github.com":return fo(n);case"twitter.com":return yo(n,i);default:return n||i||o||s?s?0==t.indexOf("saml.")?new io(t,s):new oo(t,{pendingToken:s,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new uo(t).credential(o,n,r):null}}catch(a){return null}}function Io(e){if(!e.isOAuthProvider)throw new fr("invalid-oauth-provider")}function Po(e,t,n,i,r,o){if(this.b=e,this.c=t||null,this.f=n||null,this.g=i||null,this.h=o||null,this.a=r||null,!this.f&&!this.a)throw new fr("invalid-auth-event");if(this.f&&this.a)throw new fr("invalid-auth-event");if(this.f&&!this.g)throw new fr("invalid-auth-event")}function No(e){return e=e||{},e.type?new Po(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&vr(e.error),e.postBody):null}function Ao(){this.b=null,this.a=[]}_(Xr,Yr),_(Kr,Xr),_(Qr,Xr),_(Jr,Xr),_(Zr,Xr),io.prototype.la=function(e){return va(e,ro(this))},io.prototype.b=function(e,t){var n=ro(this);return n.idToken=t,ma(e,n)},io.prototype.f=function(e,t){return no(ga(e,ro(this)),t)},io.prototype.C=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},oo.prototype.la=function(e){return va(e,so(this))},oo.prototype.b=function(e,t){var n=so(this);return n.idToken=t,ma(e,n)},oo.prototype.f=function(e,t){var n=so(this);return no(ga(e,n),t)},oo.prototype.C=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},ao.prototype.Da=function(e){return this.yb=ae(e),this},_(lo,ao),_(uo,ao),uo.prototype.ua=function(e){return $(this.a,e)||this.a.push(e),this},uo.prototype.Eb=function(){return z(this.a)},uo.prototype.credential=function(e,t,n){if(!e&&!t)throw new fr("argument-error","credential failed: must provide the ID token and/or the access token.");return new oo(this.providerId,{idToken:e||null,accessToken:t||null,nonce:n||null},this.providerId)},_(co,uo),Zi(co,"PROVIDER_ID","facebook.com"),Zi(co,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(po,uo),Zi(po,"PROVIDER_ID","github.com"),Zi(po,"GITHUB_SIGN_IN_METHOD","github.com"),_(vo,uo),Zi(vo,"PROVIDER_ID","google.com"),Zi(vo,"GOOGLE_SIGN_IN_METHOD","google.com"),_(go,ao),Zi(go,"PROVIDER_ID","twitter.com"),Zi(go,"TWITTER_SIGN_IN_METHOD","twitter.com"),bo.prototype.la=function(e){return this.signInMethod==_o.EMAIL_LINK_SIGN_IN_METHOD?Ha(e,Sa,{email:this.a,oobCode:this.c}):Ha(e,za,{email:this.a,password:this.c})},bo.prototype.b=function(e,t){return this.signInMethod==_o.EMAIL_LINK_SIGN_IN_METHOD?Ha(e,xa,{idToken:t,email:this.a,oobCode:this.c}):Ha(e,Ma,{idToken:t,email:this.a,password:this.c})},bo.prototype.f=function(e,t){return no(this.la(e),t)},bo.prototype.C=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},er(_o,{PROVIDER_ID:"password"}),er(_o,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),er(_o,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Co.prototype.la=function(e){return e.Ua(To(this))},Co.prototype.b=function(e,t){var n=To(this);return n.idToken=t,Ha(e,Wa,n)},Co.prototype.f=function(e,t){var n=To(this);return n.operation="REAUTH",e=Ha(e,qa,n),no(e,t)},Co.prototype.C=function(){var e={providerId:"phone"};return this.a.Ta&&(e.verificationId=this.a.Ta),this.a.Sa&&(e.verificationCode=this.a.Sa),this.a.Fa&&(e.temporaryProof=this.a.Fa),this.a.$&&(e.phoneNumber=this.a.$),e},So.prototype.Ua=function(e,t){var n=this.a.b;return xe(t.verify()).then(function(i){if(!r(i))throw new fr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return ca(n,{phoneNumber:e,recaptchaToken:i}).then(function(e){return"function"===typeof t.reset&&t.reset(),e},function(e){throw"function"===typeof t.reset&&t.reset(),e});default:throw new fr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},er(So,{PROVIDER_ID:"phone"}),er(So,{PHONE_SIGN_IN_METHOD:"phone"}),Po.prototype.C=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,postBody:this.h,error:this.a&&this.a.C()}};var Oo,Do=null;function Ro(e){var t="unauthorized-domain",n=void 0,i=an(e);e=i.b,i=i.c,"chrome-extension"==i?n=B("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==i||"https"==i?n=B("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",fr.call(this,t,n)}function Lo(e,t,n){fr.call(this,e,n),e=t||{},e.zb&&Zi(this,"email",e.zb),e.$&&Zi(this,"phoneNumber",e.$),e.credential&&Zi(this,"credential",e.credential)}function Mo(e){if(e.code){var t=e.code||"";0==t.indexOf(mr)&&(t=t.substring(mr.length));var n={credential:ko(e)};if(e.email)n.zb=e.email;else if(e.phoneNumber)n.$=e.phoneNumber;else if(!n.credential)return new fr(t,e.message||void 0);return new Lo(t,n,e.message)}return null}function Fo(){}function $o(e){return e.c||(e.c=e.b())}function jo(){}function Uo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var i=t[n];try{return new ActiveXObject(i),e.f=i}catch(r){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Vo(){}function zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=g(this.ec,this),this.a.onerror=g(this.Fb,this),this.a.onprogress=g(this.fc,this),this.a.ontimeout=g(this.ic,this)}function Bo(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Wo(e,t,n){this.reset(e,t,n,void 0,void 0)}Ao.prototype.subscribe=function(e){var t=this;this.a.push(e),this.b||(this.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},e=Ni("universalLinks.subscribe",n),"function"===typeof e&&e(null,this.b))},Ao.prototype.unsubscribe=function(e){U(this.a,function(t){return t==e})},_(Ro,fr),_(Lo,fr),Lo.prototype.C=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber);var t=this.credential&&this.credential.C();return t&&he(e,t),e},Lo.prototype.toJSON=function(){return this.C()},Fo.prototype.c=null,_(jo,Fo),jo.prototype.a=function(){var e=Uo(this);return e?new ActiveXObject(e):new XMLHttpRequest},jo.prototype.b=function(){var e={};return Uo(this)&&(e[0]=!0,e[1]=!0),e},Oo=new jo,_(Vo,Fo),Vo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new zo;throw Error("Unsupported browser")},Vo.prototype.b=function(){return{}},e=zo.prototype,e.open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.ec=function(){this.status=200,this.responseText=this.a.responseText,Bo(this,4)},e.Fb=function(){this.status=500,this.responseText="",Bo(this,4)},e.ic=function(){this.Fb()},e.fc=function(){this.status=200,Bo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Wo.prototype.a=null;function qo(e){this.f=e,this.b=this.c=this.a=null}function Ho(e,t){this.name=e,this.value=t}Wo.prototype.reset=function(e,t,n,i,r){"number"==typeof r||0,i||b(),delete this.a},Ho.prototype.toString=function(){return this.name};var Go=new Ho("SEVERE",1e3),Yo=new Ho("WARNING",900),Xo=new Ho("CONFIG",700),Ko=new Ho("FINE",500);function Qo(e){return e.c?e.c:e.a?Qo(e.a):(S("Root logger has no level set."),null)}qo.prototype.log=function(e,t,n){if(e.value>=Qo(this).value)for(h(t)&&(t=t()),e=new Wo(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var Jo={},Zo=null;function es(e){var t;if(Zo||(Zo=new qo(""),Jo[""]=Zo,Zo.c=Xo),!(t=Jo[e])){t=new qo(e);var n=e.lastIndexOf("."),i=e.substr(n+1);n=es(e.substr(0,n)),n.b||(n.b={}),n.b[i]=t,t.a=n,Jo[e]=t}return t}function ts(e,t){e&&e.log(Ko,t,void 0)}function ns(e){this.f=e}function is(e){Ut.call(this),this.i=e,this.readyState=rs,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=es("goog.net.FetchXmlHttp")}_(ns,Fo),ns.prototype.a=function(){return new is(this.f)},ns.prototype.b=function(e){return function(){return e}}({}),_(is,Ut);var rs=0;function os(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ss(e){Ut.call(this),this.headers=new Xt,this.D=e||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.m="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=as,this.v=this.O=!1}e=is.prototype,e.open=function(e,t){if(this.readyState!=rs)throw this.abort(),Error("Error reopening a connection");this.h=e,this.c=t,this.readyState=1,os(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.g,method:this.h,credentials:void 0,cache:void 0};e&&(t.body=e),this.i.fetch(new Request(this.c,t)).then(this.hc.bind(this),this.Gb.bind(this))},e.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,os(this)),this.readyState=rs},e.hc=function(e){this.a&&(this.b||(this.b=e.headers,this.readyState=2,os(this)),this.a&&(this.readyState=3,os(this),this.a&&e.text().then(this.gc.bind(this,e),this.Gb.bind(this))))},e.gc=function(e,t){this.a&&(this.status=e.status,this.statusText=e.statusText,this.responseText=t,this.readyState=4,os(this))},e.Gb=function(e){var t=this.f;t&&t.log(Yo,"Failed to fetch url "+this.c,e instanceof Error?e:Error(e)),this.a&&(this.readyState=4,os(this))},e.setRequestHeader=function(e,t){this.g.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.f)&&e.log(Yo,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.f;return e&&e.log(Yo,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},_(ss,Ut);var as="";ss.prototype.b=es("goog.net.XhrIo");var ls=/^https?$/i,us=["POST","PUT"];function cs(e,t,i,r,o){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.m+"; newUri="+t);i=i?i.toUpperCase():"GET",e.m=t,e.h="",e.N=i,e.G=!1,e.c=!0,e.a=e.D?e.D.a():Oo.a(),e.w=e.D?$o(e.D):$o(Oo),e.a.onreadystatechange=g(e.Jb,e);try{ts(e.b,ws(e,"Opening Xhr")),e.I=!0,e.a.open(i,String(t),!0),e.I=!1}catch(a){return ts(e.b,ws(e,"Error opening Xhr: "+a.message)),void ps(e,a)}t=r||"";var s=new Xt(e.headers);o&&Yt(o,function(e,t){s.set(t,e)}),o=F(s.U()),r=n.FormData&&t instanceof n.FormData,!$(us,i)||o||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.o&&(e.a.responseType=e.o),"withCredentials"in e.a&&e.a.withCredentials!==e.O&&(e.a.withCredentials=e.O);try{gs(e),0<e.g&&(e.v=hs(e.a),ts(e.b,ws(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=g(e.Ga,e)):e.u=Wt(e.Ga,e.g,e)),ts(e.b,ws(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){ts(e.b,ws(e,"Send error: "+a.message)),ps(e,a)}}function hs(e){return Je&&ut(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}function ds(e){return"content-type"==e.toLowerCase()}function ps(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,fs(e),ms(e)}function fs(e){e.G||(e.G=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function vs(e){if(e.c&&"undefined"!=typeof t)if(e.w[1]&&4==ys(e)&&2==bs(e))ts(e.b,ws(e,"Local request error detected and ignored"));else if(e.i&&4==ys(e))Wt(e.Jb,0,e);else if(e.dispatchEvent("readystatechange"),4==ys(e)){ts(e.b,ws(e,"Request complete")),e.c=!1;try{var i,r=bs(e);e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break e;default:o=!1}if(!(i=o)){var s;if(s=0===r){var a=String(e.m).match(Jt)[1]||null;if(!a&&n.self&&n.self.location){var l=n.self.location.protocol;a=l.substr(0,l.length-1)}s=!ls.test(a?a.toLowerCase():"")}i=s}if(i)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var u=2<ys(e)?e.a.statusText:""}catch(c){ts(e.b,"Can not get status: "+c.message),u=""}e.h=u+" ["+bs(e)+"]",fs(e)}}finally{ms(e)}}}function ms(e,t){if(e.a){gs(e);var n=e.a,i=e.w[0]?s:null;e.a=null,e.w=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){(e=e.b)&&e.log(Go,"Problem encountered resetting onreadystatechange: "+r.message,void 0)}}}function gs(e){e.a&&e.v&&(e.a.ontimeout=null),e.u&&(n.clearTimeout(e.u),e.u=null)}function ys(e){return e.a?e.a.readyState:0}function bs(e){try{return 2<ys(e)?e.a.status:-1}catch(t){return-1}}function _s(e){try{return e.a?e.a.responseText:""}catch(t){return ts(e.b,"Can not get responseText: "+t.message),""}}function ws(e,t){return t+" ["+e.N+" "+e.m+" "+bs(e)+"]"}function Es(e,t){this.g=[],this.v=e,this.u=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function Cs(e,t,n){e.a=!0,e.c=n,e.f=!t,Is(e)}function Ts(e){if(e.a){if(!e.m)throw new Ps(e);e.m=!1}}function Ss(e,t){xs(e,null,t,void 0)}function xs(e,t,n,i){e.g.push([t,n,i]),e.a&&Is(e)}function ks(e){return M(e.g,function(e){return h(e[1])})}function Is(e){if(e.h&&e.a&&ks(e)){var t=e.h,i=Os[t];i&&(n.clearTimeout(i.a),delete Os[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=i=!1;e.g.length&&!e.i;){var o=e.g.shift(),s=o[0],a=o[1];if(o=o[2],s=e.f?a:s)try{var l=s.call(o||e.u,t);void 0!==l&&(e.f=e.f&&(l==t||l instanceof Error),e.c=t=l),(E(t)||"function"===typeof n.Promise&&t instanceof n.Promise)&&(r=!0,e.i=!0)}catch(u){t=u,e.f=!0,ks(e)||(i=!0)}}e.c=t,r&&(l=g(e.o,e,!0),r=g(e.o,e,!1),t instanceof Es?(xs(t,l,r),t.w=!0):t.then(l,r)),i&&(t=new As(t),Os[t.a]=t,e.h=t.a)}function Ps(){C.call(this)}function Ns(){C.call(this)}function As(e){this.a=n.setTimeout(g(this.c,this),0),this.b=e}e=ss.prototype,e.Ga=function(){"undefined"!=typeof t&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ts(this.b,ws(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ts(this.b,ws(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ms(this))},e.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ms(this,!0)),ss.ob.va.call(this)},e.Jb=function(){this.qa||(this.I||this.i||this.f?vs(this):this.wc())},e.wc=function(){vs(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case as:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Go,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(t){return ts(this.b,"Can not get response: "+t.message),null}},Es.prototype.cancel=function(e){if(this.a)this.c instanceof Es&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.v?this.v.call(this.u,this):this.m=!0,this.a||(e=new Ns(this),Ts(this),Cs(this,!1,e))}},Es.prototype.o=function(e,t){this.i=!1,Cs(this,e,t)},Es.prototype.D=function(){Ts(this),Cs(this,!0,null)},Es.prototype.then=function(e,t,n){var i,r,o=new be(function(e,t){i=e,r=t});return xs(this,i,function(e){e instanceof Ns?o.cancel():r(e)}),o.then(e,t,n)},w(Es),_(Ps,C),Ps.prototype.message="Deferred has already fired",Ps.prototype.name="AlreadyCalledError",_(Ns,C),Ns.prototype.message="Deferred was canceled",Ns.prototype.name="CanceledError",As.prototype.c=function(){throw delete Os[this.a],this.b};var Os={};function Ds(e){var t={},n=t.document||document,i=An(e),r=document.createElement("SCRIPT"),o={Lb:r,Ga:void 0},s=new Es(Ls,o),a=null,l=null!=t.timeout?t.timeout:5e3;return 0<l&&(a=window.setTimeout(function(){Ms(r,!0);var e=new js($s,"Timeout reached for loading script "+i);Ts(s),Cs(s,!1,e)},l),o.Ga=a),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Ms(r,t.fd||!1,a),s.D())},r.onerror=function(){Ms(r,!0,a);var e=new js(Fs,"Error while loading script "+i);Ts(s),Cs(s,!1,e)},o=t.attributes||{},he(o,{type:"text/javascript",charset:"UTF-8"}),Yn(r,o),r.src=An(e),Rs(n).appendChild(r),s}function Rs(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}function Ls(){if(this&&this.Lb){var e=this.Lb;e&&"SCRIPT"==e.tagName&&Ms(e,!0,this.Ga)}}function Ms(e,t,i){null!=i&&n.clearTimeout(i),e.onload=s,e.onerror=s,e.onreadystatechange=s,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var Fs=0,$s=1;function js(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),C.call(this,n),this.code=e}function Us(e){this.f=e}function Vs(e,t,r){if(this.b=e,e=t||{},this.i=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=e.secureTokenTimeout||Ws,this.f=ae(e.secureTokenHeaders||qs),this.g=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=e.firebaseTimeout||Hs,this.a=ae(e.firebaseHeaders||Gs),r&&(this.a["X-Client-Version"]=r,this.f["X-Client-Version"]=r),r="Node"==wi(),r=n.XMLHttpRequest||r&&i.a.INTERNAL.node&&i.a.INTERNAL.node.XMLHttpRequest,!r&&!_i())throw new fr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,_i()?this.c=new ns(self):Ei()?this.c=new Us(r):this.c=new Vo}_(js,C),_(Us,Fo),Us.prototype.a=function(){return new this.f},Us.prototype.b=function(){return{}};var zs,Bs="idToken",Ws=new zi(3e4,6e4),qs={"Content-Type":"application/x-www-form-urlencoded"},Hs=new zi(3e4,6e4),Gs={"Content-Type":"application/json"};function Ys(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Xs(e,t){t?(e.a["X-Client-Version"]=t,e.f["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.f["X-Client-Version"])}function Ks(e,t,n,i,r,o,s){ui()||_i()?e=g(e.o,e):(zs||(zs=new be(function(e,t){Zs(e,t)})),e=g(e.m,e)),e(t,n,i,r,o,s)}Vs.prototype.o=function(e,t,i,r,o,s){if(_i()&&("undefined"===typeof n.fetch||"undefined"===typeof n.Headers||"undefined"===typeof n.Request))throw new fr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ss(this.c);if(s){a.g=Math.max(0,s);var l=setTimeout(function(){a.dispatchEvent("timeout")},s)}Vt(a,"complete",function(){l&&clearTimeout(l);var e=null;try{e=JSON.parse(_s(this))||null}catch(n){e=null}t&&t(e)}),zt(a,"ready",function(){l&&clearTimeout(l),Ge(this)}),zt(a,"timeout",function(){l&&clearTimeout(l),Ge(this),t&&t(null)}),cs(a,e,i,r,o)};var Qs=Pn("https://apis.google.com/js/client.js?onload=%{onload}"),Js="__fcb"+Math.floor(1e6*Math.random()).toString();function Zs(e,t){if(((window.gapi||{}).client||{}).request)e();else{n[Js]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))};var i=On(Qs,{onload:Js});Ss(Ds(i),function(){t(Error("CORS_UNSUPPORTED"))})}}function ea(e,t){return new be(function(n,i){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?Ks(e,e.i+"?key="+encodeURIComponent(e.b),function(e){e?e.error?i(Ya(e)):e.access_token&&e.refresh_token?n(e):i(new fr("internal-error")):i(new fr("network-request-failed"))},"POST",bn(t).toString(),e.f,e.l.get()):i(new fr("internal-error"))})}function ta(e,t,n,i,r,o){var s=an(e.g+t);on(s,"key",e.b),o&&on(s,"cb",b().toString());var a="GET"==n;if(a)for(var l in i)i.hasOwnProperty(l)&&on(s,l,i[l]);return new be(function(t,o){Ks(e,s.toString(),function(e){e?e.error?o(Ya(e,r||{})):t(e):o(new fr("network-request-failed"))},n,a?void 0:Zn(Fi(i)),e.a,e.h.get())})}function na(e){if(e=e.email,!r(e)||!vi.test(e))throw new fr("invalid-email")}function ia(e){"email"in e&&na(e)}function ra(e,t){return Ha(e,Ea,{identifier:t,continueUri:Di()?si():"http://localhost"}).then(function(e){return e.allProviders||[]})}function oa(e,t){return Ha(e,Ea,{identifier:t,continueUri:Di()?si():"http://localhost"}).then(function(e){return e.signinMethods||[]})}function sa(e){return Ha(e,Aa,{}).then(function(e){return e.authorizedDomains||[]})}function aa(e){if(!e[Bs])throw new fr("internal-error")}function la(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new fr("internal-error")}else{if(!e.sessionInfo)throw new fr("missing-verification-id");if(!e.code)throw new fr("missing-verification-code")}}Vs.prototype.m=function(e,t,n,i,r){var o=this;zs.then(function(){window.gapi.client.setApiKey(o.b);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:i,headers:r,authType:"none",callback:function(e){window.gapi.auth.setToken(s),t&&t(e)}})}).s(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},Vs.prototype.Qa=function(){return Ha(this,Fa,{})},Vs.prototype.pb=function(e,t){return Ha(this,La,{idToken:e,email:t})},Vs.prototype.qb=function(e,t){return Ha(this,Ma,{idToken:e,password:t})};var ua={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ca(e,t){return Ha(e,Ra,t)}function ha(e,t,n){return Ha(e,Ta,{idToken:t,deleteProvider:n})}function da(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new fr("internal-error")}function pa(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(e=new gn(e.postBody),wn(e,"nonce")&&(t.nonce=e.get("nonce")))),t}function fa(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Mo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Mo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Mo(e)):e.errorMessage&&(t=Ga(e.errorMessage)),t)throw t;if(!e[Bs])throw new fr("internal-error")}function va(e,t){return t.returnIdpCredential=!0,Ha(e,$a,t)}function ma(e,t){return t.returnIdpCredential=!0,Ha(e,Ua,t)}function ga(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Ha(e,ja,t)}function ya(e){if(!e.oobCode)throw new fr("invalid-action-code")}e=Vs.prototype,e.rb=function(e,t){var n={idToken:e},i=[];return oe(ua,function(e,r){var o=t[r];null===o?i.push(e):r in t&&(n[r]=o)}),i.length&&(n.deleteAttribute=i),Ha(this,La,n)},e.kb=function(e,t){return e={requestType:"PASSWORD_RESET",email:e},he(e,t),Ha(this,Na,e)},e.lb=function(e,t){return e={requestType:"EMAIL_SIGNIN",email:e},he(e,t),Ha(this,Ia,e)},e.jb=function(e,t){return e={requestType:"VERIFY_EMAIL",idToken:e},he(e,t),Ha(this,Pa,e)},e.Ua=function(e){return Ha(this,Ba,e)},e.Za=function(e,t){return Ha(this,Da,{oobCode:e,newPassword:t})},e.Ja=function(e){return Ha(this,_a,{oobCode:e})},e.Wa=function(e){return Ha(this,ba,{oobCode:e})};var ba={endpoint:"setAccountInfo",B:ya,da:"email"},_a={endpoint:"resetPassword",B:ya,J:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new fr("internal-error")}},wa={endpoint:"signupNewUser",B:function(e){if(na(e),!e.password)throw new fr("weak-password")},J:aa,R:!0},Ea={endpoint:"createAuthUri"},Ca={endpoint:"deleteAccount",T:["idToken"]},Ta={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(e){if(!u(e.deleteProvider))throw new fr("internal-error")}},Sa={endpoint:"emailLinkSignin",T:["email","oobCode"],B:na,J:aa,R:!0},xa={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:na,J:aa,R:!0},ka={endpoint:"getAccountInfo"},Ia={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new fr("internal-error");na(e)},da:"email"},Pa={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new fr("internal-error")},da:"email"},Na={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(e){if("PASSWORD_RESET"!=e.requestType)throw new fr("internal-error");na(e)},da:"email"},Aa={ub:!0,endpoint:"getProjectConfig",Ib:"GET"},Oa={ub:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(e){if(!e.recaptchaSiteKey)throw new fr("internal-error")}},Da={endpoint:"resetPassword",B:ya,da:"email"},Ra={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},La={endpoint:"setAccountInfo",T:["idToken"],B:ia,R:!0},Ma={endpoint:"setAccountInfo",T:["idToken"],B:function(e){if(ia(e),!e.password)throw new fr("weak-password")},J:aa,R:!0},Fa={endpoint:"signupNewUser",J:aa,R:!0},$a={endpoint:"verifyAssertion",B:da,Oa:pa,J:fa,R:!0},ja={endpoint:"verifyAssertion",B:da,Oa:pa,J:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new fr("user-not-found");if(e.errorMessage)throw Ga(e.errorMessage);if(!e[Bs])throw new fr("internal-error")},R:!0},Ua={endpoint:"verifyAssertion",B:function(e){if(da(e),!e.idToken)throw new fr("internal-error")},Oa:pa,J:fa,R:!0},Va={endpoint:"verifyCustomToken",B:function(e){if(!e.token)throw new fr("invalid-custom-token")},J:aa,R:!0},za={endpoint:"verifyPassword",B:function(e){if(na(e),!e.password)throw new fr("wrong-password")},J:aa,R:!0},Ba={endpoint:"verifyPhoneNumber",B:la,J:aa},Wa={endpoint:"verifyPhoneNumber",B:function(e){if(!e.idToken)throw new fr("internal-error");la(e)},J:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Mo(e);aa(e)}},qa={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:la,J:aa};function Ha(e,t,n){if(!ir(n,t.T))return ke(new fr("internal-error"));var i,r=t.Ib||"POST";return xe(n).then(t.B).then(function(){return t.R&&(n.returnSecureToken=!0),ta(e,t.endpoint,r,n,t.Xb,t.ub||!1)}).then(function(e){return i=e,t.Oa?t.Oa(n,i):i}).then(t.J).then(function(){if(!t.da)return i;if(!(t.da in i))throw new fr("internal-error");return i[t.da]})}function Ga(e){return Ya({error:{errors:[{message:e}],code:400,message:e}})}function Ya(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new fr(i[n]):null)return n;for(var r in n=e.error&&e.error.message||"",i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},he(i,t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0,i)if(0===n.indexOf(r))return new fr(i[r],t);return!t&&e&&(t=Mi(e)),new fr("internal-error",t)}function Xa(e){this.b=e,this.a=null,this.fb=Ka(this)}function Ka(e){return il().then(function(){return new be(function(t,n){Ni("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Ni("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(i){function r(){clearTimeout(o),t()}e.a=i,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},tl.get());i.ping(r).then(r,function(){n(Error("Network Error"))})})})})}function Qa(e,t){return e.fb.then(function(){return new be(function(n){e.a.send(t.type,t,n,Ni("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Ja(e,t){e.fb.then(function(){e.a.register("authEvent",t,Ni("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var Za=Pn("https://apis.google.com/js/api.js?onload=%{onload}"),el=new zi(3e4,6e4),tl=new zi(5e3,15e3),nl=null;function il(){return nl||(nl=new be(function(e,t){function i(){Vi(),Ni("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Vi(),t(Error("Network Error"))},timeout:el.get()})}if(Ni("gapi.iframes.Iframe"))e();else if(Ni("gapi.load"))i();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[r]=function(){Ni("gapi.load")?i():t(Error("Network Error"))},r=On(Za,{onload:r}),xe(Ds(r)).s(function(){t(Error("Network Error"))})}}).s(function(e){throw nl=null,e}))}function rl(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=ln(this.i,"/__/auth/iframe"),on(this.a,"apiKey",this.g),on(this.a,"appName",this.h),this.b=null,this.c=[]}function ol(e,t,n,i,r){this.o=e,this.m=t,this.c=n,this.l=i,this.h=this.g=this.i=null,this.a=r,this.f=null}function sl(e){try{return i.a.app(e).auth().ya()}catch(t){return[]}}function al(e,t,n,i,r){this.m=e,this.f=t,this.b=n,this.c=i||null,this.h=r||null,this.o=this.u=this.v=null,this.g=[],this.l=this.a=null}function ll(e){var t=si();return sa(e).then(function(e){e:{var n=an(t),i=n.c;n=n.b;for(var r=0;r<e.length;r++){var o=e[r],s=n,a=i;if(0==o.indexOf("chrome-extension://")?s=an(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:fi.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){e=!0;break e}}e=!1}if(!e)throw new Ro(si())})}function ul(e){return e.l?e.l:(e.l=mi().then(function(){if(!e.u){var t=e.c,n=e.h,i=sl(e.b),r=new rl(e.m,e.f,e.b);r.f=t,r.b=n,r.c=z(i||[]),e.u=r.toString()}e.i=new Xa(e.u),dl(e)}),e.l)}function cl(e){return e.o||(e.v=e.c?Ii(e.c,sl(e.b)):null,e.o=new Vs(e.f,Ur(e.h),e.v)),e.o}function hl(e,t,n,i,r,o,s,a,l,u){return e=new ol(e,t,n,i,r),e.i=o,e.g=s,e.h=a,e.b=ae(l||null),e.f=u,e.toString()}function dl(e){if(!e.i)throw Error("IfcHandler must be initialized!");Ja(e.i,function(t){var n={};if(t&&t.authEvent){var i=!1;for(t=No(t.authEvent),n=0;n<e.g.length;n++)i=e.g[n](t)||i;return n={},n.status=i?"ACK":"ERROR",xe(n)}return n.status="ERROR",xe(n)})}function pl(e){var t={type:"webStorageSupport"};return ul(e).then(function(){return Qa(e.i,t)}).then(function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})}function fl(e){if(this.a=e||i.a.INTERNAL.reactNative&&i.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new fr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function vl(e){this.b=e,this.a={},this.c=g(this.f,this)}rl.prototype.toString=function(){return this.f?on(this.a,"v",this.f):_n(this.a.a,"v"),this.b?on(this.a,"eid",this.b):_n(this.a.a,"eid"),this.c.length?on(this.a,"fw",this.c.join(",")):_n(this.a.a,"fw"),this.a.toString()},ol.prototype.toString=function(){var e=ln(this.o,"/__/auth/handler");if(on(e,"apiKey",this.m),on(e,"appName",this.c),on(e,"authType",this.l),this.a.isOAuthProvider){var t=this.a;try{var n=i.a.app(this.c).auth().ea()}catch(l){n=null}for(var r in t.$a=n,on(e,"providerId",this.a.providerId),t=this.a,n=Fi(t.yb),n)n[r]=n[r].toString();r=t.Dc,n=ae(n);for(var o=0;o<r.length;o++){var s=r[o];s in n&&delete n[s]}t.cb&&t.$a&&!n[t.cb]&&(n[t.cb]=t.$a),se(n)||on(e,"customParameters",Mi(n))}if("function"===typeof this.a.Eb&&(t=this.a.Eb(),t.length&&on(e,"scopes",t.join(","))),this.i?on(e,"redirectUrl",this.i):_n(e.a,"redirectUrl"),this.g?on(e,"eventId",this.g):_n(e.a,"eventId"),this.h?on(e,"v",this.h):_n(e.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!sn(e,a)&&on(e,a,this.b[a]);return this.f?on(e,"eid",this.f):_n(e.a,"eid"),a=sl(this.c),a.length&&on(e,"fw",a.join(",")),e.toString()},e=al.prototype,e.Ea=function(e,t,n){var i=new fr("popup-closed-by-user"),r=new fr("web-storage-unsupported"),o=this,s=!1;return this.ga().then(function(){pl(o).then(function(n){n||(e&&hi(e),t(r),s=!0)})}).s(function(){}).then(function(){if(!s)return pi(e)}).then(function(){if(!s)return qt(n).then(function(){t(i)})})},e.Mb=function(){var e=Pi();return!Li(e)&&!Ui(e)},e.Hb=function(){return!1},e.Cb=function(e,t,n,i,r,o,s){if(!e)return ke(new fr("popup-blocked"));if(s&&!Li())return this.ga().s(function(t){hi(e),r(t)}),i(),xe();this.a||(this.a=ll(cl(this)));var a=this;return this.a.then(function(){var t=a.ga().s(function(t){throw hi(e),r(t),t});return i(),t}).then(function(){if(Io(n),!s){var i=hl(a.m,a.f,a.b,t,n,null,o,a.c,void 0,a.h);ai(i,e)}}).s(function(e){throw"auth/network-request-failed"==e.code&&(a.a=null),e})},e.Ca=function(e,t,n){this.a||(this.a=ll(cl(this)));var i=this;return this.a.then(function(){Io(t);var r=hl(i.m,i.f,i.b,e,t,si(),n,i.c,void 0,i.h);ai(r)}).s(function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e})},e.ga=function(){var e=this;return ul(this).then(function(){return e.i.fb}).s(function(){throw e.a=null,new fr("network-request-failed")})},e.Qb=function(){return!0},e.wa=function(e){this.g.push(e)},e.Ka=function(e){U(this.g,function(t){return t==e})},e=fl.prototype,e.get=function(e){return xe(this.a.getItem(e)).then(function(e){return e&&$i(e)})},e.set=function(e,t){return xe(this.a.setItem(e,Mi(t)))},e.P=function(e){return xe(this.a.removeItem(e))},e.Y=function(){},e.ca=function(){};var ml,gl=[];function yl(){var e=_i()?self:null;if(D(gl,function(n){n.b==e&&(t=n)}),!t){var t=new vl(e);gl.push(t)}return t}function bl(e){this.a=e}function _l(e){this.c=e,this.b=!1,this.a=[]}function wl(e,t,n,i){var r,o,s,a,l=n||{},u=null;if(e.b)return ke(Error("connection_unavailable"));var c=i?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new be(function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){i(Error("unsupported_event"))},c),o=function(e){e.data.eventId===r&&("ack"===e.data.status?(clearTimeout(s),a=setTimeout(function(){i(Error("timeout"))},3e3)):"done"===e.data.status?(clearTimeout(a),"undefined"!==typeof e.data.response?n(e.data.response):i(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),i(Error("invalid_response"))))},u={messageChannel:h,onMessage:o},e.a.push(u),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:r,data:l},[h.port2])):i(Error("connection_unavailable"))}).then(function(t){return El(e,u),t}).s(function(t){throw El(e,u),t})}function El(e,t){if(t){var n=t.messageChannel,i=t.onMessage;n&&(n.port1.removeEventListener("message",i),n.port1.close()),U(e.a,function(e){return e==t})}}function Cl(){if(!kl())throw new fr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=n.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.u=!1,this.h=null;var e=this;_i()&&self?(this.l=yl(),this.l.subscribe("keyChanged",function(t,n){return Ol(e).then(function(t){return 0<t.length&&D(e.a,function(e){e(t)}),{keyProcessed:$(t,n.key)}})}),this.l.subscribe("ping",function(){return xe(["keyChanged"])})):Yi().then(function(t){(e.h=t)&&(e.g=new _l(new bl(t)),wl(e.g,"ping",null,!0).then(function(t){t[0].fulfilled&&$(t[0].value,"keyChanged")&&(e.u=!0)}).s(function(){}))})}function Tl(e){return new be(function(t,n){var i=e.m.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){t()},i.onerror=function(e){n(Error(e.target.error))}})}function Sl(e){return new be(function(t,n){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},i.onsuccess=function(i){i=i.target.result,i.objectStoreNames.contains("firebaseLocalStorage")?t(i):Tl(e).then(function(){return Sl(e)}).then(function(e){t(e)}).s(function(e){n(e)})}})}function xl(e){return e.o||(e.o=Sl(e)),e.o}function kl(){try{return!!n.indexedDB}catch(_d){return!1}}function Il(e){return e.objectStore("firebaseLocalStorage")}function Pl(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Nl(e){return new be(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}})}function Al(e,t){return e.g&&e.h&&Gi()===e.h?wl(e.g,"keyChanged",{key:t},e.u).then(function(){}).s(function(){}):xe()}function Ol(e){return xl(e).then(function(e){var t=Il(Pl(e,!1));return t.getAll?Nl(t.getAll()):new be(function(e,n){var i=[],r=t.openCursor();r.onsuccess=function(t){(t=t.target.result)?(i.push(t.value),t["continue"]()):e(i)},r.onerror=function(e){n(e.target.error)}})}).then(function(t){var n={},i=[];if(0==e.b){for(i=0;i<t.length;i++)n[t[i].fbase_key]=t[i].value;i=li(e.c,n),e.c=n}return i})}function Dl(e){function t(){e.f=setTimeout(function(){e.i=Ol(e).then(function(t){0<t.length&&D(e.a,function(e){e(t)})}).then(function(){t()}).s(function(e){"STOP_EVENT"!=e.message&&t()})},800)}Rl(e),t()}function Rl(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Ll(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=xe().then(function(){if(kl()){var e=ji(),i="__sak"+e;return ml||(ml=new Cl),n=ml,n.set(i,e).then(function(){return n.get(i)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return n.P(i)}).then(function(){return n}).s(function(){return t.c})}return t.c}).then(function(e){return t.type=e.type,e.Y(function(e){D(t.a,function(t){t(e)})}),e})}function Ml(){this.a={},this.type="inMemory"}function Fl(){if(!jl()){if("Node"==wi())throw new fr("internal-error","The LocalStorage compatibility library was not found.");throw new fr("web-storage-unsupported")}this.a=$l()||i.a.INTERNAL.node.localStorage,this.type="localStorage"}function $l(){try{var e=n.localStorage,t=ji();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(i){return null}}function jl(){var e="Node"==wi();if(e=$l()||e&&i.a.INTERNAL.node&&i.a.INTERNAL.node.localStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}function Ul(){this.type="nullStorage"}function Vl(){if(!Bl()){if("Node"==wi())throw new fr("internal-error","The SessionStorage compatibility library was not found.");throw new fr("web-storage-unsupported")}this.a=zl()||i.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function zl(){try{var e=n.sessionStorage,t=ji();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(i){return null}}function Bl(){var e="Node"==wi();if(e=zl()||e&&i.a.INTERNAL.node&&i.a.INTERNAL.node.sessionStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}function Wl(){var e={};e.Browser=Gl,e.Node=Yl,e.ReactNative=Xl,e.Worker=Kl,this.a=e[wi()]}vl.prototype.f=function(e){var t=e.data.eventType,n=e.data.eventId,i=this.a[t];if(i&&0<i.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var r=[];D(i,function(t){r.push(xe().then(function(){return t(e.origin,e.data.data)}))}),Ne(r).then(function(i){var r=[];D(i,function(e){r.push({fulfilled:e.Db,value:e.value,reason:e.reason?e.reason.message:void 0})}),D(r,function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]}),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:r})})}},vl.prototype.subscribe=function(e,t){se(this.a)&&this.b.addEventListener("message",this.c),"undefined"===typeof this.a[e]&&(this.a[e]=[]),this.a[e].push(t)},vl.prototype.unsubscribe=function(e,t){"undefined"!==typeof this.a[e]&&t?(U(this.a[e],function(e){return e==t}),0==this.a[e].length&&delete this.a[e]):t||delete this.a[e],se(this.a)&&this.b.removeEventListener("message",this.c)},bl.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},_l.prototype.close=function(){for(;0<this.a.length;)El(this,this.a[0]);this.b=!0},e=Cl.prototype,e.set=function(e,t){var n,i=!1,r=this;return xl(this).then(function(t){return n=t,t=Il(Pl(n,!0)),Nl(t.get(e))}).then(function(o){var s=Il(Pl(n,!0));return o?(o.value=t,Nl(s.put(o))):(r.b++,i=!0,o={},o.fbase_key=e,o.value=t,Nl(s.add(o)))}).then(function(){return r.c[e]=t,Al(r,e)}).ia(function(){i&&r.b--})},e.get=function(e){return xl(this).then(function(t){return Nl(Il(Pl(t,!1)).get(e))}).then(function(e){return e&&e.value})},e.P=function(e){var t=!1,n=this;return xl(this).then(function(i){return t=!0,n.b++,Nl(Il(Pl(i,!0))["delete"](e))}).then(function(){return delete n.c[e],Al(n,e)}).ia(function(){t&&n.b--})},e.Y=function(e){0==this.a.length&&Dl(this),this.a.push(e)},e.ca=function(e){U(this.a,function(t){return t==e}),0==this.a.length&&Rl(this)},e=Ll.prototype,e.get=function(e){return this.b.then(function(t){return t.get(e)})},e.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},e.P=function(e){return this.b.then(function(t){return t.P(e)})},e.Y=function(e){this.a.push(e)},e.ca=function(e){U(this.a,function(t){return t==e})},e=Ml.prototype,e.get=function(e){return xe(this.a[e])},e.set=function(e,t){return this.a[e]=t,xe()},e.P=function(e){return delete this.a[e],xe()},e.Y=function(){},e.ca=function(){},e=Fl.prototype,e.get=function(e){var t=this;return xe().then(function(){var n=t.a.getItem(e);return $i(n)})},e.set=function(e,t){var n=this;return xe().then(function(){var i=Mi(t);null===i?n.P(e):n.a.setItem(e,i)})},e.P=function(e){var t=this;return xe().then(function(){t.a.removeItem(e)})},e.Y=function(e){n.window&&kt(n.window,"storage",e)},e.ca=function(e){n.window&&At(n.window,"storage",e)},e=Ul.prototype,e.get=function(){return xe(null)},e.set=function(){return xe()},e.P=function(){return xe()},e.Y=function(){},e.ca=function(){},e=Vl.prototype,e.get=function(e){var t=this;return xe().then(function(){var n=t.a.getItem(e);return $i(n)})},e.set=function(e,t){var n=this;return xe().then(function(){var i=Mi(t);null===i?n.P(e):n.a.setItem(e,i)})},e.P=function(e){var t=this;return xe().then(function(){t.a.removeItem(e)})},e.Y=function(){},e.ca=function(){};var ql,Hl,Gl={A:Fl,Ra:Vl},Yl={A:Fl,Ra:Vl},Xl={A:fl,Ra:Ul},Kl={A:Fl,Ra:Ul},Ql={Zc:"local",NONE:"none",ad:"session"};function Jl(e){var t=new fr("invalid-persistence-type"),n=new fr("unsupported-persistence-type");e:{for(i in Ql)if(Ql[i]==e){var i=!0;break e}i=!1}if(!i||"string"!==typeof e)throw t;switch(wi()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!Ai()&&"none"!==e)throw n}}function Zl(){var e=!(Ui(Pi())||!bi()),t=Li(),i=Ai();this.o=e,this.h=t,this.l=i,this.a={},ql||(ql=new Wl),e=ql;try{this.g=!oi()&&Hi()||!n.indexedDB?new e.a.A:new Ll(_i()?new Ml:new e.a.A)}catch(r){this.g=new Ml,this.h=!0}try{this.i=new e.a.Ra}catch(r){this.i=new Ml}this.m=new Ml,this.f=g(this.Pb,this),this.b={}}function eu(){return Hl||(Hl=new Zl),Hl}function tu(e,t){switch(t){case"session":return e.i;case"none":return e.m;default:return e.g}}function nu(e,t){return"firebase:"+e.name+(t?":"+t:"")}function iu(e,t,i){var r=nu(t,i),o=tu(e,t.A);return e.get(t,i).then(function(s){var a=null;try{a=$i(n.localStorage.getItem(r))}catch(l){}if(a&&!s)return n.localStorage.removeItem(r),e.set(t,a,i);a&&s&&"localStorage"!=o.type&&n.localStorage.removeItem(r)})}function ru(e,t,n){return n=nu(t,n),"local"==t.A&&(e.b[n]=null),tu(e,t.A).P(n)}function ou(e){su(e),e.c=setInterval(function(){for(var t in e.a){var i=n.localStorage.getItem(t),r=e.b[t];i!=r&&(e.b[t]=i,i=new mt({type:"storage",key:t,target:window,oldValue:r,newValue:i,a:!0}),e.Pb(i))}},1e3)}function su(e){e.c&&(clearInterval(e.c),e.c=null)}function au(e){this.a=e,this.b=eu()}e=Zl.prototype,e.get=function(e,t){return tu(this,e.A).get(nu(e,t))},e.set=function(e,t,n){var i=nu(e,n),r=this,o=tu(this,e.A);return o.set(i,t).then(function(){return o.get(i)}).then(function(t){"local"==e.A&&(r.b[i]=t)})},e.addListener=function(e,t,i){e=nu(e,t),this.l&&(this.b[e]=n.localStorage.getItem(e)),se(this.a)&&(tu(this,"local").Y(this.f),this.h||(oi()||!Hi())&&n.indexedDB||!this.l||ou(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(i)},e.removeListener=function(e,t,n){e=nu(e,t),this.a[e]&&(U(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),se(this.a)&&(tu(this,"local").ca(this.f),su(this))},e.Pb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var i in this.a){var r=this.b[i];"undefined"===typeof r&&(r=null);var o=n.localStorage.getItem(i);o!==r&&(this.b[i]=o,this.Xa(i))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?tu(this,"local").ca(this.f):su(this),this.o)if(i=n.localStorage.getItem(t),r=e.a.newValue,r!==i)null!==r?n.localStorage.setItem(t,r):n.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var s=this;i=function(){"undefined"===typeof e.a.a&&s.b[t]===n.localStorage.getItem(t)||(s.b[t]=n.localStorage.getItem(t),s.Xa(t))},Je&&at&&10==at&&n.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(i,10):i()}}else D(e,g(this.Xa,this))},e.Xa=function(e){this.a[e]&&D(this.a[e],function(e){e()})};var lu,uu={name:"authEvent",A:"local"};function cu(e){return e.b.get(uu,e.a).then(function(e){return No(e)})}function hu(){this.a=eu()}function du(){this.b=-1}function pu(e,t){this.b=fu,this.f=n.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=n.Int32Array?new Int32Array(64):Array(64),void 0!==lu||(lu=n.Int32Array?new Int32Array(wu):wu),this.reset()}_(pu,du);for(var fu=64,vu=fu-1,mu=[],gu=0;gu<vu;gu++)mu[gu]=0;var yu=V(128,mu);function bu(e){for(var t=e.f,n=e.l,i=0,r=0;r<t.length;)n[i++]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r=4*i;for(t=16;64>t;t++){r=0|n[t-15],i=0|n[t-2];var o=(0|n[t-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,s=(0|n[t-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[t]=o+s|0}i=0|e.a[0],r=0|e.a[1];var a=0|e.a[2],l=0|e.a[3],u=0|e.a[4],c=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&a^r&a)|0;s=u&c^~u&h,o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0,s=s+(0|lu[t])|0,s=o+(s+(0|n[t])|0)|0,o=h,h=c,c=u,u=l+s|0,l=a,a=r,r=i,i=s+d|0}e.a[0]=e.a[0]+i|0,e.a[1]=e.a[1]+r|0,e.a[2]=e.a[2]+a|0,e.a[3]=e.a[3]+l|0,e.a[4]=e.a[4]+u|0,e.a[5]=e.a[5]+c|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function _u(e,t,n){void 0===n&&(n=t.length);var i=0,o=e.c;if(r(t))for(;i<n;)e.f[o++]=t.charCodeAt(i++),o==e.b&&(bu(e),o=0);else{if(!c(t))throw Error("message must be string or array");for(;i<n;){var s=t[i++];if(!("number"==typeof s&&0<=s&&255>=s&&s==(0|s)))throw Error("message must be a byte array");e.f[o++]=s,o==e.b&&(bu(e),o=0)}}e.c=o,e.g+=n}pu.prototype.reset=function(){this.g=this.c=0,this.a=n.Int32Array?new Int32Array(this.h):z(this.h)};var wu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Eu(){pu.call(this,8,Cu)}_(Eu,pu);var Cu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Tu(e,t,n,i,r){this.m=e,this.i=t,this.l=n,this.o=i||null,this.u=r||null,this.h=t+":"+n,this.v=new hu,this.g=new au(this.h),this.f=null,this.b=[],this.a=this.c=null}function Su(e){return new fr("invalid-cordova-configuration",e)}function xu(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}function ku(e){var t=new Eu;_u(t,e),e=[];var n=8*t.g;56>t.c?_u(t,yu,56-t.c):_u(t,yu,t.b-(t.c-56));for(var i=63;56<=i;i--)t.f[i]=255&n,n/=256;for(bu(t),i=n=0;i<t.i;i++)for(var r=24;0<=r;r-=8)e[n++]=t.a[i]>>r&255;return Pr(e)}function Iu(e,t,i,r){var o=xu(),s=new Po(t,r,null,o,new fr("no-auth-event")),a=Ni("BuildInfo.packageName",n);if("string"!==typeof a)throw new fr("invalid-cordova-configuration");var l=Ni("BuildInfo.displayName",n),u={};if(Pi().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=a;else{if(!Pi().toLowerCase().match(/android/))return ke(new fr("operation-not-supported-in-this-environment"));u.apn=a}l&&(u.appDisplayName=l),o=ku(o),u.sessionId=o;var c=hl(e.m,e.i,e.l,t,i,null,r,e.o,u,e.u);return e.ga().then(function(){var t=e.h;return e.v.a.set(uu,s.C(),t)}).then(function(){var t=Ni("cordova.plugins.browsertab.isAvailable",n);if("function"!==typeof t)throw new fr("invalid-cordova-configuration");var i=null;t(function(t){if(t){if(i=Ni("cordova.plugins.browsertab.openUrl",n),"function"!==typeof i)throw new fr("invalid-cordova-configuration");i(c)}else{if(i=Ni("cordova.InAppBrowser.open",n),"function"!==typeof i)throw new fr("invalid-cordova-configuration");t=Pi(),t=!(!t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),e.a=i(c,t?"_blank":"_system","location=yes")}})})}function Pu(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(i){}}function Nu(e){return e.f||(e.f=e.ga().then(function(){return new be(function(t){function n(i){return t(i),e.Ka(n),!1}e.wa(n),Ou(e)})})),e.f}function Au(e){var t=null;return cu(e.g).then(function(n){return t=n,n=e.g,ru(n.b,uu,n.a)}).then(function(){return t})}function Ou(e){function t(t){r=!0,o&&o.cancel(),Au(e).then(function(n){var r=i;if(n&&t&&t.url){var o=null;r=to(t.url),-1!=r.indexOf("/__/auth/callback")&&(o=an(r),o=$i(sn(o,"firebaseError")||null),o=(o="object"===typeof o?vr(o):null)?new Po(n.b,n.c,null,null,o):new Po(n.b,n.c,r,n.g)),r=o||i}Pu(e,r)})}var i=new Po("unknown",null,null,null,new fr("no-auth-event")),r=!1,o=qt(500).then(function(){return Au(e).then(function(){r||Pu(e,i)})}),s=n.handleOpenURL;n.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Ni("BuildInfo.packageName",n).toLowerCase()+"://")&&t({url:e}),"function"===typeof s)try{s(e)}catch(i){console.error(i)}},Do||(Do=new Ao),Do.subscribe(t)}function Du(e){this.a=e,this.b=eu()}e=Tu.prototype,e.ga=function(){return this.za?this.za:this.za=gi().then(function(){if("function"!==typeof Ni("universalLinks.subscribe",n))throw Su("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Ni("BuildInfo.packageName",n))throw Su("cordova-plugin-buildinfo is not installed");if("function"!==typeof Ni("cordova.plugins.browsertab.openUrl",n))throw Su("cordova-plugin-browsertab is not installed");if("function"!==typeof Ni("cordova.InAppBrowser.open",n))throw Su("cordova-plugin-inappbrowser is not installed")},function(){throw new fr("cordova-not-ready")})},e.Ea=function(e,t){return t(new fr("operation-not-supported-in-this-environment")),xe()},e.Cb=function(){return ke(new fr("operation-not-supported-in-this-environment"))},e.Qb=function(){return!1},e.Mb=function(){return!0},e.Hb=function(){return!0},e.Ca=function(e,t,i){if(this.c)return ke(new fr("redirect-operation-pending"));var r=this,o=n.document,s=null,a=null,l=null,u=null;return this.c=xe().then(function(){return Io(t),Nu(r)}).then(function(){return Iu(r,e,t,i)}).then(function(){return new be(function(e,t){a=function(){var t=Ni("cordova.plugins.browsertab.close",n);return e(),"function"===typeof t&&t(),r.a&&"function"===typeof r.a.close&&(r.a.close(),r.a=null),!1},r.wa(a),l=function(){s||(s=qt(2e3).then(function(){t(new fr("redirect-cancelled-by-user"))}))},u=function(){Bi()&&l()},o.addEventListener("resume",l,!1),Pi().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",u,!1)}).s(function(e){return Au(r).then(function(){throw e})})}).ia(function(){l&&o.removeEventListener("resume",l,!1),u&&o.removeEventListener("visibilitychange",u,!1),s&&s.cancel(),a&&r.Ka(a),r.c=null})},e.wa=function(e){this.b.push(e),Nu(this).s(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Po("unknown",null,null,null,new fr("no-auth-event")),e(t))})},e.Ka=function(e){U(this.b,function(t){return t==e})};var Ru={name:"pendingRedirect",A:"session"};function Lu(e){return e.b.set(Ru,"pending",e.a)}function Mu(e){return ru(e.b,Ru,e.a)}function Fu(e){return e.b.get(Ru,e.a).then(function(e){return"pending"==e})}function $u(e,t,n){this.u=e,this.l=t,this.m=n,this.h=[],this.f=!1,this.i=g(this.bb,this),this.b=new Yu,this.o=new tc,this.g=new Du(this.l+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.o,this.c.linkViaPopup=this.o,this.c.reauthViaPopup=this.o,this.a=ju(this.u,this.l,this.m,$r)}function ju(e,t,n,r){var o=i.a.SDK_VERSION||null;return yi()?new Tu(e,t,n,o,r):new al(e,t,n,o,r)}function Uu(e){e.f||(e.f=!0,e.a.wa(e.i));var t=e.a;return e.a.ga().s(function(n){throw e.a==t&&e.reset(),n})}function Vu(e){e.a.Mb()&&Uu(e).s(function(t){var n=new Po("unknown",null,null,null,new fr("operation-not-supported-in-this-environment"));qu(t)&&e.bb(n)}),e.a.Hb()||Xu(e.b)}e=$u.prototype,e.reset=function(){this.f=!1,this.a.Ka(this.i),this.a=ju(this.u,this.l,this.m)},e.Ya=function(){this.b.Ya()},e.subscribe=function(e){if($(this.h,e)||this.h.push(e),!this.f){var t=this;Fu(this.g).then(function(e){e?Mu(t.g).then(function(){Uu(t).s(function(e){var n=new Po("unknown",null,null,null,new fr("operation-not-supported-in-this-environment"));qu(e)&&t.bb(n)})}):Vu(t)}).s(function(){Vu(t)})}},e.unsubscribe=function(e){U(this.h,function(t){return t==e})},e.bb=function(e){if(!e)throw new fr("invalid-auth-event");for(var t=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.vb(e.b,e.c)){(t=this.c[e.b])&&t.h(e,i),t=!0;break}}return Xu(this.b),t};var zu=new zi(2e3,1e4),Bu=new zi(3e4,6e4);function Wu(e,t,n,i,r,o){return e.a.Cb(t,n,i,function(){e.f||(e.f=!0,e.a.wa(e.i))},function(){e.reset()},r,o)}function qu(e){return!(!e||"auth/cordova-not-ready"!=e.code)}$u.prototype.fa=function(){return this.b.fa()},$u.prototype.Ca=function(e,t,n){var i,r=this;return Lu(this.g).then(function(){return r.a.Ca(e,t,n).s(function(e){if(qu(e))throw new fr("operation-not-supported-in-this-environment");return i=e,Mu(r.g).then(function(){throw i})}).then(function(){return r.a.Qb()?new be(function(){}):Mu(r.g).then(function(){return r.fa()}).then(function(){}).s(function(){})})})},$u.prototype.Ea=function(e,t,n,i){return this.a.Ea(n,function(n){e.ha(t,null,n,i)},zu.get())};var Hu={};function Gu(e,t,n){var i=t+":"+n;return Hu[i]||(Hu[i]=new $u(e,t,n)),Hu[i]}function Yu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Xu(e){e.g||(e.g=!0,Zu(e,!1,null,null))}function Ku(e,t,n){n=n.xa(t.b,t.c);var i=t.f,r=t.g,o=t.h,s=!!t.b.match(/Redirect$/);n(i,r,o).then(function(t){Zu(e,s,t,null)}).s(function(t){Zu(e,s,null,t)})}function Qu(e,t){if(e.b=function(){return ke(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}function Ju(e,t){if(e.b=function(){return xe(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Zu(e,t,n,i){t?i?Qu(e,i):Ju(e,n):Ju(e,{user:null}),e.f=[],e.c=[]}function ec(e){var t=new fr("timeout");e.a&&e.a.cancel(),e.a=qt(Bu.get()).then(function(){e.b||(e.g=!0,Zu(e,!0,null,t))})}function tc(){}function nc(e,t){var n=e.c,i=e.b;t.xa(i,n)(e.f,e.g,e.h).then(function(e){t.ha(i,e,null,n)}).s(function(e){t.ha(i,null,e,n)})}function ic(){this.sb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.sb},set:function(e){this.sb=e},enumerable:!1})}function rc(e,t){this.a=t,Zi(this,"verificationId",e)}function oc(e,t,n,i){return new So(e).Ua(t,n).then(function(e){return new rc(e,i)})}function sc(e){var t=Fr(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new fr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");er(this,{token:e,expirationTime:qi(1e3*t.exp),authTime:qi(1e3*t.auth_time),issuedAtTime:qi(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function ac(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function lc(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}function uc(e,t){e.stop(),e.b=qt(lc(e,t)).then(function(){return Wi()}).then(function(){return e.h()}).then(function(){uc(e,!0)}).s(function(t){e.i(t)&&uc(e,!1)})}function cc(e){this.f=e,this.b=this.a=null,this.c=0}function hc(e,t){var n=t[Bs],i=t.refreshToken;t=pc(t.expiresIn),e.b=n,e.c=t,e.a=i}function dc(e,t){e.b=t.b,e.a=t.a,e.c=t.c}function pc(e){return b()+1e3*parseInt(e,10)}function fc(e,t){return ea(e.f,t).then(function(t){return e.b=t.access_token,e.c=pc(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}}).s(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})}function vc(e,t){this.a=e||null,this.b=t||null,er(this,{lastSignInTime:qi(t||null),creationTime:qi(e||null)})}function mc(e){return new vc(e.a,e.b)}function gc(e,t,n,i,r,o){er(this,{uid:e,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:t})}function yc(e,t){for(var n in vt.call(this,e),t)this[n]=t[n]}function bc(e,t,n){this.G=[],this.m=e.apiKey,this.o=e.appName,this.u=e.authDomain||null,e=i.a.SDK_VERSION?Ii(i.a.SDK_VERSION):null,this.b=new Vs(this.m,Ur($r),e),this.h=new cc(this.b),kc(this,t[Bs]),hc(this.h,t),Zi(this,"refreshToken",this.h.a),Ac(this,n||{}),Ut.call(this),this.I=!1,this.u&&Oi()&&(this.a=Gu(this.u,this.m,this.o)),this.N=[],this.i=null,this.w=Tc(this),this.V=g(this.Ha,this);var r=this;this.ka=null,this.ta=function(e){r.pa(e.g)},this.X=null,this.O=[],this.sa=function(e){wc(r,e.c)},this.W=null}function _c(e,t){e.X&&At(e.X,"languageCodeChanged",e.ta),(e.X=t)&&kt(t,"languageCodeChanged",e.ta)}function wc(e,t){e.O=t,Xs(e.b,i.a.SDK_VERSION?Ii(i.a.SDK_VERSION,e.O):null)}function Ec(e,t){e.W&&At(e.W,"frameworkChanged",e.sa),(e.W=t)&&kt(t,"frameworkChanged",e.sa)}function Cc(e){try{return i.a.app(e.o).auth()}catch(t){throw new fr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.o+"'!")}}function Tc(e){return new ac(function(){return e.F(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.h.c-b()-3e5;return 0<t?t:0})}function Sc(e){e.D||e.w.b||(e.w.start(),At(e,"tokenChanged",e.V),kt(e,"tokenChanged",e.V))}function xc(e){At(e,"tokenChanged",e.V),e.w.stop()}function kc(e,t){e.ra=t,Zi(e,"_lat",t)}function Ic(e,t){U(e.N,function(e){return e==t})}function Pc(e){for(var t=[],n=0;n<e.N.length;n++)t.push(e.N[n](e));return Ne(t).then(function(){return e})}function Nc(e){e.a&&!e.I&&(e.I=!0,e.a.subscribe(e))}function Ac(e,t){er(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,metadata:new vc(t.createdAt,t.lastLoginAt),providerData:[]})}function Oc(){}function Dc(e){return xe().then(function(){if(e.D)throw new fr("app-deleted")})}function Rc(e){return L(e.providerData,function(e){return e.providerId})}function Lc(e,t){t&&(Mc(e,t.providerId),e.providerData.push(t))}function Mc(e,t){U(e.providerData,function(e){return e.providerId==t})}function Fc(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Zi(e,t,n)}function $c(e,t){e!=t&&(er(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,providerData:[]}),t.metadata?Zi(e,"metadata",mc(t.metadata)):Zi(e,"metadata",new vc),D(t.providerData,function(t){Lc(e,t)}),dc(e.h,t.h),Zi(e,"refreshToken",e.h.a))}function jc(e){return e.F().then(function(t){var n=e.isAnonymous;return Vc(e,t).then(function(){return n||Fc(e,"isAnonymous",!1),t})})}function Uc(e,t){t[Bs]&&e.ra!=t[Bs]&&(hc(e.h,t),e.dispatchEvent(new yc("tokenChanged")),kc(e,t[Bs]),Fc(e,"refreshToken",e.h.a))}function Vc(e,t){return Ha(e.b,ka,{idToken:t}).then(g(e.xc,e))}function zc(e){return(e=e.providerUserInfo)&&e.length?L(e,function(e){return new gc(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]}function Bc(e,t){return jc(e).then(function(){if($(Rc(e),t))return Pc(e).then(function(){throw new fr("provider-already-linked")})})}function Wc(e,t,n){var i=ko(t);return t=qr(t),tr({user:e,credential:i,additionalUserInfo:t,operationType:n})}function qc(e,t){return Uc(e,t),e.reload().then(function(){return e})}function Hc(e,t,n,r,o){if(!Oi())return ke(new fr("operation-not-supported-in-this-environment"));if(e.i&&!o)return ke(e.i);var s=Wr(n.providerId),a=ji(e.uid+":::"),l=null;(!Li()||bi())&&e.u&&n.isOAuthProvider&&(l=hl(e.u,e.m,e.o,t,n,null,a,i.a.SDK_VERSION||null));var u=di(l,s&&s.Ba,s&&s.Aa);return r=r().then(function(){if(Yc(e),!o)return e.F().then(function(){})}).then(function(){return Wu(e.a,u,t,n,a,!!l)}).then(function(){return new be(function(n,i){e.ha(t,null,new fr("cancelled-popup-request"),e.g||null),e.f=n,e.v=i,e.g=a,e.c=e.a.Ea(e,t,u,a)})}).then(function(e){return u&&hi(u),e?tr(e):null}).s(function(e){throw u&&hi(u),e}),Xc(e,r,o)}function Gc(e,t,n,i,r){if(!Oi())return ke(new fr("operation-not-supported-in-this-environment"));if(e.i&&!r)return ke(e.i);var o=null,s=ji(e.uid+":::");return i=i().then(function(){if(Yc(e),!r)return e.F().then(function(){})}).then(function(){return e.aa=s,Pc(e)}).then(function(t){return e.ba&&(t=e.ba,t=t.b.set(th,e.C(),t.a)),t}).then(function(){return e.a.Ca(t,n,s)}).s(function(t){if(o=t,e.ba)return nh(e.ba);throw o}).then(function(){if(o)throw o}),Xc(e,i,r)}function Yc(e){if(!e.a||!e.I){if(e.a&&!e.I)throw new fr("internal-error");throw new fr("auth-domain-config-required")}}function Xc(e,t,n){var i=Kc(e,t,n);return e.G.push(i),i.ia(function(){j(e.G,i)}),i}function Kc(e,t,n){return e.i&&!n?(t.cancel(),ke(e.i)):t.s(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new yc("userInvalidated")),e.i=t),t})}function Qc(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[Bs]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-b())/1e3;var i=new bc(t,n,e);return e.providerData&&D(e.providerData,function(e){e&&Lc(i,tr(e))}),e.redirectEventId&&(i.aa=e.redirectEventId),i}function Jc(e,t,n,i){var r=new bc(e,t);return n&&(r.ba=n),i&&wc(r,i),r.reload().then(function(){return r})}function Zc(e,t,n,i){t=t||{apiKey:e.m,authDomain:e.u,appName:e.o};var r=e.h,o={};return o[Bs]=r.b,o.refreshToken=r.a,o.expiresIn=(r.c-b())/1e3,t=new bc(t,o),n&&(t.ba=n),i&&wc(t,i),$c(t,e),t}function eh(e){this.a=e,this.b=eu()}Yu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Yu.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.b,i=e.c,r=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?e.a?(Zu(this,!0,null,e.a),xe()):t.xa(n,i)?Ku(this,e,t):ke(new fr("invalid-auth-event")):(Zu(this,!1,null,null),xe())}else ke(new fr("invalid-auth-event"))},Yu.prototype.Ya=function(){this.g&&!this.i&&Zu(this,!1,null,null)},Yu.prototype.fa=function(){var e=this;return new be(function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),ec(e))})},tc.prototype.h=function(e,t){if(e){var n=e.b,i=e.c;e.a?(t.ha(e.b,null,e.a,e.c),xe()):t.xa(n,i)?nc(e,t):ke(new fr("invalid-auth-event"))}else ke(new fr("invalid-auth-event"))},rc.prototype.confirm=function(e){return e=xo(this.verificationId,e),this.a(e)},ac.prototype.start=function(){this.a=this.c,uc(this,!0)},ac.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},cc.prototype.C=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},cc.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?ke(new fr("user-token-expired")):e||!this.b||b()>this.c-3e4?this.a?fc(this,{grant_type:"refresh_token",refresh_token:this.a}):xe(null):xe({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},vc.prototype.C=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(yc,vt),_(bc,Ut),bc.prototype.pa=function(e){this.ka=e,Ys(this.b,e)},bc.prototype.ea=function(){return this.ka},bc.prototype.ya=function(){return z(this.O)},bc.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Zi(bc.prototype,"providerId","firebase"),e=bc.prototype,e.reload=function(){var e=this;return Xc(this,Dc(this).then(function(){return jc(e).then(function(){return Pc(e)}).then(Oc)}))},e.dc=function(e){return this.F(e).then(function(e){return new sc(e)})},e.F=function(e){var t=this;return Xc(this,Dc(this).then(function(){return t.h.getToken(e)}).then(function(e){if(!e)throw new fr("internal-error");return e.accessToken!=t.ra&&(kc(t,e.accessToken),t.dispatchEvent(new yc("tokenChanged"))),Fc(t,"refreshToken",e.refreshToken),e.accessToken}))},e.xc=function(e){if(e=e.users,!e||!e.length)throw new fr("internal-error");e=e[0],Ac(this,{uid:e.localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt});for(var t=zc(e),n=0;n<t.length;n++)Lc(this,t[n]);Fc(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length))},e.gb=function(e){var t=this,n=null;return Xc(this,e.f(this.b,this.uid).then(function(e){return Uc(t,e),n=Wc(t,e,"reauthenticate"),t.i=null,t.reload()}).then(function(){return n}),!0)},e.yc=function(e){return Qi("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.gb(e).then(function(){})},e.eb=function(e){var t=this,n=null;return Xc(this,Bc(this,e.providerId).then(function(){return t.F()}).then(function(n){return e.b(t.b,n)}).then(function(e){return n=Wc(t,e,"link"),qc(t,e)}).then(function(){return n}))},e.pc=function(e){return Qi("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.eb(e).then(function(e){return e.user})},e.qc=function(e,t){var n=this;return Xc(this,Bc(this,"phone").then(function(){return oc(Cc(n),e,t,g(n.eb,n))}))},e.zc=function(e,t){var n=this;return Xc(this,xe().then(function(){return oc(Cc(n),e,t,g(n.gb,n))}),!0)},e.pb=function(e){var t=this;return Xc(this,this.F().then(function(n){return t.b.pb(n,e)}).then(function(e){return Uc(t,e),t.reload()}))},e.Rc=function(e){var t=this;return Xc(this,this.F().then(function(n){return e.b(t.b,n)}).then(function(e){return Uc(t,e),t.reload()}))},e.qb=function(e){var t=this;return Xc(this,this.F().then(function(n){return t.b.qb(n,e)}).then(function(e){return Uc(t,e),t.reload()}))},e.rb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Dc(this);var t=this;return Xc(this,this.F().then(function(n){return t.b.rb(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return Uc(t,e),Fc(t,"displayName",e.displayName||null),Fc(t,"photoURL",e.photoUrl||null),D(t.providerData,function(e){"password"===e.providerId&&(Zi(e,"displayName",t.displayName),Zi(e,"photoURL",t.photoURL))}),Pc(t)}).then(Oc))},e.Pc=function(e){var t=this;return Xc(this,jc(this).then(function(n){return $(Rc(t),e)?ha(t.b,n,[e]).then(function(e){var n={};return D(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),D(Rc(t),function(e){n[e]||Mc(t,e)}),n[So.PROVIDER_ID]||Zi(t,"phoneNumber",null),Pc(t)}):Pc(t).then(function(){throw new fr("no-such-provider")})}))},e.delete=function(){var e=this;return Xc(this,this.F().then(function(t){return Ha(e.b,Ca,{idToken:t})}).then(function(){e.dispatchEvent(new yc("userDeleted"))})).then(function(){for(var t=0;t<e.G.length;t++)e.G[t].cancel("app-deleted");_c(e,null),Ec(e,null),e.G=[],e.D=!0,xc(e),Zi(e,"refreshToken",null),e.a&&e.a.unsubscribe(e)})},e.vb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.aa||null)==t||"reauthViaRedirect"==e&&(this.aa||null)==t)},e.ha=function(e,t,n,i){"linkViaPopup"!=e&&"reauthViaPopup"!=e||i!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.xa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?g(this.Ab,this):"reauthViaPopup"==e&&t==(this.g||null)?g(this.Bb,this):"linkViaRedirect"==e&&(this.aa||null)==t?g(this.Ab,this):"reauthViaRedirect"==e&&(this.aa||null)==t?g(this.Bb,this):null},e.rc=function(e){var t=this;return Hc(this,"linkViaPopup",e,function(){return Bc(t,e.providerId).then(function(){return Pc(t)})},!1)},e.Ac=function(e){return Hc(this,"reauthViaPopup",e,function(){return xe()},!0)},e.sc=function(e){var t=this;return Gc(this,"linkViaRedirect",e,function(){return Bc(t,e.providerId)},!1)},e.Bc=function(e){return Gc(this,"reauthViaRedirect",e,function(){return xe()},!0)},e.Ab=function(e,t,n){var i=this;this.c&&(this.c.cancel(),this.c=null);var r=null,o=this.F().then(function(r){return ma(i.b,{requestUri:e,postBody:n,sessionId:t,idToken:r})}).then(function(e){return r=Wc(i,e,"link"),qc(i,e)}).then(function(){return r});return Xc(this,o)},e.Bb=function(e,t,n){var i=this;this.c&&(this.c.cancel(),this.c=null);var r=null,o=xe().then(function(){return no(ga(i.b,{requestUri:e,sessionId:t,postBody:n}),i.uid)}).then(function(e){return r=Wc(i,e,"reauthenticate"),Uc(i,e),i.i=null,i.reload()}).then(function(){return r});return Xc(this,o,!0)},e.jb=function(e){var t=this,n=null;return Xc(this,this.F().then(function(t){return n=t,"undefined"===typeof e||se(e)?{}:Ir(new yr(e))}).then(function(e){return t.b.jb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},e.toJSON=function(){return this.C()},e.C=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.m,appName:this.o,authDomain:this.u,stsTokenManager:this.h.C(),redirectEventId:this.aa||null};return this.metadata&&he(e,this.metadata.C()),D(this.providerData,function(t){e.providerData.push(nr(t))}),e};var th={name:"redirectUser",A:"session"};function nh(e){return ru(e.b,th,e.a)}function ih(e,t){return e.b.get(th,e.a).then(function(e){return e&&t&&(e.authDomain=t),Qc(e||{})})}function rh(e){this.a=e,this.b=eu(),this.c=null,this.f=sh(this),this.b.addListener(lh("local"),this.a,g(this.g,this))}function oh(e,t){var n,i=[];for(n in Ql)Ql[n]!==t&&i.push(ru(e.b,lh(Ql[n]),e.a));return i.push(ru(e.b,ah,e.a)),Pe(i)}function sh(e){var t=lh("local"),n=lh("session"),i=lh("none");return iu(e.b,t,e.a).then(function(){return e.b.get(n,e.a)}).then(function(r){return r?n:e.b.get(i,e.a).then(function(n){return n?i:e.b.get(t,e.a).then(function(n){return n?t:e.b.get(ah,e.a).then(function(e){return e?lh(e):t})})})}).then(function(t){return e.c=t,oh(e,t.A)}).s(function(){e.c||(e.c=t)})}rh.prototype.g=function(){var e=this,t=lh("local");ph(this,function(){return xe().then(function(){return e.c&&"local"!=e.c.A?e.b.get(t,e.a):null}).then(function(n){if(n)return oh(e,"local").then(function(){e.c=t})})})};var ah={name:"persistence",A:"session"};function lh(e){return{name:"authUser",A:e}}function uh(e){return ph(e,function(){return e.b.set(ah,e.c.A,e.a)})}function ch(e,t){return ph(e,function(){return e.b.set(e.c,t.C(),e.a)})}function hh(e){return ph(e,function(){return ru(e.b,e.c,e.a)})}function dh(e,t){return ph(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),Qc(e||{})})})}function ph(e,t){return e.f=e.f.then(t,t),e.f}function fh(e){if(this.m=!1,Zi(this,"settings",new ic),Zi(this,"app",e),!xh(this).options||!xh(this).options.apiKey)throw new fr("invalid-api-key");e=i.a.SDK_VERSION?Ii(i.a.SDK_VERSION):null,this.b=new Vs(xh(this).options&&xh(this).options.apiKey,Ur($r),e),this.N=[],this.o=[],this.I=[],this.Tb=i.a.INTERNAL.createSubscribe(g(this.mc,this)),this.O=void 0,this.Ub=i.a.INTERNAL.createSubscribe(g(this.nc,this)),wh(this,null),this.h=new rh(xh(this).options.apiKey+":"+xh(this).name),this.w=new eh(xh(this).options.apiKey+":"+xh(this).name),this.V=Ah(this,Ch(this)),this.i=Ah(this,Th(this)),this.X=!1,this.ka=g(this.Mc,this),this.Ha=g(this.Z,this),this.ra=g(this.bc,this),this.sa=g(this.jc,this),this.ta=g(this.kc,this),bh(this),this.INTERNAL={},this.INTERNAL["delete"]=g(this.delete,this),this.INTERNAL.logFramework=g(this.tc,this),this.u=0,Ut.call(this),gh(this),this.G=[]}function vh(e){vt.call(this,"languageCodeChanged"),this.g=e}function mh(e){vt.call(this,"frameworkChanged"),this.c=e}function gh(e){Object.defineProperty(e,"lc",{get:function(){return this.ea()},set:function(e){this.pa(e)},enumerable:!1}),e.W=null}function yh(e){return e.Sb||ke(new fr("auth-domain-config-required"))}function bh(e){var t=xh(e).options.authDomain,n=xh(e).options.apiKey;t&&Oi()&&(e.Sb=e.V.then(function(){if(!e.m){if(e.a=Gu(t,n,xh(e).name),e.a.subscribe(e),kh(e)&&Nc(kh(e)),e.D){Nc(e.D);var i=e.D;i.pa(e.ea()),_c(i,e),i=e.D,wc(i,e.G),Ec(i,e),e.D=null}return e.a}}))}function _h(e,t){var n={};return n.apiKey=xh(e).options.apiKey,n.authDomain=xh(e).options.authDomain,n.appName=xh(e).name,e.V.then(function(){return Jc(n,t,e.w,e.ya())}).then(function(t){return kh(e)&&t.uid==kh(e).uid?($c(kh(e),t),e.Z(t)):(wh(e,t),Nc(t),e.Z(t))}).then(function(){Ph(e)})}function wh(e,t){kh(e)&&(Ic(kh(e),e.Ha),At(kh(e),"tokenChanged",e.ra),At(kh(e),"userDeleted",e.sa),At(kh(e),"userInvalidated",e.ta),xc(kh(e))),t&&(t.N.push(e.Ha),kt(t,"tokenChanged",e.ra),kt(t,"userDeleted",e.sa),kt(t,"userInvalidated",e.ta),0<e.u&&Sc(t)),Zi(e,"currentUser",t),t&&(t.pa(e.ea()),_c(t,e),wc(t,e.G),Ec(t,e))}function Eh(e){var t=ih(e.w,xh(e).options.authDomain).then(function(t){return(e.D=t)&&(t.ba=e.w),nh(e.w)});return Ah(e,t)}function Ch(e){var t=xh(e).options.authDomain,n=Eh(e).then(function(){return dh(e.h,t)}).then(function(t){return t?(t.ba=e.w,e.D&&(e.D.aa||null)==(t.aa||null)?t:t.reload().then(function(){return ch(e.h,t).then(function(){return t})}).s(function(n){return"auth/network-request-failed"==n.code?t:hh(e.h)})):null}).then(function(t){wh(e,t||null)});return Ah(e,n)}function Th(e){return e.V.then(function(){return e.fa()}).s(function(){}).then(function(){if(!e.m)return e.ka()}).s(function(){}).then(function(){if(!e.m){e.X=!0;var t=e.h;t.b.addListener(lh("local"),t.a,e.ka)}})}function Sh(e,t){var n=null,i=null;return Ah(e,t.then(function(t){return n=ko(t),i=qr(t),_h(e,t)}).then(function(){return tr({user:kh(e),credential:n,additionalUserInfo:i,operationType:"signIn"})}))}function xh(e){return e.app}function kh(e){return e.currentUser}function Ih(e){return kh(e)&&kh(e)._lat||null}function Ph(e){if(e.X){for(var t=0;t<e.o.length;t++)e.o[t]&&e.o[t](Ih(e));if(e.O!==e.getUid()&&e.I.length)for(e.O=e.getUid(),t=0;t<e.I.length;t++)e.I[t]&&e.I[t](Ih(e))}}function Nh(e,t){e.I.push(t),Ah(e,e.i.then(function(){!e.m&&$(e.I,t)&&e.O!==e.getUid()&&(e.O=e.getUid(),t(Ih(e)))}))}function Ah(e,t){return e.N.push(t),t.ia(function(){j(e.N,t)}),t}function Oh(){}function Dh(){this.a={},this.b=1e12}rh.prototype.mb=function(e){var t=null,n=this;return Jl(e),ph(this,function(){return e!=n.c.A?n.b.get(n.c,n.a).then(function(i){return t=i,oh(n,e)}).then(function(){if(n.c=lh(e),t)return n.b.set(n.c,t,n.a)}):xe()})},_(fh,Ut),_(vh,vt),_(mh,vt),e=fh.prototype,e.mb=function(e){return e=this.h.mb(e),Ah(this,e)},e.pa=function(e){this.W===e||this.m||(this.W=e,Ys(this.b,this.W),this.dispatchEvent(new vh(this.ea())))},e.ea=function(){return this.W},e.Sc=function(){var e=n.navigator;this.pa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.tc=function(e){this.G.push(e),Xs(this.b,i.a.SDK_VERSION?Ii(i.a.SDK_VERSION,this.G):null),this.dispatchEvent(new mh(this.G))},e.ya=function(){return z(this.G)},e.toJSON=function(){return{apiKey:xh(this).options.apiKey,authDomain:xh(this).options.authDomain,appName:xh(this).name,currentUser:kh(this)&&kh(this).C()}},e.vb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.ha=function(e,t,n,i){"signInViaPopup"==e&&this.g==i&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.xa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?g(this.ac,this):null},e.ac=function(e,t,n){var i=this;e={requestUri:e,postBody:n,sessionId:t},this.c&&(this.c.cancel(),this.c=null);var r=null,o=null,s=va(i.b,e).then(function(e){return r=ko(e),o=qr(e),e});return e=i.V.then(function(){return s}).then(function(e){return _h(i,e)}).then(function(){return tr({user:kh(i),credential:r,additionalUserInfo:o,operationType:"signIn"})}),Ah(this,e)},e.Kc=function(e){if(!Oi())return ke(new fr("operation-not-supported-in-this-environment"));var t=this,n=Wr(e.providerId),r=ji(),o=null;(!Li()||bi())&&xh(this).options.authDomain&&e.isOAuthProvider&&(o=hl(xh(this).options.authDomain,xh(this).options.apiKey,xh(this).name,"signInViaPopup",e,null,r,i.a.SDK_VERSION||null));var s=di(o,n&&n.Ba,n&&n.Aa);return n=yh(this).then(function(t){return Wu(t,s,"signInViaPopup",e,r,!!o)}).then(function(){return new be(function(e,n){t.ha("signInViaPopup",null,new fr("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=r,t.c=t.a.Ea(t,"signInViaPopup",s,r)})}).then(function(e){return s&&hi(s),e?tr(e):null}).s(function(e){throw s&&hi(s),e}),Ah(this,n)},e.Lc=function(e){if(!Oi())return ke(new fr("operation-not-supported-in-this-environment"));var t=this,n=yh(this).then(function(){return uh(t.h)}).then(function(){return t.a.Ca("signInViaRedirect",e)});return Ah(this,n)},e.fa=function(){if(!Oi())return ke(new fr("operation-not-supported-in-this-environment"));var e=this,t=yh(this).then(function(){return e.a.fa()}).then(function(e){return e?tr(e):null});return Ah(this,t)},e.Qc=function(e){if(!e)return ke(new fr("null-user"));var t=this,n={};n.apiKey=xh(this).options.apiKey,n.authDomain=xh(this).options.authDomain,n.appName=xh(this).name;var i=Zc(e,n,t.w,t.ya());return Ah(this,this.i.then(function(){if(xh(t).options.apiKey!=e.m)return i.reload()}).then(function(){return kh(t)&&e.uid==kh(t).uid?($c(kh(t),e),t.Z(e)):(wh(t,i),Nc(i),t.Z(i))}).then(function(){Ph(t)}))},e.nb=function(){var e=this,t=this.i.then(function(){return kh(e)?(wh(e,null),hh(e.h).then(function(){Ph(e)})):xe()});return Ah(this,t)},e.Mc=function(){var e=this;return dh(this.h,xh(this).options.authDomain).then(function(t){if(!e.m){var n;if(n=kh(e)&&t){n=kh(e).uid;var i=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==i&&null!==i&&""!==i&&n==i}if(n)return $c(kh(e),t),kh(e).F();(kh(e)||t)&&(wh(e,t),t&&(Nc(t),t.ba=e.w),e.a&&e.a.subscribe(e),Ph(e))}})},e.Z=function(e){return ch(this.h,e)},e.bc=function(){Ph(this),this.Z(kh(this))},e.jc=function(){this.nb()},e.kc=function(){this.nb()},e.mc=function(e){var t=this;this.addAuthTokenListener(function(){e.next(kh(t))})},e.nc=function(e){var t=this;Nh(this,function(){e.next(kh(t))})},e.vc=function(e,t,n){var r=this;return this.X&&i.a.Promise.resolve().then(function(){h(e)?e(kh(r)):h(e.next)&&e.next(kh(r))}),this.Tb(e,t,n)},e.uc=function(e,t,n){var r=this;return this.X&&i.a.Promise.resolve().then(function(){r.O=r.getUid(),h(e)?e(kh(r)):h(e.next)&&e.next(kh(r))}),this.Ub(e,t,n)},e.cc=function(e){var t=this,n=this.i.then(function(){return kh(t)?kh(t).F(e).then(function(e){return{accessToken:e}}):null});return Ah(this,n)},e.Nb=function(e){var t=this;return this.i.then(function(){return Sh(t,Ha(t.b,Va,{token:e}))}).then(function(e){var n=e.user;return Fc(n,"isAnonymous",!1),t.Z(n),e})},e.Ec=function(e){return Qi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Nb(e)},e.Fc=function(e,t){return Qi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Ob(e,t)},e.Ob=function(e,t){var n=this;return this.i.then(function(){return Sh(n,Ha(n.b,za,{email:e,password:t}))})},e.xb=function(e,t){var n=this;return this.i.then(function(){return Sh(n,Ha(n.b,wa,{email:e,password:t}))})},e.Wb=function(e,t){return Qi("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.xb(e,t)},e.Hc=function(e){return Qi("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Pa(e).then(function(e){return e.user})},e.Pa=function(e){var t=this;return this.i.then(function(){return Sh(t,e.la(t.b))})},e.Qa=function(){var e=this;return this.i.then(function(){var t=kh(e);if(t&&t.isAnonymous){var n=tr({providerId:null,isNewUser:!1});return tr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Sh(e,e.b.Qa()).then(function(t){var n=t.user;return Fc(n,"isAnonymous",!0),e.Z(n),t})})},e.Gc=function(){return Qi("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Qa()},e.getUid=function(){return kh(this)&&kh(this).uid||null},e.Vb=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&kh(this)&&Sc(kh(this))},e.Cc=function(e){var t=this;D(this.o,function(n){n==e&&t.u--}),0>this.u&&(this.u=0),0==this.u&&kh(this)&&xc(kh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.o.push(e),Ah(this,this.i.then(function(){t.m||$(t.o,e)&&e(Ih(t))}))},e.removeAuthTokenListener=function(e){U(this.o,function(t){return t==e})},e.delete=function(){this.m=!0;for(var e=0;e<this.N.length;e++)this.N[e].cancel("app-deleted");return this.N=[],this.h&&(e=this.h,e.b.removeListener(lh("local"),e.a,this.ka)),this.a&&(this.a.unsubscribe(this),this.a.Ya()),i.a.Promise.resolve()},e.Zb=function(e){return Qi("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),Ah(this,ra(this.b,e))},e.$b=function(e){return Ah(this,oa(this.b,e))},e.oc=function(e){return!!Eo(e)},e.lb=function(e,t){var n=this;return Ah(this,xe().then(function(){var e=new yr(t);if(!e.c)throw new fr("argument-error",wr+" must be true when sending sign in link to email");return Ir(e)}).then(function(t){return n.b.lb(e,t)}).then(function(){}))},e.Tc=function(e){return this.Ja(e).then(function(e){return e.data.email})},e.Za=function(e,t){return Ah(this,this.b.Za(e,t).then(function(){}))},e.Ja=function(e){return Ah(this,this.b.Ja(e).then(function(e){return new or(e)}))},e.Wa=function(e){return Ah(this,this.b.Wa(e).then(function(){}))},e.kb=function(e,t){var n=this;return Ah(this,xe().then(function(){return"undefined"===typeof t||se(t)?{}:Ir(new yr(t))}).then(function(t){return n.b.kb(e,t)}).then(function(){}))},e.Jc=function(e,t){return Ah(this,oc(this,e,t,g(this.Pa,this)))},e.Ic=function(e,t){var n=this;return Ah(this,xe().then(function(){var i=wo(e,t||si());return n.Pa(i)}))},Oh.prototype.render=function(){},Oh.prototype.reset=function(){},Oh.prototype.getResponse=function(){},Oh.prototype.execute=function(){};var Rh=null;function Lh(e,t){return(t=Mh(t))&&e.a[t]||null}function Mh(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Fh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Gn(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():kt(this.f,"click",this.i)}function $h(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function jh(){}Dh.prototype.render=function(e,t){return this.a[this.b.toString()]=new Fh(e,t),this.b++},Dh.prototype.reset=function(e){var t=Lh(this,e);e=Mh(e),t&&e&&(t.delete(),delete this.a[e])},Dh.prototype.getResponse=function(e){return(e=Lh(this,e))?e.getResponse():null},Dh.prototype.execute=function(e){(e=Lh(this,e))&&e.execute()},Fh.prototype.getResponse=function(){return $h(this),this.b},Fh.prototype.execute=function(){$h(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=Ci();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(i){}e.a=setTimeout(function(){if(e.a=null,e.b=null,n)try{n()}catch(i){}e.h&&e.execute()},6e4)},500))},Fh.prototype.delete=function(){$h(this),this.g=!0,clearTimeout(this.a),this.a=null,At(this.f,"click",this.i)},jh.prototype.g=function(){return Rh||(Rh=new Dh),xe(Rh)},jh.prototype.c=function(){};var Uh=null;function Vh(){this.b=n.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var zh=Pn("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Bh=new zi(3e4,6e4);Vh.prototype.g=function(e){var t=this;return new be(function(i,r){var o=setTimeout(function(){r(new fr("network-request-failed"))},Bh.get());if(!n.grecaptcha||e!==t.f&&!t.b){n[t.a]=function(){if(n.grecaptcha){t.f=e;var s=n.grecaptcha.render;n.grecaptcha.render=function(e,n){return e=s(e,n),t.b++,e},clearTimeout(o),i(n.grecaptcha)}else clearTimeout(o),r(new fr("internal-error"));delete n[t.a]};var s=On(zh,{onload:t.a,hl:e||""});xe(Ds(s)).s(function(){clearTimeout(o),r(new fr("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(o),i(n.grecaptcha)})},Vh.prototype.c=function(){this.b--};var Wh=null;function qh(e,t,i,r,o,s,a){if(Zi(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.m=t,this.g=null,a?(Uh||(Uh=new jh),a=Uh):(Wh||(Wh=new Vh),a=Wh),this.o=a,this.a=i||{theme:"light",type:"image"},this.h=[],this.a[Yh])throw new fr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Xh],!n.document)throw new fr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Gn(t)||!this.i&&Gn(t).hasChildNodes())throw new fr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new Vs(e,s||null,o||null),this.v=r||function(){return null};var l=this;this.l=[];var u=this.a[Hh];this.a[Hh]=function(e){if(Kh(l,e),"function"===typeof u)u(e);else if("string"===typeof u){var t=Ni(u,n);"function"===typeof t&&t(e)}};var c=this.a[Gh];this.a[Gh]=function(){if(Kh(l,null),"function"===typeof c)c();else if("string"===typeof c){var e=Ni(c,n);"function"===typeof e&&e()}}}var Hh="callback",Gh="expired-callback",Yh="sitekey",Xh="size";function Kh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(i){}}function Qh(e,t){U(e.l,function(e){return e==t})}function Jh(e,t){return e.h.push(t),t.ia(function(){j(e.h,t)}),t}function Zh(e){if(e.D)throw new fr("internal-error","RecaptchaVerifier instance has been destroyed.")}function ed(e,t,n){var r=!1;try{this.b=n||i.a.app()}catch(a){throw new fr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new fr("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().ya()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=i.a.SDK_VERSION?Ii(i.a.SDK_VERSION,s):null,qh.call(this,n,e,t,function(){try{var e=o.b.auth().ea()}catch(t){e=null}return e},s,Ur($r),r)}function td(e,t,n,i){e:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,s=0;s<t.length;s++)if(t[s].optional)o=!0;else{if(o)throw new fr("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=t.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=t[r].optional&&void 0===n[r],!t[r].M(n[r])&&!o){if(t=t[r],0>r||r>=nd.length)throw new fr("internal-error","Argument validator received an unsupported number of arguments.");n=nd[r],i=(i?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}i=null}}if(i)throw new fr("argument-error",e+" failed: "+i)}e=qh.prototype,e.za=function(){var e=this;return this.f?this.f:this.f=Jh(this,xe().then(function(){if(Di()&&!_i())return mi();throw new fr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.o.g(e.v())}).then(function(t){return e.g=t,Ha(e.u,Oa,{})}).then(function(t){e.a[Yh]=t.recaptchaSiteKey}).s(function(t){throw e.f=null,t}))},e.render=function(){Zh(this);var e=this;return Jh(this,this.za().then(function(){if(null===e.c){var t=e.m;if(!e.i){var n=Gn(t);t=Kn("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c}))},e.verify=function(){Zh(this);var e=this;return Jh(this,this.render().then(function(t){return new be(function(n){var i=e.g.getResponse(t);if(i)n(i);else{var r=function(t){t&&(Qh(e,r),n(t))};e.l.push(r),e.i&&e.g.execute(e.c)}})}))},e.reset=function(){Zh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Zh(this),this.D=!0,this.o.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=Gn(this.m);for(var t;t=e.firstChild;)e.removeChild(t)}},_(ed,qh);var nd="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function id(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:r}}function rd(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:o}}function od(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:d}}function sd(e,t){return{name:e||"",K:"a function",optional:!!t,M:h}}function ad(e,t){return{name:e||"",K:"null",optional:!!t,M:l}}function ld(){return{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}}}function ud(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof fh)}}}function cd(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof i.a.app.App)}}}function hd(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.la||!n)}}}function dd(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}}function pd(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&r(e.type)&&h(e.verify))}}}function fd(e,t,n,i){return{name:n||"",K:e.K+" or "+t.K,optional:!!i,M:function(n){return e.M(n)||t.M(n)}}}function vd(e,t){for(var n in t){var i=t[n].name;e[i]=yd(i,e[n],t[n].j)}}function md(e,t){for(var n in t){var i=t[n].name;i!==n&&Object.defineProperty(e,i,{get:y(function(e){return this[e]},n),set:y(function(e,t,n,i){td(e,[n],[i],!0),this[t]=i},i,n,t[n].tb),enumerable:!0})}}function gd(e,t,n,i){e[t]=yd(t,n,i)}function yd(e,t,n){function i(){var e=Array.prototype.slice.call(arguments);return td(o,n,e),t.apply(this,e)}if(!n)return t;var r,o=bd(e);for(r in t)i[r]=t[r];for(r in t.prototype)i.prototype[r]=t.prototype[r];return i}function bd(e){return e=e.split("."),e[e.length-1]}vd(fh.prototype,{Wa:{name:"applyActionCode",j:[id("code")]},Ja:{name:"checkActionCode",j:[id("code")]},Za:{name:"confirmPasswordReset",j:[id("code"),id("newPassword")]},xb:{name:"createUserWithEmailAndPassword",j:[id("email"),id("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[id("email"),id("password")]},Zb:{name:"fetchProvidersForEmail",j:[id("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[id("email")]},fa:{name:"getRedirectResult",j:[]},oc:{name:"isSignInWithEmailLink",j:[id("emailLink")]},uc:{name:"onAuthStateChanged",j:[fd(od(),sd(),"nextOrObserver"),sd("opt_error",!0),sd("opt_completed",!0)]},vc:{name:"onIdTokenChanged",j:[fd(od(),sd(),"nextOrObserver"),sd("opt_error",!0),sd("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[id("email"),fd(od("opt_actionCodeSettings",!0),ad(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[id("email"),od("actionCodeSettings")]},mb:{name:"setPersistence",j:[id("persistence")]},Pa:{name:"signInAndRetrieveDataWithCredential",j:[hd()]},Qa:{name:"signInAnonymously",j:[]},Gc:{name:"signInAnonymouslyAndRetrieveData",j:[]},Hc:{name:"signInWithCredential",j:[hd()]},Nb:{name:"signInWithCustomToken",j:[id("token")]},Ec:{name:"signInAndRetrieveDataWithCustomToken",j:[id("token")]},Ob:{name:"signInWithEmailAndPassword",j:[id("email"),id("password")]},Ic:{name:"signInWithEmailLink",j:[id("email"),id("emailLink",!0)]},Fc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[id("email"),id("password")]},Jc:{name:"signInWithPhoneNumber",j:[id("phoneNumber"),pd()]},Kc:{name:"signInWithPopup",j:[dd()]},Lc:{name:"signInWithRedirect",j:[dd()]},Qc:{name:"updateCurrentUser",j:[fd(function(e){return{name:"user",K:"an instance of Firebase User",optional:!!e,M:function(e){return!!(e&&e instanceof bc)}}}(),ad(),"user")]},nb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[id(null,!0)]},Sc:{name:"useDeviceLanguage",j:[]},Tc:{name:"verifyPasswordResetCode",j:[id("code")]}}),md(fh.prototype,{lc:{name:"languageCode",tb:fd(id(),ad(),"languageCode")}}),fh.Persistence=Ql,fh.Persistence.LOCAL="local",fh.Persistence.SESSION="session",fh.Persistence.NONE="none",vd(bc.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[rd("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[rd("opt_forceRefresh",!0)]},eb:{name:"linkAndRetrieveDataWithCredential",j:[hd()]},pc:{name:"linkWithCredential",j:[hd()]},qc:{name:"linkWithPhoneNumber",j:[id("phoneNumber"),pd()]},rc:{name:"linkWithPopup",j:[dd()]},sc:{name:"linkWithRedirect",j:[dd()]},gb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[hd()]},yc:{name:"reauthenticateWithCredential",j:[hd()]},zc:{name:"reauthenticateWithPhoneNumber",j:[id("phoneNumber"),pd()]},Ac:{name:"reauthenticateWithPopup",j:[dd()]},Bc:{name:"reauthenticateWithRedirect",j:[dd()]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[fd(od("opt_actionCodeSettings",!0),ad(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[id(null,!0)]},Pc:{name:"unlink",j:[id("provider")]},pb:{name:"updateEmail",j:[id("email")]},qb:{name:"updatePassword",j:[id("password")]},Rc:{name:"updatePhoneNumber",j:[hd("phone")]},rb:{name:"updateProfile",j:[od("profile")]}}),vd(Dh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vd(Oh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vd(be.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),md(ic.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",tb:rd("appVerificationDisabledForTesting")}}),vd(rc.prototype,{confirm:{name:"confirm",j:[id("verificationCode")]}}),gd(_o,"credential",function(e,t){return new bo(e,t)},[id("email"),id("password")]),vd(co.prototype,{ua:{name:"addScope",j:[id("scope")]},Da:{name:"setCustomParameters",j:[od("customOAuthParameters")]}}),gd(co,"credential",ho,[fd(id(),od(),"token")]),gd(_o,"credentialWithLink",wo,[id("email"),id("emailLink")]),vd(po.prototype,{ua:{name:"addScope",j:[id("scope")]},Da:{name:"setCustomParameters",j:[od("customOAuthParameters")]}}),gd(po,"credential",fo,[fd(id(),od(),"token")]),vd(vo.prototype,{ua:{name:"addScope",j:[id("scope")]},Da:{name:"setCustomParameters",j:[od("customOAuthParameters")]}}),gd(vo,"credential",mo,[fd(id(),fd(od(),ad()),"idToken"),fd(id(),ad(),"accessToken",!0)]),vd(go.prototype,{Da:{name:"setCustomParameters",j:[od("customOAuthParameters")]}}),gd(go,"credential",yo,[fd(id(),od(),"token"),id("secret",!0)]),vd(uo.prototype,{ua:{name:"addScope",j:[id("scope")]},credential:{name:"credential",j:[fd(id(),ad(),"idToken",!0),fd(id(),ad(),"accessToken",!0),fd(id(),ad(),"nonce",!0)]},Da:{name:"setCustomParameters",j:[od("customOAuthParameters")]}}),gd(So,"credential",xo,[id("verificationId"),id("verificationCode")]),vd(So.prototype,{Ua:{name:"verifyPhoneNumber",j:[id("phoneNumber"),pd()]}}),vd(fr.prototype,{toJSON:{name:"toJSON",j:[id(null,!0)]}}),vd(Lo.prototype,{toJSON:{name:"toJSON",j:[id(null,!0)]}}),vd(Ro.prototype,{toJSON:{name:"toJSON",j:[id(null,!0)]}}),vd(ed.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if("undefined"===typeof i.a||!i.a.INTERNAL||!i.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={Auth:fh,Error:fr};gd(e,"EmailAuthProvider",_o,[]),gd(e,"FacebookAuthProvider",co,[]),gd(e,"GithubAuthProvider",po,[]),gd(e,"GoogleAuthProvider",vo,[]),gd(e,"TwitterAuthProvider",go,[]),gd(e,"OAuthProvider",uo,[id("providerId")]),gd(e,"SAMLAuthProvider",lo,[id("providerId")]),gd(e,"PhoneAuthProvider",So,[ud()]),gd(e,"RecaptchaVerifier",ed,[fd(id(),ld(),"recaptchaContainer"),od("recaptchaParameters",!0),cd()]),i.a.INTERNAL.registerService("auth",function(e,t){return e=new fh(e),t({INTERNAL:{getUid:g(e.getUid,e),getToken:g(e.cc,e),addAuthTokenListener:g(e.Vb,e),removeAuthTokenListener:g(e.Cc,e)}}),e},e,function(e,t){if("create"===e)try{t.auth()}catch(n){}}),i.a.INTERNAL.extendNamespace({User:bc})}()}).apply("undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n("c8ba"))},bc3a:function(e,t,n){e.exports=n("cee4")},be13:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},c23d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("cd51"),r=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o="[DEFAULT]",s=[],a=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled||!1,this.options_=i.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){s.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){s=s.filter(function(t){return t!==e})}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed_(),this._automaticDataCollectionEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);var t=[];return Object.keys(e.services_).forEach(function(n){Object.keys(e.services_[n]).forEach(function(i){t.push(e.services_[n][i])})}),Promise.all(t.map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},e.prototype._getService=function(e,t){if(void 0===t&&(t=o),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==o?t:void 0,i=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=i}return this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;i.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(s.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),s=[])},e.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},e}();function l(){var e={},t={},n={},s={__esModule:!0,initializeApp:d,app:h,apps:null,Promise:Promise,SDK_VERSION:"5.8.1",INTERNAL:{registerService:f,createFirebaseNamespace:l,extendNamespace:v,createSubscribe:i.createSubscribe,ErrorFactory:i.ErrorFactory,removeApp:c,factories:t,useAsService:g,Promise:Promise,deepExtend:i.deepExtend}};function c(t){var n=e[t];m(n,"delete"),delete e[t]}function h(t){return t=t||o,r(e,t)||u("no-app",{name:t}),e[t]}function d(t,n){if(void 0===n&&(n={}),"object"!==typeof n||null===n){var i=n;n={name:i}}var l=n;void 0===l.name&&(l.name=o);var c=l.name;"string"===typeof c&&c||u("bad-app-name",{name:c+""}),r(e,c)&&u("duplicate-app",{name:c});var h=new a(t,l,s);return e[c]=h,m(h,"create"),h}function p(){return Object.keys(e).map(function(t){return e[t]})}function f(e,r,o,l,c){t[e]&&u("duplicate-service",{name:e}),t[e]=r,l&&(n[e]=l,p().forEach(function(e){l("create",e)}));var d=function(t){return void 0===t&&(t=h()),"function"!==typeof t[e]&&u("invalid-app-argument",{name:e}),t[e]()};return void 0!==o&&i.deepExtend(d,o),s[e]=d,a.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this._getService.bind(this,e);return i.apply(this,c?t:[])},d}function v(e){i.deepExtend(s,e)}function m(e,i){Object.keys(t).forEach(function(t){var r=g(e,t);null!==r&&n[r]&&n[r](i,e)})}function g(e,t){if("serverAuth"===t)return null;var n=t;e.options;return n}return i.patchProperty(s,"default",s),Object.defineProperty(s,"apps",{get:p}),i.patchProperty(h,"App",a),s}function u(e,t){throw h.create(e,t)}a.prototype.name&&a.prototype.options||a.prototype.delete||console.log("dc");var c={"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."},h=new i.ErrorFactory("app","Firebase",c),d=l();t.firebase=d,t.default=d},c345:function(e,t,n){"use strict";var i=n("c532"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(i.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}}),s):s}},c366:function(e,t,n){var i=n("6821"),r=n("9def"),o=n("77f1");e.exports=function(e){return function(t,n,s){var a,l=i(t),u=r(l.length),c=o(s,u);if(e&&n!=n){while(u>c)if(a=l[c++],a!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},c401:function(e,t,n){"use strict";var i=n("c532");e.exports=function(e,t,n){return i.forEach(n,function(n){e=n(e,t)}),e}},c532:function(e,t,n){"use strict";var i=n("1d2b"),r=n("044b"),o=Object.prototype.toString;function s(e){return"[object Array]"===o.call(e)}function a(e){return"[object ArrayBuffer]"===o.call(e)}function l(e){return"undefined"!==typeof FormData&&e instanceof FormData}function u(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function c(e){return"string"===typeof e}function h(e){return"number"===typeof e}function d(e){return"undefined"===typeof e}function p(e){return null!==e&&"object"===typeof e}function f(e){return"[object Date]"===o.call(e)}function v(e){return"[object File]"===o.call(e)}function m(e){return"[object Blob]"===o.call(e)}function g(e){return"[object Function]"===o.call(e)}function y(e){return p(e)&&g(e.pipe)}function b(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function _(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function w(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function E(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),s(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}function C(){var e={};function t(t,n){"object"===typeof e[n]&&"object"===typeof t?e[n]=C(e[n],t):e[n]=t}for(var n=0,i=arguments.length;n<i;n++)E(arguments[n],t);return e}function T(e,t,n){return E(t,function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t}),e}e.exports={isArray:s,isArrayBuffer:a,isBuffer:r,isFormData:l,isArrayBufferView:u,isString:c,isNumber:h,isObject:p,isUndefined:d,isDate:f,isFile:v,isBlob:m,isFunction:g,isStream:y,isURLSearchParams:b,isStandardBrowserEnv:w,forEach:E,merge:C,extend:T,trim:_}},c69a:function(e,t,n){e.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},c7ca:function(e,t,n){n("3a72")("observable")},c8af:function(e,t,n){"use strict";var i=n("c532");e.exports=function(e,t){i.forEach(e,function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])})}},ca5a:function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},cadf:function(e,t,n){"use strict";var i=n("9c6c"),r=n("d53b"),o=n("84f2"),s=n("6821");e.exports=n("01f9")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},cb7c:function(e,t,n){var i=n("d3f4");e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},cd1c:function(e,t,n){var i=n("e853");e.exports=function(e,t){return new(i(e))(t)}},cd51:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("9ab4"),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},l=function(e){var t=[],n=0,i=0;while(n<e.length){var r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){o=e[n++];var s=e[n++],a=e[n++],l=((7&r)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(1023&l))}else{o=e[n++],s=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return t.join("")},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<e.length;r+=3){var o=e[r],s=r+1<e.length,a=s?e[r+1]:0,l=r+2<e.length,u=l?e[r+2]:0,c=o>>2,h=(3&o)<<4|a>>4,d=(15&a)<<2|u>>6,p=63&u;l||(p=64,s||(d=64)),i.push(n[c],n[h],n[d],n[p])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):l(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<e.length;){var o=n[e.charAt(r++)],s=r<e.length,a=s?n[e.charAt(r)]:0;++r;var l=r<e.length,u=l?n[e.charAt(r)]:64;++r;var c=r<e.length,h=c?n[e.charAt(r)]:64;if(++r,null==o||null==a||null==u||null==h)throw Error();var d=o<<2|a>>4;if(i.push(d),64!=u){var p=a<<4&240|u>>2;if(i.push(p),64!=h){var f=u<<6&192|h;i.push(f)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){var t=a(e);return u.encodeByteArray(t,!0)},h=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e){return p(void 0,e)}function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)t.hasOwnProperty(i)&&(e[i]=p(e[i],t[i]));return e}function f(e,t,n){e[t]=n}var v=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,i){n?t.reject(n):t.resolve(i),"function"===typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,i))}},e}(),m=function(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""},g=function(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())},y=function(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]},b=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},_="FirebaseError",w=Error.captureStackTrace;function E(e){var t=w;return w=e,t}var C=function(){function e(e,t){if(this.code=e,this.message=t,w)w(this,T.prototype.create);else try{throw Error.apply(this,arguments)}catch(n){this.name=_,Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}return e}();C.prototype=Object.create(Error.prototype),C.prototype.constructor=C,C.prototype.name=_;var T=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return e.prototype.create=function(e,t){void 0===t&&(t={});var n,i=this.errors[e],r=this.service+"/"+e;n=void 0===i?"Error":i.replace(this.pattern,function(e,n){var i=t[n];return void 0!==i?i.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+r+").";var o=new C(r,n);for(var s in t)t.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(o[s]=t[s]);return o},e}();function S(e){return JSON.parse(e)}function x(e){return JSON.stringify(e)}var k=function(e){var t={},n={},i={},r="";try{var o=e.split(".");t=S(h(o[0])||""),n=S(h(o[1])||""),r=o[2],i=n["d"]||{},delete n["d"]}catch(s){}return{header:t,claims:n,data:i,signature:r}},I=function(e){var t,n,i=k(e).claims,r=Math.floor((new Date).getTime()/1e3);return"object"===typeof i&&(i.hasOwnProperty("nbf")?t=i["nbf"]:i.hasOwnProperty("iat")&&(t=i["iat"]),n=i.hasOwnProperty("exp")?i["exp"]:t+86400),r&&t&&n&&r>=t&&r<=n},P=function(e){var t=k(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t["iat"]:null},N=function(e){var t=k(e),n=t.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},A=function(e){var t=k(e).claims;return"object"===typeof t&&!0===t["admin"]},O=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},D=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},R=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},L=function(e,t){return R(t,function(t,n){e[t]=n}),e},M=function(e){return L({},e)},F=function(e){return"object"===typeof e&&null!==e},$=function(e){for(var t in e)return!1;return!0},j=function(e){var t=0;for(var n in e)t++;return t},U=function(e,t,n){var i={};for(var r in e)i[r]=t.call(n,e[r],r,e);return i},V=function(e,t,n){for(var i in e)if(t.call(n,e[i],i,e))return i},z=function(e,t,n){var i=V(e,t,n);return i&&e[i]},B=function(e){for(var t in e)return t},W=function(e){var t=[],n=0;for(var i in e)t[n++]=e[i];return t},q=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!t(n,e[n]))return!1;return!0},H=function(e){var t=[];return R(e,function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""},G=function(e){var t={},n=e.replace(/^\?/,"").split("&");return n.forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t},Y=function(){function e(){this.blockSize=-1}return e}(),X=function(e){function t(){var t=e.call(this)||this;t.chain_=[],t.buf_=[],t.W_=[],t.pad_=[],t.inbuf_=0,t.total_=0,t.blockSize=64,t.pad_[0]=128;for(var n=1;n<t.blockSize;++n)t.pad_[n]=0;return t.reset(),t}return i.__extends(t,e),t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var i=0;i<16;i++)n[i]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,s,a=this.chain_[0],l=this.chain_[1],u=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=c^l&(u^c),s=1518500249):(o=l^u^c,s=1859775393):i<60?(o=l&u|c&(l|u),s=2400959708):(o=l^u^c,s=3395469782);r=(a<<5|a>>>27)+o+h+s+n[i]&4294967295;h=c,c=u,u=4294967295&(l<<30|l>>>2),l=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);var n=t-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;while(i<t){if(0==o)while(i<=n)this.compress_(e,i),i+=this.blockSize;if("string"===typeof e){while(i<t)if(r[o]=e.charCodeAt(i),++o,++i,o==this.blockSize){this.compress_(r),o=0;break}}else while(i<t)if(r[o]=e[i],++o,++i,o==this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=t}},t.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)e[i]=this.chain_[n]>>r&255,++i;return e},t}(Y);function K(e,t){var n=new Q(e,t);return n.subscribe.bind(n)}var Q=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var i,r=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=Z(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=ee),void 0===i.error&&(i.error=ee),void 0===i.complete&&(i.complete=ee);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(e){}}),this.observers.push(i),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(i){"undefined"!==typeof console&&console.error&&console.error(i)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function J(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}}function Z(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,i=t;n<i.length;n++){var r=i[n];if(r in e&&"function"===typeof e[r])return!0}return!1}function ee(){}var te=function(e,t,n,i){var r;if(i<t?r="at least "+t:i>n&&(r=0===n?"none":"no more than "+n),r){var o=e+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".";throw new Error(o)}};function ne(e,t,n){var i="";switch(t){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var r=e+" failed: ";return r+=i+" argument ",r}function ie(e,t,n,i){if((!i||n)&&"string"!==typeof n)throw new Error(ne(e,t,i)+"must be a valid firebase namespace.")}function re(e,t,n,i){if((!i||n)&&"function"!==typeof n)throw new Error(ne(e,t,i)+"must be a valid function.")}function oe(e,t,n,i){if((!i||n)&&("object"!==typeof n||null===n))throw new Error(ne(e,t,i)+"must be a valid context object.")}var se=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);if(r>=55296&&r<=56319){var s=r-55296;i++,o(i<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(i)-56320;r=65536+(s<<10)+a}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},ae=function(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};t.assert=o,t.assertionError=s,t.base64=u,t.base64Decode=h,t.base64Encode=c,t.CONSTANTS=r,t.deepCopy=d,t.deepExtend=p,t.patchProperty=f,t.Deferred=v,t.getUA=m,t.isMobileCordova=g,t.isNodeSdk=b,t.isReactNative=y,t.ErrorFactory=T,t.FirebaseError=C,t.patchCapture=E,t.jsonEval=S,t.stringify=x,t.decode=k,t.isAdmin=A,t.issuedAtTime=P,t.isValidFormat=N,t.isValidTimestamp=I,t.clone=M,t.contains=O,t.every=q,t.extend=L,t.findKey=V,t.findValue=z,t.forEach=R,t.getAnyKey=B,t.getCount=j,t.getValues=W,t.isEmpty=$,t.isNonNullObject=F,t.map=U,t.safeGet=D,t.querystring=H,t.querystringDecode=G,t.Sha1=X,t.async=J,t.createSubscribe=K,t.errorPrefix=ne,t.validateArgCount=te,t.validateCallback=re,t.validateContextObject=oe,t.validateNamespace=ie,t.stringLength=ae,t.stringToByteArray=se},cd56:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},[i("h1",[e._v("My Schedule")]),i("div",{staticClass:"description"},[e._v("\n    Прогрессивное веб-приложение, для удобного создания и просмотра расписания занятий.\n  ")]),i("img",{staticClass:"img-responsive rounded mt-2 mb-2 pb-2",attrs:{src:n("e79e")}}),i("button",{staticClass:"btn btn-lg"},[i("i",{staticClass:"icon icon-search"}),i("router-link",{attrs:{to:"/search"}},[e._v("Поиск расписания")])],1)])},r=[],o={mounted(){const e=this.$store.state.default;e&&this.$router.push("schedule?id="+e)}},s=o,a=(n("884e"),n("2877")),l=Object(a["a"])(s,i,r,!1,null,"7b5f54e9",null);t["default"]=l.exports},ce10:function(e,t,n){var i=n("69a8"),r=n("6821"),o=n("c366")(!1),s=n("613b")("IE_PROTO");e.exports=function(e,t){var n,a=r(e),l=0,u=[];for(n in a)n!=s&&i(a,n)&&u.push(n);while(t.length>l)i(a,n=t[l++])&&(~o(u,n)||u.push(n));return u}},cee4:function(e,t,n){"use strict";var i=n("c532"),r=n("1d2b"),o=n("0a06"),s=n("2444");function a(e){var t=new o(e),n=r(o.prototype.request,t);return i.extend(n,o.prototype,t),i.extend(n,t),n}var l=a(s);l.Axios=o,l.create=function(e){return a(i.merge(s,e))},l.Cancel=n("7a77"),l.CancelToken=n("8df4"),l.isCancel=n("2e67"),l.all=function(e){return Promise.all(e)},l.spread=n("0df6"),e.exports=l,e.exports.default=l},d296:function(e,t,n){"use strict";var i=n("8196"),r=n.n(i);r.a},d2c8:function(e,t,n){var i=n("aae3"),r=n("be13");e.exports=function(e,t,n){if(i(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},d2f1:function(e,t,n){"use strict";var i=n("b717"),r=n.n(i);r.a},d3f4:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},d4c0:function(e,t,n){var i=n("0d58"),r=n("2621"),o=n("52a7");e.exports=function(e){var t=i(e),n=r.f;if(n){var s,a=n(e),l=o.f,u=0;while(a.length>u)l.call(e,s=a[u++])&&t.push(s)}return t}},d53b:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},d833:function(e,t,n){},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},d925:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},dd90:function(e,t,n){"use strict";var i=n("a9e0"),r=n.n(i);r.a},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(e){return i.exec(e).slice(1)};function o(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var s=r>=0?arguments[r]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,i="/"===s.charAt(0))}return t=n(o(t.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),r="/"===s(e,-1);return e=n(o(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&r&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),o=i(n.split("/")),s=Math.min(r.length,o.length),a=s,l=0;l<s;l++)if(r[l]!==o[l]){a=l;break}var u=[];for(l=a;l<r.length;l++)u.push("..");return u=u.concat(o.slice(a)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=r(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},t.basename=function(e,t){var n=r(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return r(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e11e:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e683:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},e79e:function(e,t,n){e.exports=n.p+"img/mockup.ab3580b6.png"},e853:function(e,t,n){var i=n("d3f4"),r=n("1169"),o=n("2b4c")("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)||(t=void 0),i(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},ea7b:function(e,t,n){"use strict";n("b7aa")},ecb4:function(e,t,n){},ecbf:function(e,t,n){n("14b9"),e.exports=n("8378").String.repeat},f559:function(e,t,n){"use strict";var i=n("5ca1"),r=n("9def"),o=n("d2c8"),s="startsWith",a=""[s];i(i.P+i.F*n("5147")(s),"String",{startsWith:function(e){var t=o(this,e,s),n=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return a?a.call(t,i,n):t.slice(n,n+i.length)===i}})},f6b4:function(e,t,n){"use strict";var i=n("c532");function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},f751:function(e,t,n){var i=n("5ca1");i(i.S+i.F,"Object",{assign:n("7333")})},fab2:function(e,t,n){var i=n("7726").document;e.exports=i&&i.documentElement},fcd1:function(e,t,n){"use strict";var i=n("a640"),r=n.n(i);r.a}}]);
//# sourceMappingURL=about.c94b3c63.js.map